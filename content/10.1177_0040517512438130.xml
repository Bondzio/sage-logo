<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article
  PUBLIC "-//NLM//DTD Journal Publishing DTD v2.3 20070202//EN" "journalpublishing.dtd">
<article xmlns:xlink="http://www.w3.org/1999/xlink" article-type="research-article">
<front>
<journal-meta>
<journal-id journal-id-type="publisher-id">TRJ</journal-id>
<journal-id journal-id-type="hwp">sptrj</journal-id>
<journal-title>Textile Research Journal</journal-title>
<issn pub-type="ppub">0040-5175</issn>
<issn pub-type="epub">1746-7748</issn>
<publisher>
<publisher-name>SAGE Publications</publisher-name>
<publisher-loc>Sage UK: London, England</publisher-loc>
</publisher>
</journal-meta>
<article-meta>
<article-id pub-id-type="doi">10.1177/0040517512438130</article-id>
<article-id pub-id-type="publisher-id">10.1177_0040517512438130</article-id>
<article-categories>
<subj-group subj-group-type="heading">
<subject>Original articles</subject>
</subj-group>
</article-categories>
<title-group>
<article-title>Automatic machine embroidery image color analysis system, part II: Application of the genetic algorithm in search of a repetitive pattern image</article-title>
</title-group>
<contrib-group>
<contrib contrib-type="author" corresp="yes">
<name><surname>Kuo</surname><given-names>Chung-Feng Jeffrey</given-names></name>
<xref ref-type="aff" rid="aff1-0040517512438130">1</xref>
<xref ref-type="corresp" rid="corresp1-0040517512438130"/>
</contrib>
<contrib contrib-type="author">
<name><surname>Jian</surname><given-names>Bo-Lin</given-names></name>
<xref ref-type="aff" rid="aff2-0040517512438130">2</xref>
</contrib>
<contrib contrib-type="author">
<name><surname>Tung</surname><given-names>Chun-Ping</given-names></name>
<xref ref-type="aff" rid="aff1-0040517512438130">1</xref>
</contrib>
<contrib contrib-type="author">
<name><surname>Wu</surname><given-names>Han-Cheng</given-names></name>
<xref ref-type="aff" rid="aff1-0040517512438130">1</xref>
</contrib>
</contrib-group>
<aff id="aff1-0040517512438130"><label>1</label>Graduate Institute of Automation &amp; Control, National Taiwan University of Science and Technology, Taipei, Taiwan, Republic of China</aff>
<aff id="aff2-0040517512438130"><label>2</label>Department of Materials Science &amp; Engineering, National Taiwan University of Science and Technology, Taipei, Taiwan, Republic of China</aff>
<author-notes>
<corresp id="corresp1-0040517512438130">Chung-Feng Jeffrey Kuo, Graduate Institute of Automation &amp; Control, National Taiwan University of Science and Technology, 43, Keelung Road, Sec. 4, Taipei, 106, Taiwan, Republic of China Email: <email>jeffreykuo@mail.ntust.edu.tw</email></corresp>
</author-notes>
<pub-date pub-type="epub-ppub">
<month>7</month>
<year>2012</year>
</pub-date>
<volume>82</volume>
<issue>11</issue>
<fpage>1099</fpage>
<lpage>1106</lpage>
<permissions>
<copyright-statement>© The Author(s) 2011 Reprints and permissions: sagepub.co.uk/journalsPermissions.nav</copyright-statement>
<copyright-year>2011</copyright-year>
<copyright-holder content-type="sage">SAGE Publications</copyright-holder>
</permissions>
<abstract>
<p>This series of studies proposed an automatic machine embroidery image color analysis system. Based on the machine embroidery image color separation system proposed in part I of this series of papers (Kuo CFJ, Jian BJ and Wu HC. Automatic machine embroidery image color analysis system, part I: using Gustafson-Kessel clustering algorithm in embroidery fabric color separation. <italic>Textil Res J</italic> 2011, submitted for publication), this paper presents an automatic repetitive pattern image recognition algorithm for machine embroidery. Firstly, the image pre-processing is implemented to eliminate image acquisition noise and smooth the texture of machine embroidery. After the completion of image pre-processing, the genetic algorithm (GA) is applied to obtain the color image of repetitive patterns. The novel fitness function proposed in this paper can increase the calculation of the color entropy value to improve the measurement block accuracy of color similarity in previous literature. When applied to the GA, the system can accurately identify and cut out images of repetitive patterns. In addition, since the proposed fitness function has been normalized, it can accurately calculate the optimal target function, indicating that the proposed algorithm can automatically and accurately identify and cut out the images of repetitive patterns in machine embroidery.</p>
</abstract>
<kwd-group>
<kwd>genetic algorithm</kwd>
<kwd>entropy value</kwd>
<kwd>repetitive pattern</kwd>
</kwd-group>
</article-meta>
</front>
<body>
<sec id="sec1-0040517512438130" sec-type="intro"><title>Introduction</title>
<p>Machine embroidery techniques are generally used for large-scale fabric production, and repetitive patterns are used to enrich the colors of the fabric. To recognize repetitive patterns in drafting, the images of repetitive patterns are usually judged by human eyes, and then separated; however, because embroidery products vary, recognition of patterns requires professionals, and is a time-consuming and laborious process. Hence, automatic computerized recognition of repetitive patterns and image separation is an important topic. This paper explored the algorithm for the automatic cutting of machine embroidery repetitive pattern images.</p>
<p>At present, template matching and the genetic algorithm (GA) are the main methods for the recognition of repetitive patterns in images. Template matching<sup><xref ref-type="bibr" rid="bibr1-0040517512438130">1</xref></sup> can effectively recognize the repetitive patterns. Mattoccia et al.<sup><xref ref-type="bibr" rid="bibr2-0040517512438130">2</xref></sup> proposed the baseband domain fast template matching method by using the enhanced bounded correlation coefficient to recognize the repetitive patterns. However, template matching requires the manual setting of the template, which makes it unsuitable for automatic acquisition of repetitive pattern images. Kuo et al.<sup><xref ref-type="bibr" rid="bibr3-0040517512438130">3</xref></sup><sup>–</sup><sup><xref ref-type="bibr" rid="bibr5-0040517512438130">5</xref></sup> and Kuo and Shih<sup><xref ref-type="bibr" rid="bibr6-0040517512438130">6</xref></sup> used the GA to find images of repetitive patterns of color similarity and area ratio characteristic without setting up the matching template. However, this may sometimes lead to misjudgment despite the above-mentioned advantage. This paper used the GA to determine the images of repetitive patterns. To overcome the problem of misjudgment of the GA in recognition of repetitive patterns, this paper proposed a novel fitness function that can be effectively applied in the automatic separation of machine embroidery repetitive patterns.</p></sec>
<sec id="sec2-0040517512438130"><title>Research framework</title>
<p>The architecture of this paper is as shown in <xref ref-type="fig" rid="fig1-0040517512438130">Figure 1</xref>. The experimental equipment included a Model EPSON PERFECTION 1650 scanner for image acquisition and MATLAB 7.12.0 and Visual C++ 6.0 software for hybrid compilation of programming, Visual C++ for writing the GA and MATLAB for operational image display. Firstly, a scanner was used to acquire the image of the embroidery fabric, and the image pre-processing method proposed in part I<sup><xref ref-type="bibr" rid="bibr7-0040517512438130">7</xref></sup> was applied to eliminate image noise and smooth the texture of the fabric. Next, this paper used the GA to determine the repetitive patterns, and proposed a novel fitness function to compare with the traditional fitness function for search of the repetitive images<sup><xref ref-type="bibr" rid="bibr3-0040517512438130">3</xref></sup><sup>–</sup><sup><xref ref-type="bibr" rid="bibr6-0040517512438130">6</xref></sup> in terms of repetitive pattern segmentation results.</p></sec>
<sec id="sec3-0040517512438130"><title>Research method</title>
<sec id="sec4-0040517512438130"><title>Hue, saturation and intensity color system</title>
<p>The traditional fitness function for search of repetitive images<sup><xref ref-type="bibr" rid="bibr3-0040517512438130">3</xref></sup><sup>–</sup><sup><xref ref-type="bibr" rid="bibr6-0040517512438130">6</xref></sup> adopts the hue, saturation and intensity (HSI) color system of 113 colors by quantification in color similarity measurement. The HSI color system can be converted from the red, green, blue (RGB) color system,<sup><xref ref-type="bibr" rid="bibr8-0040517512438130">8</xref></sup> as shown below:
<disp-formula id="disp-formula1-0040517512438130"><label>(1)</label><graphic xlink:href="10.1177_0040517512438130-eq1.tif"/></disp-formula>
<disp-formula id="disp-formula2-0040517512438130"><label>(2)</label><graphic xlink:href="10.1177_0040517512438130-eq2.tif"/></disp-formula>
<disp-formula id="disp-formula3-0040517512438130"><label>(3)</label><graphic xlink:href="10.1177_0040517512438130-eq3.tif"/></disp-formula>
<disp-formula id="disp-formula4-0040517512438130"><label>(4)</label><graphic xlink:href="10.1177_0040517512438130-eq4.tif"/></disp-formula>
where <italic>H</italic> is hue, <italic>S</italic> is saturation and <italic>I</italic> is intensity.</p></sec>
<sec id="sec5-0040517512438130"><title>Hue, saturation and value color system</title>
<p>The color similarity measurement of the novel fitness function for the GA proposed in this paper uses the hue, saturation and value (HSV) color system of 256 colors by quantification. The HSV color system is similar to the HSI color system, as shown in <xref ref-type="fig" rid="fig2-0040517512438130">Figure 2</xref>, with the difference of changing intensity <italic>I</italic> into the color value. The HSV color system can be converted from the RGB color system, and its hue <italic>H</italic> and saturation <italic>S</italic> are the same with those of the HSI color system. The conversion of color value <italic>V</italic> is expressed as
<disp-formula id="disp-formula5-0040517512438130"><label>(5)</label><graphic xlink:href="10.1177_0040517512438130-eq5.tif"/></disp-formula></p></sec>
<sec id="sec6-0040517512438130"><title>Color similarity measurement</title>
<p>Swain and Ballard<sup><xref ref-type="bibr" rid="bibr9-0040517512438130">9</xref></sup> proposed the histogram intersection method by using a histogram to calculate the number of pixels of colors to obtain histogram. With anti-rotation and anti-translation characteristics, it can be used to measure the color similarity of two images. After Shih<sup><xref ref-type="bibr" rid="bibr10-0040517512438130">10</xref></sup> used the HSI color system to calculate and measure color similarity by segmentation of 113 blocks, where <italic>I</italic> of the HSI color system of a pure color is equal to the lightness of a medium gray-white. In order to naturally describe the embroidery color, this paper proposed using the HSV color system to completely express the embroidery color, where the <italic>V</italic> of HSV of pure color is equal to the brightness of white.<sup><xref ref-type="bibr" rid="bibr8-0040517512438130">8</xref></sup> This paper attempted to use the HSV color system for the calculation and measurement of color similarity by quantitative interval segmentation into 256 blocks of 16 grades of H-component, 4 grades of S-component and 4 grades of V-component. The 256 blocks were numbered 1–256. The histogram of each image was obtained by the color membership block. Finally, the histogram intersection method was applied in the color similarity measurement and calculation. The value of color similarity was defined as
<disp-formula id="disp-formula6-0040517512438130"><label>(6)</label><graphic xlink:href="10.1177_0040517512438130-eq6.tif"/></disp-formula>
where <italic>CS</italic> is the value of color similarity (range 0–1, higher similarity when the value is approaching 1), <inline-formula id="ilm8-0040517512438130"><mml:math xmlns:mml="http://www.w3.org/1998/Math/MathML" display="inline" id="mml-mmath8-0040517512438130"><mml:mrow><mml:mi>H</mml:mi><mml:mrow><mml:mo>(</mml:mo><mml:msub><mml:mrow><mml:mi>I</mml:mi></mml:mrow><mml:mrow><mml:mi>Q</mml:mi></mml:mrow></mml:msub><mml:mo>,</mml:mo><mml:mi>j</mml:mi><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> is the <italic>j</italic> th bar value of the sub-image histogram <inline-formula id="ilm10-0040517512438130"><mml:math xmlns:mml="http://www.w3.org/1998/Math/MathML" display="inline" id="mml-mmath10-0040517512438130"><mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mi>I</mml:mi><mml:msub><mml:mrow/><mml:mrow><mml:mi>Q</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula>, <inline-formula id="ilm11-0040517512438130"><mml:math xmlns:mml="http://www.w3.org/1998/Math/MathML" display="inline" id="mml-mmath11-0040517512438130"><mml:mrow><mml:mi>H</mml:mi><mml:mrow><mml:mo>(</mml:mo><mml:msub><mml:mrow><mml:mi>I</mml:mi></mml:mrow><mml:mrow><mml:mi>D</mml:mi></mml:mrow></mml:msub><mml:mo>,</mml:mo><mml:mi>j</mml:mi><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> is the <italic>j</italic> th bar value of the original image histogram <inline-formula id="ilm13-0040517512438130"><mml:math xmlns:mml="http://www.w3.org/1998/Math/MathML" display="inline" id="mml-mmath13-0040517512438130"><mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mi>I</mml:mi><mml:msub><mml:mrow/><mml:mrow><mml:mi>D</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> and <italic>n</italic> is the total number of color encodings.</p></sec>
<sec id="sec7-0040517512438130"><title>Image entropy value theory</title>
<p>The information theory to define the information change level proposed by Shannon<sup><xref ref-type="bibr" rid="bibr11-0040517512438130">11</xref></sup> is termed the information entropy. The information theory is applied to a gray-scale image and the image information can be expressed by the following:<sup><xref ref-type="bibr" rid="bibr12-0040517512438130">12</xref></sup>
<disp-formula id="disp-formula7-0040517512438130"><label>(7)</label><graphic xlink:href="10.1177_0040517512438130-eq7.tif"/></disp-formula>
where <italic>N<sub>i</sub></italic> is the number of image pixels of strength at <italic>i</italic> and <italic>N<sub>s</sub></italic> is the total number of image pixels. The RGB component is input into the above equation to obtain the color image entropy value by the average of the calculation additional results. The entropy value can represent the average information amount of the color image. This paper uses the color image entropy value as the eigenvalue for parameters of GA fitness function, with which we expect to more accurately locate and determine image repetitive patterns.</p></sec></sec>
<sec id="sec8-0040517512438130"><title>Genetic algorithm</title>
<p>Proposed by John Holland,<sup><xref ref-type="bibr" rid="bibr13-0040517512438130">13</xref></sup> the GA is a function optimization method based on biological evolution procedure. The general optimal solution finding methods include the traditional method of point method and the random method.<sup><xref ref-type="bibr" rid="bibr14-0040517512438130">14</xref></sup> The point method tests all possible solutions to find the optimal solution. As a modification of the point method, the random method randomly produces possible solutions and finds the possible solutions by relevant information before determining the optimal solution. This paper uses the GA to determine repetitive patterns. The procedure is as shown in <xref ref-type="fig" rid="fig1-0040517512438130">Figure 1</xref>. To effectively improve the recognition rate of repetitive patterns, this paper proposes the novel fitness function for the GA, and compares it with the fitness functions discussed in previous literature<sup><xref ref-type="bibr" rid="bibr3-0040517512438130">3</xref></sup><sup>–</sup><sup><xref ref-type="bibr" rid="bibr6-0040517512438130">6</xref></sup> in order to verify the accuracy of applying the novel fitness function in the recognition of repetitive patterns.
<fig id="fig1-0040517512438130" position="float"><label>Figure 1.</label><caption><p>Research framework.</p></caption><graphic xlink:href="10.1177_0040517512438130-fig1.tif"/></fig>
<fig id="fig2-0040517512438130" position="float"><label>Figure 2.</label><caption><p>Hue, saturation and value (HSV) color system.</p></caption><graphic xlink:href="10.1177_0040517512438130-fig2.tif"/></fig>
</p>
<sec id="sec9-0040517512438130"><title>Gene encoding and decoding</title>
<p>The processing of GA parameter variables requires the encoding of the range of parameter setting to facilitate follow-up reproduction mechanism, crossover mechanism and mutation mechanism. After the computation of the GA, the decoding should be conducted. This paper uses the binary encoding and decoding to set the variables of the repetitive pattern images in the <italic>X</italic> and <italic>Y</italic> axes as Coordinate_X and Coordinate_Y. After the encoding, the coordinates transfer from decimal to binary: Coordinate_X and Coordinate_Y occupy nine bits each. The width and height of the original image of repetitive patterns are set as Width_X and Height_Y and the coordinates transfer from decimal to binary: the Width_X and Height_Y occupy seven bits each. Then repetitive pattern images of position, length and width are combined into a gene encoding set; hence, the gene encoding of each species has 32 codes;<sup><xref ref-type="bibr" rid="bibr6-0040517512438130">6</xref></sup> the gene encoding set is as shown in <xref ref-type="fig" rid="fig3-0040517512438130">Figure 3</xref>. The gene decoding is converted from binary back to decimal.
<fig id="fig3-0040517512438130" position="float"><label>Figure 3.</label><caption><p>The gene encoding set.</p></caption><graphic xlink:href="10.1177_0040517512438130-fig3.tif"/></fig></p></sec>
<sec id="sec10-0040517512438130"><title>Fitness function</title>
<p>The fitness function is the performance indicator of the GA. The performance of each generation after the change in genes is measured by fitness function calculation. In general, a higher fitness value represents better species quality and a higher chance of being selected. On the contrary, a lower fitness function value represents a greater opportunity of being eliminated. Shih<sup><xref ref-type="bibr" rid="bibr10-0040517512438130">10</xref></sup> used the fitness function in search of a repetitive pattern image with the following equation:
<disp-formula id="disp-formula8-0040517512438130"><label>(8)</label><graphic xlink:href="10.1177_0040517512438130-eq8.tif"/></disp-formula>
where <italic>E</italic> is the fitness function, <italic>CS</italic> is the color similarity of the two images by histogram intersection of HIS histogram of 113 colors and <italic>P</italic> is the area ratio of the original image divided by the sub-image.</p>
<p>This paper proposed a novel fitness function for the application in the GA to search for the repetitive patterns of machine embroidery, and the equation is as follows:
<disp-formula id="disp-formula9-0040517512438130"><label>(9)</label><graphic xlink:href="10.1177_0040517512438130-eq9.tif"/></disp-formula>
where <inline-formula id="ilm21-0040517512438130"><mml:math xmlns:mml="http://www.w3.org/1998/Math/MathML" display="inline" id="mml-mmath21-0040517512438130"><mml:mrow><mml:msub><mml:mrow><mml:mi>CS</mml:mi></mml:mrow><mml:mrow><mml:mi>new</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:math></inline-formula> is the color similarity of the two images obtained from the histogram intersection by using the HSV histogram of 256 colors. <italic>SI<sub>Q</sub></italic> is the original image area (in pixels), <italic>SI<sub>D</sub></italic> is the sub-image area (in pixels), <italic>EI<sub>Q</sub></italic> is the entropy value of the original color image and <italic>EI<sub>D</sub></italic> is the entropy value of the color sub-image. The numerical analysis of the novel fitness function proposed in this paper can be divided into three steps.</p>
<p>Step 1: the numerical analysis of color similarity, and the maximal and minimal value range of color similarity can be known as [0, 1].</p>
<p>Step 2: the numerical analysis of image area ratio. The division of the original image area by the area of sub-image is the area ratio. The minimal area ratio is 1 when the original image area equals the area of the sub-image, and the area ratio is the maximal when the sub-image area is 1. Hence, the maximal value of area ratio equals the original image area. To ensure that the results fall in the range of [0, 1], the following maximal and minimal normalization equation is used:
<disp-formula id="disp-formula10-0040517512438130"><label>(10)</label><graphic xlink:href="10.1177_0040517512438130-eq10.tif"/></disp-formula>
where <inline-formula id="ilm26-0040517512438130"><mml:math xmlns:mml="http://www.w3.org/1998/Math/MathML" display="inline" id="mml-mmath26-0040517512438130"><mml:mrow><mml:msup><mml:mrow><mml:mi>v</mml:mi></mml:mrow><mml:mrow><mml:mo>'</mml:mo></mml:mrow></mml:msup></mml:mrow></mml:math></inline-formula> is the value after normalization, <italic>v</italic> is the original value, <inline-formula id="ilm28-0040517512438130"><mml:math xmlns:mml="http://www.w3.org/1998/Math/MathML" display="inline" id="mml-mmath28-0040517512438130"><mml:mrow><mml:munder><mml:mo>max</mml:mo><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:munder></mml:mrow></mml:math></inline-formula> is the maximal value of <italic>v</italic>, <inline-formula id="ilm30-0040517512438130"><mml:math xmlns:mml="http://www.w3.org/1998/Math/MathML" display="inline" id="mml-mmath30-0040517512438130"><mml:mrow><mml:munder><mml:mo>min</mml:mo><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:munder></mml:mrow></mml:math></inline-formula> is the minimal value of <italic>v</italic>, <inline-formula id="ilm32-0040517512438130"><mml:math xmlns:mml="http://www.w3.org/1998/Math/MathML" display="inline" id="mml-mmath32-0040517512438130"><mml:mrow><mml:msub><mml:mrow><mml:mi>new</mml:mi></mml:mrow><mml:mrow><mml:munder><mml:mo>max</mml:mo><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:munder></mml:mrow></mml:msub></mml:mrow></mml:math></inline-formula> is the maximal value of the range after normalization and <inline-formula id="ilm33-0040517512438130"><mml:math xmlns:mml="http://www.w3.org/1998/Math/MathML" display="inline" id="mml-mmath33-0040517512438130"><mml:mrow><mml:msub><mml:mrow><mml:mi>new</mml:mi></mml:mrow><mml:mrow><mml:munder><mml:mo>min</mml:mo><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:munder></mml:mrow></mml:msub></mml:mrow></mml:math></inline-formula> is the minimal value after normalization. According to the area ratio characteristic, the maximal area ratio is the area of the original image and the minimal value is 1. The maximal value after normalization is 1 and the minimal value after normalization is 0. The calculation results of inputting them into the maximal and minimal normalization equations are included into the definition of fitness function as below:
<disp-formula id="disp-formula11-0040517512438130"><label>(11)</label><graphic xlink:href="10.1177_0040517512438130-eq11.tif"/></disp-formula>
</p>
<p>Step 3: the inference from information theory to image. Since this paper stores the image color components by 8-bit codes, the maximal entropy value is 8 and the minimal value is 0. To obtain more accurately the detailed information of images to reflect different results by considering details and the entropy value of the original image, this paper uses the moderate entropy definition proposed by Zhang<sup><xref ref-type="bibr" rid="bibr15-0040517512438130">15</xref></sup> as below:
<disp-formula id="disp-formula12-0040517512438130"><label>(12)</label><graphic xlink:href="10.1177_0040517512438130-eq12.tif"/></disp-formula>
where <italic>E<sub>C</sub></italic> is the moderated entropy, <italic>E<sub>N</sub></italic> is the information entropy of the entire image and <italic>E<sub>L</sub></italic> is the information entropy of local image. In the above equation, the maximal <italic>E<sub>C</sub></italic> value is 8 and the minimal value is 0. This paper normalizes the range from [0, 8] to [0, 1] according to the principle of moderate entropy by replacing coefficient 2 with coefficient 0.25, as shown below:
<disp-formula id="disp-formula13-0040517512438130"><label>(13)</label><graphic xlink:href="10.1177_0040517512438130-eq13.tif"/></disp-formula>
</p>
<p>By the numerical analysis of the above fitness function, we define the target function <italic>J</italic> as the reciprocal of the fitness function, as shown below:
<disp-formula id="disp-formula14-0040517512438130"><label>(14)</label><graphic xlink:href="10.1177_0040517512438130-eq14.tif"/></disp-formula>
</p>
<p>Since the proposed fitness function is the result of normalization, the maximal value of the fitness function is 3 and the minimal value is 0, and the optimal target function value is 1/3.</p></sec>
<sec id="sec11-0040517512438130"><title>Reproduction mechanism</title>
<p>The process of producing novel generations of strong vitality by selection is known as the reproduction mechanism. Proposed by Holland,<sup><xref ref-type="bibr" rid="bibr13-0040517512438130">13</xref></sup> roulette wheel selection regards each gene as a block of the roulette, and determines its reproduction probability according to the ratio of each individual’s fitness function value in the total addition of the fitness function value. As shown in <xref ref-type="fig" rid="fig4-0040517512438130">Figure 4</xref>, the one with higher fitness function value has a higher probability of reproduction, and vice versa. The equation is as follows:
<disp-formula id="disp-formula15-0040517512438130"><label>(15)</label><graphic xlink:href="10.1177_0040517512438130-eq15.tif"/></disp-formula>
where <italic>N<sub>i</sub></italic> is the number of <italic>i</italic> th species that will be reproduced, <italic>f<sub>i</sub></italic> is the fitness function value of <italic>i</italic> th species, <italic>N</italic> is the total number of each species and <inline-formula id="ilm44-0040517512438130"><mml:math xmlns:mml="http://www.w3.org/1998/Math/MathML" display="inline" id="mml-mmath44-0040517512438130"><mml:mrow><mml:mo>∑</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:math></inline-formula> is the addition of the overall species fitness function values.
<fig id="fig4-0040517512438130" position="float"><label>Figure 4.</label><caption><p>Roulette wheel selection method.</p></caption><graphic xlink:href="10.1177_0040517512438130-fig4.tif"/></fig></p>
<p>The competitive selection and roulette wheel selection methods are basically the same. However, the competitive selection method has an additional pair of individuals according to the roulette wheel selection for competition. The individuals of high fitness function values will be selected until satisfaction. The error of the competitive selection method will be smaller than that of the roulette wheel selection method. Hence, this paper uses the competitive selection algorithm to reduce the error of the roulette wheel selection method.</p></sec>
<sec id="sec12-0040517512438130"><title>Crossover mechanism</title>
<p>The crossover mechanism randomly selects two gene series from the population for bit information exchange to produce new gene series. Namely, it randomly selects two parent populations to generate the offspring population by combination. The offspring population includes parts of the characteristics of the parental populations to get offspring populations of higher fitness function value. Hence, this paper adopts the single-point crossover method to randomly select from the populations two individuals as the parental gene series. Then, it randomly selects a point, and the gene series to the right of the point can exchange information to create new offspring. The single-point crossover is as shown in <xref ref-type="fig" rid="fig5-0040517512438130">Figure 5</xref>.
<fig id="fig5-0040517512438130" position="float"><label>Figure 5.</label><caption><p>Single-point crossover.</p></caption><graphic xlink:href="10.1177_0040517512438130-fig5.tif"/></fig></p></sec>
<sec id="sec13-0040517512438130"><title>Mutation mechanism</title>
<p>The mutation mechanism is mainly used to avoid the local optimal solution of the GA, and hence it has to produce new species. The mutation mechanism will carry out mutation by determining the individual gene bit according to probability. The single-point mutation is to randomly select a bit from the gene series and change it by supplemented operation, as shown in <xref ref-type="fig" rid="fig6-0040517512438130">Figure 6</xref>.
<fig id="fig6-0040517512438130" position="float"><label>Figure 6.</label><caption><p>Random single-point mutation.</p></caption><graphic xlink:href="10.1177_0040517512438130-fig6.tif"/></fig></p></sec></sec>
<sec id="sec14-0040517512438130"><title>Experiment results and discussion</title>
<p>The purpose of this experiment is to verify and discuss the application of the proposed fitness function in the GA to obtain the repetitive patterns and compare them with the traditional fitness function for searching for repetitive images.<sup><xref ref-type="bibr" rid="bibr3-0040517512438130">3</xref></sup> This paper used two originally identical images with repetitive patterns of cherries (Sample 1) and penguins (Sample 2), as shown in Figures <xref ref-type="fig" rid="fig7-0040517512438130">7</xref> and <xref ref-type="fig" rid="fig8-0040517512438130">8</xref>, respectively. The image pre-processing, as previously described, eliminated the image noise and smoothed the texture, as shown in Figures <xref ref-type="fig" rid="fig9-0040517512438130">9</xref> and <xref ref-type="fig" rid="fig10-0040517512438130">10</xref>, to determine the color repetitive image performance by the GA for comparison.
<fig id="fig7-0040517512438130" position="float"><label>Figure 7.</label><caption><p>Original image of Sample 1, sized 600 × 346 pixels.</p></caption><graphic xlink:href="10.1177_0040517512438130-fig7.tif"/></fig>
<fig id="fig8-0040517512438130" position="float"><label>Figure 8.</label><caption><p>Original image of Sample 2, sized 600 × 266 pixels.</p></caption><graphic xlink:href="10.1177_0040517512438130-fig8.tif"/></fig>
<fig id="fig9-0040517512438130" position="float"><label>Figure 9.</label><caption><p>Pre-processed image (Sample 1).</p></caption><graphic xlink:href="10.1177_0040517512438130-fig9.tif"/></fig>
<fig id="fig10-0040517512438130" position="float"><label>Figure 10.</label><caption><p>Pre-processed image (Sample 2).</p></caption><graphic xlink:href="10.1177_0040517512438130-fig10.tif"/></fig>
</p>
<p>Regarding the differences of the proposed novel fitness function and traditional fitness functions mentioned in related literature,<sup><xref ref-type="bibr" rid="bibr3-0040517512438130">3</xref></sup><sup>–</sup><sup><xref ref-type="bibr" rid="bibr6-0040517512438130">6</xref></sup> this paper adopted the HSV color system of 256 blocks to calculate the color similarity. The results showed that the method produced higher color accuracy than that of the HSI color system of 113 blocks. It also increased its image information entropy value to determine the image details to more accurately find the repetitive patterns. The gene convergence graphs based on the original fitness function in the GA of Sample 1 and Sample 2 are as shown in Figures <xref ref-type="fig" rid="fig11-0040517512438130">11</xref> and <xref ref-type="fig" rid="fig12-0040517512438130">12</xref>, respectively. The gene convergence graphs of using the novel fitness function in the GA is as shown in Figures <xref ref-type="fig" rid="fig13-0040517512438130">13</xref> and <xref ref-type="fig" rid="fig14-0040517512438130">14</xref>. The comparison of the gene convergence graphs indicates that the novel fitness function can converge faster, and find the repetitive patterns quicker. The search results on the repetitive patterns of Sample 1, as shown in Figures <xref ref-type="fig" rid="fig15-0040517512438130">15</xref> and <xref ref-type="fig" rid="fig16-0040517512438130">16</xref>, indicate that the original fitness function cannot segment the entire cherry pattern. The proposed fitness function can effectively select the repetitive patterns and cut out the entire cherry pattern. The search results on the repetitive patterns of Sample 2, as shown in Figures <xref ref-type="fig" rid="fig17-0040517512438130">17</xref> and <xref ref-type="fig" rid="fig18-0040517512438130">18</xref>, are similar to the results of Sample 1. The original fitness function cannot correctly cut out the entire penguin pattern, while the novel fitness function can effectively select the repetitive patterns and cut out the penguin pattern completely. The results confirm that the novel fitness function gives better performance.
<fig id="fig11-0040517512438130" position="float"><label>Figure 11.</label><caption><p>Original fitness function gene convergence graph (Sample 1).</p></caption><graphic xlink:href="10.1177_0040517512438130-fig11.tif"/></fig>
<fig id="fig12-0040517512438130" position="float"><label>Figure 12.</label><caption><p>Original fitness function gene convergence graph (Sample 2).</p></caption><graphic xlink:href="10.1177_0040517512438130-fig12.tif"/></fig>
<fig id="fig13-0040517512438130" position="float"><label>Figure 13.</label><caption><p>Novel fitness function gene convergence graph (Sample 1).</p></caption><graphic xlink:href="10.1177_0040517512438130-fig13.tif"/></fig>
<fig id="fig14-0040517512438130" position="float"><label>Figure 14.</label><caption><p>Novel fitness function gene convergence graph (Sample 2).</p></caption><graphic xlink:href="10.1177_0040517512438130-fig14.tif"/></fig>
<fig id="fig15-0040517512438130" position="float"><label>Figure 15.</label><caption><p>Repetitive patterns found by the original fitness function, sized 150 × 190 pixel (Sample 1).</p></caption><graphic xlink:href="10.1177_0040517512438130-fig15.tif"/></fig>
<fig id="fig16-0040517512438130" position="float"><label>Figure 16.</label><caption><p>Repetitive patterns found by the novel fitness function, sized 253 × 190 pixels (Sample 1).</p></caption><graphic xlink:href="10.1177_0040517512438130-fig16.tif"/></fig>
<fig id="fig17-0040517512438130" position="float"><label>Figure 17.</label><caption><p>Repetitive patterns found by the original fitness function, sized 150 × 190 pixels (Sample 2).</p></caption><graphic xlink:href="10.1177_0040517512438130-fig17.tif"/></fig>
<fig id="fig18-0040517512438130" position="float"><label>Figure 18.</label><caption><p>Repetitive patterns found by the novel fitness function, sized 207 × 190 pixels (Sample 2).</p></caption><graphic xlink:href="10.1177_0040517512438130-fig18.tif"/></fig></p></sec>
<sec id="sec15-0040517512438130" sec-type="conclusions"><title>Conclusions</title>
<p>This paper proposed a novel fitness function for the application in the GA to find the images of repetitive patterns, and discussed the effect of repetitive pattern image identification. The experimental results indicated that the traditional method of using the GA in identifying the repetitive pattern images requires longer convergence time. This paper used the competitive selection method of the GA to shorten calculation time and identify the images of repetitive images more accurately. Meanwhile, the novel fitness function has been normalized and, thus, it can calculate the results of the optimal target function more accurately, in order to avoid misjudgment of the GA in search of repetitive patterns. The machine embroidery automatic repetitive pattern image search system can be integrated with automatic manufacturing equipment to improve the automation of machine embroidery.</p></sec>
</body>
<back>
<sec id="sec16-0040517512438130"><title>Funding</title>
<p>The research was supported by the National Science Council of the Republic of China (grant No. 97-2221-E-011-030-MY3).</p></sec>
<ref-list>
<title>References</title>
<ref id="bibr1-0040517512438130"><label>1.</label><citation citation-type="book"><person-group person-group-type="author"><name><surname>Schalkoff</surname><given-names>RJ</given-names></name></person-group>. <source>Digital image processing and computer vision</source>, <edition>1st edn</edition>. <publisher-loc>New York</publisher-loc>: <publisher-name>John Wiley &amp; Sons Inc</publisher-name>, <year>1989</year>; <fpage>279</fpage>–<lpage>286</lpage>.</citation></ref>
<ref id="bibr2-0040517512438130"><label>2.</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Mattoccia</surname><given-names>S</given-names></name><name><surname>Tombari</surname><given-names>F</given-names></name><name><surname>Di Stefano</surname><given-names>L</given-names></name></person-group>. <article-title>Fast full-search equivalent template matching by enhanced bounded correlation</article-title>. <source>IEEE Trans Image Process</source> <year>2008</year>; <volume>17</volume>: <fpage>528</fpage>–<lpage>538</lpage>.</citation></ref>
<ref id="bibr3-0040517512438130"><label>3.</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Kuo</surname><given-names>CFJ</given-names></name><name><surname>Su</surname><given-names>TL</given-names></name><name><surname>Huang</surname><given-names>YJ</given-names></name></person-group>. <article-title>Computerized color separation system for printed fabrics by using backward-propagation neural network</article-title>. <source>Fibers Polym</source> <year>2007</year>; <volume>8</volume>: <fpage>529</fpage>–<lpage>536</lpage>.</citation></ref>
<ref id="bibr4-0040517512438130"><label>4.</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Kuo</surname><given-names>CFJ</given-names></name><name><surname>Huang</surname><given-names>YJ</given-names></name><name><surname>Su</surname><given-names>TL</given-names></name></person-group>. <article-title>Computerized color distinguishing system for color printed fabric by using the approach of probabilistic neural network</article-title>. <source>Polym Plast Technol Eng</source> <year>2008</year>; <volume>47</volume>: <fpage>264</fpage>–<lpage>272</lpage>.</citation></ref>
<ref id="bibr5-0040517512438130"><label>5.</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Kuo</surname><given-names>CFJ</given-names></name><name><surname>Hsu</surname><given-names>CTM</given-names></name><name><surname>Shih</surname><given-names>CY</given-names></name></person-group>. <article-title>Automatic pattern recognition and color separation of embroidery fabric</article-title>. <source>Textil Res J</source> <year>2011</year>; <volume>81</volume>: <fpage>1145</fpage>–<lpage>1157</lpage>.</citation></ref>
<ref id="bibr6-0040517512438130"><label>6.</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Kuo</surname><given-names>CFJ</given-names></name><name><surname>Shih</surname><given-names>CY</given-names></name></person-group>. <article-title>Printed fabric computerized automatic color separating system</article-title>. <source>Textil Res J</source> <year>2010</year>; <volume>81</volume>: <fpage>706</fpage>–<lpage>713</lpage>.</citation></ref>
<ref id="bibr7-0040517512438130"><label>7.</label><citation citation-type="other"><comment>Kuo CFJ, Jian BJ, Wu HC and Peng KC. Automatic machine embroidery image color analysis system, part I: using Gustafson-Kessel clustering algorithm in embroidery fabric color separation. <italic>Textil Res J</italic> 2012, Accepted for publication. (DOI: 10.1177/0040517511435012)</comment>.</citation></ref>
<ref id="bibr8-0040517512438130"><label>8.</label><citation citation-type="book"><person-group person-group-type="author"><name><surname>Plataniotis</surname><given-names>KN</given-names></name><name><surname>Venetsanopoulos</surname><given-names>AN</given-names></name></person-group>. <source>Color image processing and applications</source>, <edition>1st edn</edition>. <publisher-loc>New York</publisher-loc>: <publisher-name>Springer</publisher-name>, <year>2000</year>; <fpage>9</fpage>–<lpage>13</lpage>.</citation></ref>
<ref id="bibr9-0040517512438130"><label>9.</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Swain</surname><given-names>MJ</given-names></name><name><surname>Ballard</surname><given-names>DH</given-names></name></person-group>. <article-title>Color indexing</article-title>. <source>Int J Comput Vision</source> <year>1991</year>; <volume>7</volume>: <fpage>11</fpage>–<lpage>32</lpage>.</citation></ref>
<ref id="bibr10-0040517512438130"><label>10.</label><citation citation-type="other"><comment>Shih CY. <italic>Polymer engineering, the automatic image analysis system for printed fabrics</italic>. PhD Thesis, National Taiwan University of Science and Technology, 2006</comment>.</citation></ref>
<ref id="bibr11-0040517512438130"><label>11.</label><citation citation-type="other"><comment>Shannon CE. A mathematical theory of communication. <italic>Bell system Technical Journal</italic> 1948; 27: 379–423</comment>.</citation></ref>
<ref id="bibr12-0040517512438130"><label>12.</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Hummel</surname><given-names>RA</given-names></name></person-group>. <article-title>Histogram modification techniques</article-title>. <source>Comput Graph Image Process</source> <year>1974</year>; <volume>4</volume>: <fpage>209</fpage>–<lpage>224</lpage>.</citation></ref>
<ref id="bibr13-0040517512438130"><label>13.</label><citation citation-type="book"><person-group person-group-type="author"><name><surname>Holland</surname><given-names>J</given-names></name></person-group>. <source>Adaptation in natural and artificial systems</source>. <publisher-loc>Ann Arbor, MI</publisher-loc>: <publisher-name>The University of Michigan Press</publisher-name>, <year>1975</year>.</citation></ref>
<ref id="bibr14-0040517512438130"><label>14.</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Tsutsui</surname><given-names>S</given-names></name><name><surname>Ghosh</surname><given-names>A</given-names></name></person-group>. <article-title>Genetic algorithms with a robust solution searching scheme</article-title>. <source>IEEE Trans Evol Comput</source> <year>1997</year>; <volume>1</volume>: <fpage>201</fpage>–<lpage>208</lpage>.</citation></ref>
<ref id="bibr15-0040517512438130"><label>15.</label><citation citation-type="other"><comment>Zhang L. <italic>Signal and information processing, analysis of feature of target based on double infrared bands image and research of method of fusion</italic>. Master’s Thesis, North University of China, 2007</comment>.</citation></ref>
</ref-list>
</back>
</article>