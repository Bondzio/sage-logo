<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article
  PUBLIC "-//NLM//DTD Journal Publishing DTD v2.3 20070202//EN" "journalpublishing.dtd">
<article xmlns:xlink="http://www.w3.org/1999/xlink" article-type="research-article">
<front>
<journal-meta>
<journal-id journal-id-type="publisher-id">TRJ</journal-id>
<journal-id journal-id-type="hwp">sptrj</journal-id>
<journal-title>Textile Research Journal</journal-title>
<issn pub-type="ppub">0040-5175</issn>
<issn pub-type="epub">1746-7748</issn>
<publisher>
<publisher-name>SAGE Publications</publisher-name>
<publisher-loc>Sage UK: London, England</publisher-loc>
</publisher>
</journal-meta>
<article-meta>
<article-id pub-id-type="doi">10.1177/0040517511435012</article-id>
<article-id pub-id-type="publisher-id">10.1177_0040517511435012</article-id>
<article-categories>
<subj-group subj-group-type="heading">
<subject>Original articles</subject>
</subj-group>
</article-categories>
<title-group>
<article-title>Automatic machine embroidery image color analysis system. Part I: Using Gustafson-Kessel clustering algorithm in embroidery fabric color separation</article-title>
</title-group>
<contrib-group>
<contrib contrib-type="author" corresp="yes">
<name><surname>Kuo</surname><given-names>Chung-Feng Jeffrey</given-names></name>
<xref ref-type="aff" rid="aff1-0040517511435012">1</xref>
<xref ref-type="corresp" rid="corresp1-0040517511435012"/>
</contrib>
<contrib contrib-type="author">
<name><surname>Jian</surname><given-names>Bo-Lin</given-names></name>
<xref ref-type="aff" rid="aff2-0040517511435012">2</xref>
</contrib>
<contrib contrib-type="author">
<name><surname>Wu</surname><given-names>Han-Cheng</given-names></name>
<xref ref-type="aff" rid="aff1-0040517511435012">1</xref>
</contrib>
<contrib contrib-type="author">
<name><surname>Peng</surname><given-names>Kai-Ching</given-names></name>
<xref ref-type="aff" rid="aff1-0040517511435012">1</xref>
</contrib>
</contrib-group>
<aff id="aff1-0040517511435012"><label>1</label>Graduate Institute of Automation &amp; Control, National Taiwan University of Science and Technology, Taipei, 106, Taiwan, Republic of China</aff>
<aff id="aff2-0040517511435012"><label>2</label>Department of Materials Science &amp; Engineering, National Taiwan University of Science and Technology, Taipei, 106, Taiwan, Republic of China.</aff>
<author-notes>
<corresp id="corresp1-0040517511435012">Chung-Feng Jeffrey Kuo, Graduate Institute of Automation &amp; Control, National Taiwan University of Science and Technology, 43, Keelung Road, Sec. 4, Taipei, 106, Taiwan, Republic of China Email: <email>jeffreykuo@mail.ntust.edu.tw</email></corresp>
</author-notes>
<pub-date pub-type="epub-ppub">
<month>4</month>
<year>2012</year>
</pub-date>
<volume>82</volume>
<issue>6</issue>
<fpage>571</fpage>
<lpage>583</lpage>
<permissions>
<copyright-statement>© The Author(s) 2012 Reprints and permissions: sagepub.co.uk/journalsPermissions.nav</copyright-statement>
<copyright-year>2012</copyright-year>
<copyright-holder content-type="sage">SAGE Publications</copyright-holder>
</permissions>
<abstract>
<p>This series of studies aims to propose the automatic machine embroidery image color analysis system to solve the problem of lack of manpower for machine embroidery fabric drafting and to shorten drafting time. The studies included three parts: (1) machine embroidery image color separation, (2) search of repeated pattern images, (3) machine embroidery color analysis system integration.</p>
<p>This study aimed to find the optimal clustering algorithm and cluster validity indices for the automatic color separation process of machine embroidery fabric drafting in order to shorten drafting time. To improve image quality for computer analysis, this study used the color hybrid median filter to filter noise and the color bilateral filter to smoothen fabric and embroidery texture for subsequent color separation. By extracting the color a* component and b* component of the machine embroidery image in CIE L*a*b* color system, this study used the Gustafson-Kessel clustering algorithm for color separation. The Gustafson-Kessel clustering algorithm in machine embroidery image color separation can improve color separation accuracy, and its result is compared with that of the clustering algorithms commonly used in the color separation of color images. This study implemented the chromatography of the color separation results, and used the cluster validity indices to prove that the application of Gustafson-Kessel clustering algorithm in the machine embroidery image color separation system has better results than K-means, K-medoid, fuzzy C-means (FCM), and self-organizing map (SOM) clustering algorithm. The results meet the classifications as expected by human eyes.</p>
</abstract>
<kwd-group>
<kwd>Gustafson-Kessel</kwd>
<kwd>unsupervised clustering method</kwd>
<kwd>color hybrid median filter</kwd>
<kwd>color bilateral filter</kwd>
<kwd>K-means</kwd>
<kwd>K-medoid</kwd>
<kwd>FCM</kwd>
<kwd>SOM</kwd>
<kwd>cluster validity</kwd>
</kwd-group>
</article-meta>
</front>
<body>
<sec id="sec1-0040517511435012" sec-type="intro"><title>Introduction</title>
<p>Today’s machine embroidery manufacturing process can be divided into drafting and automatic machine embroidery work. Drafting relies on expertise and manpower to draft embroidery software by visual observation and description of colors in various pattern areas in a time-consuming and laborious process. Since there is no study relating to the machine embroidery image analysis system, this study discusses the application of an image analysis system for machine embroidery drafting. The process first filters the image noise, removes the embroidery texture, and then determines the optimal clustering algorithm and cluster validity indices for the automatic color separation process of machine embroidery fabric drafting in order to shorten drafting time.</p>
<p>Since machine embroidery has pattern and texture with a certain thickness, noise will appear in the image capturing process. Kuo et al.<sup><xref ref-type="bibr" rid="bibr1-0040517511435012">1</xref></sup> used color median filter to remove the noise of the color printed fabric images. However, the color median filter with good filtering results has the disadvantage of damaging image feature edge. Kuo et al.<sup><xref ref-type="bibr" rid="bibr2-0040517511435012">2</xref></sup> used the color center weighted median filter to lower the embroidery fabric image noise but it has disadvantage of damaging image feature edge. Hence, this study used the hybrid median filter<sup><xref ref-type="bibr" rid="bibr3-0040517511435012">3</xref></sup> to reduce image noise to address the problem of noise filtering of the machine embroidery images.</p>
<p>The complexity of the machine embroidery image is far greater than images of other fabrics. As different types of embroideries have different stitches to create different textures, this may affect the color separation results; the fabric texture and embroidery texture of machine embroidery also vary. Kuo et al.<sup><xref ref-type="bibr" rid="bibr4-0040517511435012">4</xref>,<xref ref-type="bibr" rid="bibr5-0040517511435012">5</xref></sup> adopted the Learning Vector Quantization networks (LVQN) and Fuzzy C-means (FCM) to recognize the fabric nature and type of weaving texture. And these authors<sup><xref ref-type="bibr" rid="bibr6-0040517511435012">6</xref></sup> proposed using the texture fitting method to separate embroidery color and texture, since this system can simulate that to enable the comparison to real fabric. Pan et al.<sup><xref ref-type="bibr" rid="bibr7-0040517511435012">7</xref></sup> proposed the automatic testing system for yarn-dyed fabrics that uses a steering filter to enhance the characteristics of textures in specific directions for further periodic extraction. However, the stitches used in machine embroidery are different and may result in different shadows, leading to different periodic changes that may affect the color separation results. This study used a color bilateral filter<sup><xref ref-type="bibr" rid="bibr8-0040517511435012">8</xref></sup> to smoothen the texture of the embroidery fabric in order to effectively smoothen the texture and to retain the important edges.</p>
<p>Technologies commonly used in color image color separation include the unsupervised clustering method and the supervised clustering method. Xu et al.<sup><xref ref-type="bibr" rid="bibr9-0040517511435012">9</xref></sup> used the unsupervised SOM and FCM in the color separation of printed fabric at a higher color separation calculation speed than that of the supervised clustering method. Kuo et al.<sup><xref ref-type="bibr" rid="bibr10-0040517511435012">10</xref>,<xref ref-type="bibr" rid="bibr11-0040517511435012">11</xref></sup> proposed the supervised Backward-Propagation Neural Network (BPNN) and Probabilistic Neural Network (PNN) to determine the colors corresponding to the selected areas. However, the color separation calculation time is longer. To improve the color separation efficiency of machine embroidery, the unsupervised clustering algorithm is more suitable for the calculation of embroidery fabric images. This study explored and discussed the embroidery textile color system clustering problem.</p>
<p>To address the problems of the noise caused by capturing the machine embroidery images, as well as the impact of fabric texture and embroidery texture on color separation results, this study used the color hybrid median filter to remove noise. Moreover, it used the color bilateral filter to smoothen fabric texture and embroidery texture while keeping important characteristic edges. The Gustafson-Kessel clustering algorithm was applied in color separation, and compared with the commonly used clustering algorithm for color image color separation. Chromatographic observation of the results was conducted, and the cluster validity index was used to verify the applicability of the Gustafson-Kessel clustering algorithm in machine embroidery color separation system.</p>
</sec>
<sec id="sec2-0040517511435012"><title>Research framework</title>
<p>The experimental instruments used in this study included the image acquisition equipment, a scanner (Epson Perfection 1650 Model), MATLAB 7.12.0 language for programming, MATLAB for integrated design of operational image display and GUI writing.</p>
<p>The framework for this study is as shown in <xref ref-type="fig" rid="fig1-0040517511435012">Figure 1</xref>. We first used a scanner to acquire the images of the embroidery fabric, and then transferred the images into the CIE L*a*b* color domain. Next, we used the color hybrid median filter to remove image noise before using the color bilateral filter to smoothen fabric texture and embroidery texture to make the subsequent color separation more accurate. Then, the Gustafson-Kessel clustering algorithm was applied in the color separation of the a* and b* components of the processed images, and compared with the commonly used color separation clustering algorithms. We used the clustering image labels for subsequent analysis and the cluster validity to verify the applicability of the Gustafson-Kessel clustering algorithm in machine embroidery color separation.
<fig id="fig1-0040517511435012" position="float"><label>Figure 1.</label><caption><p>Research framework.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig1.tif"/></fig></p>
</sec>
<sec id="sec3-0040517511435012"><title>Image processing</title>
<p>To address the problems of image noise caused in machine embroidery image acquisition and the impact of fabric texture and embroidery texture on the color separation results, the images should be processed in advance before using the filter to remove image noise and smooth the embroidery fabric texture for improving color separation accuracy.</p>
<sec id="sec4-0040517511435012"><title>CIE L*a*b* color system</title>
<p>The CIE L*a*b* color system<sup><xref ref-type="bibr" rid="bibr12-0040517511435012">12</xref></sup> is the CIE-established color system that is relatively consistent with human vision, where L* denotes the color luminance, a* denotes the colors from green to red, b* denotes colors ranging from blue to yellow as represented by numbers. The color domain is as shown in <xref ref-type="fig" rid="fig2-0040517511435012">Figure 2</xref>.
<fig id="fig2-0040517511435012" position="float"><label>Figure 2.</label><caption><p>CIE L*a*b* color system.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig2.tif"/></fig></p>
<p>In the CIE L*a*b* color system, the overall colors a*, b* of the image can be corrected without changing the color luminance, L*. The equation for converting RGB into CIE L*a*b* is as shown below:
<disp-formula id="disp-formula1-0040517511435012"><label>(1)</label><graphic xlink:href="10.1177_0040517511435012-eq1.tif"/></disp-formula>
<disp-formula id="disp-formula2-0040517511435012"><label>(2)</label><graphic xlink:href="10.1177_0040517511435012-eq2.tif"/></disp-formula>
<disp-formula id="disp-formula3-0040517511435012"><label>(3)</label><graphic xlink:href="10.1177_0040517511435012-eq3.tif"/></disp-formula>
<disp-formula id="disp-formula4-0040517511435012"><label>(4)</label><graphic xlink:href="10.1177_0040517511435012-eq4.tif"/></disp-formula>
where <italic>X<sub>n</sub></italic>, <italic>Y<sub>n</sub></italic>, <italic>Z<sub>n</sub></italic> are the RGB stimulus values for reference, and
<disp-formula id="disp-formula5-0040517511435012"><label>(5)</label><graphic xlink:href="10.1177_0040517511435012-eq5.tif"/></disp-formula></p>
</sec>
<sec id="sec5-0040517511435012"><title>Color hybrid median filter</title>
<p>Machine embroidery images have patterns with a certain thickness. To avoid the noise in image acquisition, a hybrid median filter<sup><xref ref-type="bibr" rid="bibr3-0040517511435012">3</xref></sup> was used for noise filtering, as shown in <xref ref-type="fig" rid="fig3-0040517511435012">Figure 3</xref>. In addition to the weight of the median filter, other weights should also be considered. If the mask range is 3 × 3 then take the median values of Mask 1 and Mask 2 and the value of Mask 3. The median value of the above three values is used to replace the block central point.
<fig id="fig3-0040517511435012" position="float"><label>Figure 3.</label><caption><p>One layer hybrid median filter.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig3.tif"/></fig></p>
</sec>
<sec id="sec6-0040517511435012"><title>Color bilateral filter</title>
<p>The machine embroidery images have fabric texture and embroidery texture. To avoid the impact of texture on subsequent color separation results, this study used the color bilateral filter that can effectively smooth image noise and keep important edges. The bilateral filter is an adjacent point filter developed from the Gaussian smooth filter. To remove the noise of each pixel of the image, the filter calculates according to two characteristics of each point in the area, including the distance between the point and the central point, as well as the color difference with the central point. The greater distance and gray-scale difference lead to smaller weight. Tomasi et al.<sup><xref ref-type="bibr" rid="bibr8-0040517511435012">8</xref></sup> suggested that the CIE L*a*b* color system is better than the RGB color system. The bilateral filter’s gray values can be extended as the calculation of L*, a*, b* components before combined conversion. The image calculation equation of the bilateral filter is as shown below:<sup><xref ref-type="bibr" rid="bibr13-0040517511435012">13</xref></sup>
<disp-formula id="disp-formula6-0040517511435012"><label>(6)</label><graphic xlink:href="10.1177_0040517511435012-eq6.tif"/></disp-formula>
where <italic>σ<sub>D</sub></italic> is the standard deviation of the Gaussian distribution function of the distance characteristic; <italic>σ<sub>L</sub></italic> is the standard deviation of the Gaussian distribution function of the gray-scale value <italic>L</italic> difference; <italic>N<sub>x</sub></italic> is the set of pixels in the adjacent area with <italic>x</italic> as the center; <italic>y</italic> is any pixel of <italic>N<sub>x</sub></italic>; <inline-formula id="ilm1-0040517511435012"><mml:math xmlns:mml="http://www.w3.org/1998/Math/MathML" display="inline" id="mml-math1-0040517511435012"><mml:mrow><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mn>1</mml:mn></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mo>‖</mml:mo><mml:mi>y</mml:mi><mml:mo>-</mml:mo><mml:mi>x</mml:mi><mml:mo>‖,</mml:mo><mml:msub><mml:mrow><mml:mi>σ</mml:mi></mml:mrow><mml:mrow><mml:mi>D</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> is the distance characteristic weight of each pixel; <inline-formula id="ilm2-0040517511435012"><mml:math xmlns:mml="http://www.w3.org/1998/Math/MathML" display="inline" id="mml-math2-0040517511435012"><mml:mrow><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mo>|</mml:mo><mml:mi>I</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi> </mml:mi><mml:mi>y</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo>-</mml:mo><mml:mi>I</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>x</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo>|</mml:mo></mml:mrow><mml:mo>,</mml:mo><mml:msub><mml:mrow><mml:mi>σ</mml:mi></mml:mrow><mml:mrow><mml:mi>L</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> is the gray-scale value difference characteristic weight.</p>
<p>The equation to calculate the weights of pixels by Gaussian distribution function is as below:
<disp-formula id="disp-formula7-0040517511435012"><label>(7)</label><graphic xlink:href="10.1177_0040517511435012-eq7.tif"/></disp-formula>
where <italic>a</italic> is the average number of the Gaussian distribution, <italic>b</italic> is the translation of the Gaussian distribution, <italic>σ</italic> is the variance of the Gaussian distribution.</p>
</sec>
</sec>
<sec id="sec7-0040517511435012"><title>Unsupervised clustering method</title>
<p>The unsupervised learning applies the internal clustering rules between the inputs and outputs to measure the data distance to determine output clusters of a similar level. This study used the Gustafson-Kessel clustering algorithm to carry out the machine embroidery image color separation of the image color a* component and b* component as extracted in this study. It also compared the results with other types of clustering algorithms including K-means, K-medoid, FCM and SOM clustering algorithms, using the cluster validity index to determine the applicability of the clustering algorithm in machine embroidery color separation. Different clustering algorithms calculate distances in different ways. The Gustafson-Kessel clustering algorithm used in this study applies the Manhattan distance, while other algorithms use the Euclidean distance.</p>
<sec id="sec8-0040517511435012"><title>Fuzzy C-means (FCM)</title>
<p>The FCM clustering algorithm<sup><xref ref-type="bibr" rid="bibr14-0040517511435012">14</xref></sup> uses the membership level to measure the belonging of each element to a certain cluster. The FCM algorithm divides <italic>n</italic> data vectors, <italic>x<sub>k</sub></italic> into <italic>c</italic> fuzzy categories, and determines the clustering center of each category for the further minimization of the fuzzy target function. The fuzzy clustering target function is as shown below:
<disp-formula id="disp-formula8-0040517511435012"><label>(8)</label><graphic xlink:href="10.1177_0040517511435012-eq8.tif"/></disp-formula>
where <italic>u<sub>ij</sub></italic> is the fuzzy membership level of an individual <italic>x<sub>i</sub></italic> belonging to the No. <italic>j</italic> category, <italic>m</italic> is the fuzzy weight index, <italic>v<sub>j</sub></italic> is the clustering center of the No. <italic>j</italic> category. The equations for <italic>u<sub>ij</sub></italic> and <italic>v<sub>j</sub></italic> are as below:
<disp-formula id="disp-formula9-0040517511435012"><label>(9)</label><graphic xlink:href="10.1177_0040517511435012-eq9.tif"/></disp-formula>
<disp-formula id="disp-formula10-0040517511435012"><label>(10)</label><graphic xlink:href="10.1177_0040517511435012-eq10.tif"/></disp-formula></p>
</sec>
<sec id="sec9-0040517511435012"><title>Gustafson-Kessel clustering algorithm</title>
<p>Gustafson-Kessel clustering algorithm<sup><xref ref-type="bibr" rid="bibr15-0040517511435012">15</xref></sup> differs from the FCM clustering algorithm. The FCM clustering algorithm is a cluster prototype with one center of gravity location, while the Gustafson-Kessel clustering algorithm is a cluster prototype of volume, each of which contains the relevant covariance matrix and center of gravity location. Hence, each data set has a sub-clustering center of gravity location and data set distribution information. This study proposed the Gustafson-Kessel clustering algorithm for machine embroidery image color separation. The distance function is defined as below:
<disp-formula id="disp-formula11-0040517511435012"><label>(11)</label><graphic xlink:href="10.1177_0040517511435012-eq11.tif"/></disp-formula>
<disp-formula id="disp-formula12-0040517511435012"><label>(12)</label><graphic xlink:href="10.1177_0040517511435012-eq12.tif"/></disp-formula>
<disp-formula id="disp-formula13-0040517511435012"><label>(13)</label><graphic xlink:href="10.1177_0040517511435012-eq13.tif"/></disp-formula>
<disp-formula id="disp-formula14-0040517511435012"><label>(14)</label><graphic xlink:href="10.1177_0040517511435012-eq14.tif"/></disp-formula>
where <italic>u<sub>ik</sub></italic> is the fuzzy correlation coefficient of data point <italic>x<sub>k</sub></italic> to the clustering center <italic>v<sub>j</sub></italic>, <italic>m</italic> is the fuzzy weight index, <italic>v<sub>i</sub></italic> is the clustering center of the No. <italic>j</italic> category, <italic>A<sub>i</sub></italic> is the distance function matrix of the location of the clustering center <italic>v<sub>i</sub></italic>, <italic>ρ</italic> is the volume of the clustering center, <italic>N</italic> is the dimension of the data. The target function equation of Gustafson-Kessel algorithm is:
<disp-formula id="disp-formula15-0040517511435012"><label>(15)</label><graphic xlink:href="10.1177_0040517511435012-eq15.tif"/></disp-formula></p>
</sec>
<sec id="sec10-0040517511435012"><title>K-means</title>
<p>K-means<sup><xref ref-type="bibr" rid="bibr16-0040517511435012">16</xref></sup> is a clustering algorithm used mainly to simplify and classify data to summarize similar individuals in a cluster, which minimizes the intra-cluster difference and maximizes the inter-cluster differences. With the average value of the data in the cluster as the clustering center, K-means requests the number of clusters to be set in advance, and to input information data to determine the minimized value of the distance between data to optimize the clustering by the equation, as below:
<disp-formula id="disp-formula16-0040517511435012"><label>(16)</label><graphic xlink:href="10.1177_0040517511435012-eq16.tif"/></disp-formula>
where <italic>k</italic> is the pre-designated number of clusters, <italic>x</italic> is a group of set vectors, <italic>μ<sub>i</sub></italic> is the average of the <italic>S<sub>i</sub></italic> cluster.</p>
</sec>
<sec id="sec11-0040517511435012"><title>K-medoid</title>
<p>The K-medoid clustering algorithm and the K-means clustering algorithm are similar.<sup><xref ref-type="bibr" rid="bibr17-0040517511435012">17</xref></sup> However, K-means uses the clustering center of gravity as the central point, the location of which may be affected if the data are outliers. On the contrary, the K-medoid clustering algorithm uses the object that is closest to the central point of the cluster as the clustering central point to determine the minimized value of the data distance by using <xref ref-type="disp-formula" rid="disp-formula16-0040517511435012">equation 16</xref> to optimize clustering.</p>
</sec>
<sec id="sec12-0040517511435012"><title>Self-organizing map</title>
<p>First proposed by Kohonen,<sup><xref ref-type="bibr" rid="bibr18-0040517511435012">18</xref></sup> the self-organizing map (SOM) links the input vectors of any dimension to the characteristic mapping diagram of lower dimension by the characteristic mapping method as shown in <xref ref-type="fig" rid="fig4-0040517511435012">Figure 4</xref>. According to the rivalry between neurons of input vectors, SOM then adjusts weight vectors. The neurons on the final output layer display the input vectors in the output space in the form of topological structure, which can reflect the input vector distribution relationship. Hence, SOM can be applied in a group of unlabelled samples to find out similar characteristics.
<fig id="fig4-0040517511435012" position="float"><label>Figure 4.</label><caption><p>SOM structure.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig4.tif"/></fig></p>
</sec>
<sec id="sec13-0040517511435012"><title>Cluster validity</title>
<p>Clustering is to classify the collected data into categories and distinguish them into clusters. The process of evaluating the clustering results is known as the clustering validity analysis. In general, the intra-cluster distance minimization and the inter-cluster distance maximization are the optimal clustering results. To test the applicability of various clustering algorithms in the machine embroidery color separation system, this study used the following different cluster validity indices for judgment.</p>
<sec id="sec14-0040517511435012"><title>1. Partition index</title>
<p>This study used the partition index as defined by Bensaid<sup><xref ref-type="bibr" rid="bibr19-0040517511435012">19</xref></sup> with its equation as below:
<disp-formula id="disp-formula17-0040517511435012"><label>(17)</label><graphic xlink:href="10.1177_0040517511435012-eq17.tif"/></disp-formula></p>
<p>A smaller <italic>SC</italic> value can get the optimal clustering number <italic>c</italic>.</p>
</sec>
<sec id="sec15-0040517511435012"><title>2. Separation index</title>
<p>This study used the separation index as defined by Bensaid<sup><xref ref-type="bibr" rid="bibr19-0040517511435012">19</xref></sup> with its equation as below:
<disp-formula id="disp-formula18-0040517511435012"><label>(18)</label><graphic xlink:href="10.1177_0040517511435012-eq18.tif"/></disp-formula></p>
<p>A smaller <italic>S</italic> value can get the optimal clustering number <italic>c</italic>.</p>
</sec>
<sec id="sec16-0040517511435012"><title>3. Dunn index</title>
<p>The Dunn index<sup><xref ref-type="bibr" rid="bibr20-0040517511435012">20</xref></sup> is used to calculate the clustering result closeness and separation degrees, and its equation is as below:
<disp-formula id="disp-formula19-0040517511435012"><label>(19)</label><graphic xlink:href="10.1177_0040517511435012-eq19.tif"/></disp-formula></p>
<p>A smaller <italic>DI</italic> value can get the optimal clustering number <italic>c</italic>.</p>
</sec>
</sec>
</sec>
<sec id="sec17-0040517511435012" sec-type="results"><title>Results and discussion</title>
<p>This study discussed the performance of clustering algorithms in the data clustering of the a* and b* components of the CIE L*a*b* color system for an embroidery fabric image, and the color separation results. We used the cluster validity indices to evaluate and analyze the performance of the clustering algorithms.</p>
<p>This study used the scanner to acquire the machine embroidery image, as shown in <xref ref-type="fig" rid="fig5-0040517511435012">Figure 5</xref>, then converted the image into the CIE L*a*b* color domain. Due to the noise in the acquisition of the machine embroidery image, the color hybrid median filter was used to remove the noise, as shown in <xref ref-type="fig" rid="fig6-0040517511435012">Figure 6</xref>, and then the color bilateral filtering was carried out to smoothen the machine embroidery texture, as shown in <xref ref-type="fig" rid="fig7-0040517511435012">Figure 7</xref>. The color a* component and b* component of the CIE L*a*b* color domain were used as the clustering data, as shown in <xref ref-type="fig" rid="fig8-0040517511435012">Figure 8</xref>, for the comparison of different clustering methods. After the clustering, this study used different colors for chromatography of the clustering results as the clustering category labels. As shown in <xref ref-type="fig" rid="fig9-0040517511435012">Figure 9</xref> to <xref ref-type="fig" rid="fig13-0040517511435012">Figure 13</xref>, the SOM clustering category label has the greatest difference from the clustering results of other methods. This study then made the clustering index labels of the corresponding original image of the clustering results. It can be observed by human eye that for the clustering index label, as shown in <xref ref-type="fig" rid="fig14-0040517511435012">Figure 14</xref> to <xref ref-type="fig" rid="fig18-0040517511435012">Figure 18</xref> by cross-observation of the clustering index label that is corresponding to green leave in the original image, Gustafson-Kessel clustering is more suitable for human eye recognition in terms of color separation results, that the SOM clustering effects were the worst, and thus, cluster validity index was not used to discuss the SOM clustering algorithm applicability. The chromatographic treatment results as shown in <xref ref-type="fig" rid="fig19-0040517511435012">Figure 19</xref> to <xref ref-type="fig" rid="fig23-0040517511435012">Figure 23</xref> suggest that the color separation effects of Gustafson-Kessel are the best. Finally, the objective cluster validity indices were used to validate the calculation of intra-cluster minimized difference by various clustering algorithms using cluster validity indices, including the partition index SC, the separation index S, and the Dunn index DI, as shown in <xref ref-type="table" rid="table1-0040517511435012">Table 1</xref>. The Gustafson-Kessel clustering results were confirmed by cluster validity indices of the partition index SC, the separation index S, and the Dunn index DI, thus proving that the Gustafson-Kessel clustering algorithm is very suitable for the machine embroidery image color separation system.
<fig id="fig5-0040517511435012" position="float"><label>Figure 5.</label><caption><p>Original machine embroidery image.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig5.tif"/></fig>
<fig id="fig6-0040517511435012" position="float"><label>Figure 6.</label><caption><p>Use color hybrid median filter to remove noise of machine embroidery image in image acquisition.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig6.tif"/></fig>
<fig id="fig7-0040517511435012" position="float"><label>Figure 7.</label><caption><p>Use color bilateral filter to smooth machine embroidery image texture.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig7.tif"/></fig>
<fig id="fig8-0040517511435012" position="float"><label>Figure 8.</label><caption><p>Machine embroidery image a* component and b* component clustering data.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig8.tif"/></fig>
<fig id="fig9-0040517511435012" position="float"><label>Figure 9.</label><caption><p>Gustafson-Kessel clustering category label.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig9.tif"/></fig>
<fig id="fig10-0040517511435012" position="float"><label>Figure 10.</label><caption><p>K-means clustering category label.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig10.tif"/></fig>
<fig id="fig11-0040517511435012" position="float"><label>Figure 11.</label><caption><p>K-medoid clustering category label.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig11.tif"/></fig>
<fig id="fig12-0040517511435012" position="float"><label>Figure 12.</label><caption><p>FCM clustering category label.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig12.tif"/></fig>
<fig id="fig13-0040517511435012" position="float"><label>Figure 13.</label><caption><p>SOM clustering category label.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig13.tif"/></fig>
<fig id="fig14-0040517511435012" position="float"><label>Figure 14.</label><caption><p>Gustafson-Kessel clustering index label.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig14.tif"/></fig>
<fig id="fig15-0040517511435012" position="float"><label>Figure 15.</label><caption><p>K-means clustering index label.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig15.tif"/></fig>
<fig id="fig16-0040517511435012" position="float"><label>Figure 16.</label><caption><p>K-medoid clustering index label.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig16.tif"/></fig>
<fig id="fig17-0040517511435012" position="float"><label>Figure 17.</label><caption><p>FCM clustering index label.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig17.tif"/></fig>
<fig id="fig18-0040517511435012" position="float"><label>Figure 18.</label><caption><p>SOM clustering index label.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig18.tif"/></fig>
<fig id="fig19-0040517511435012" position="float"><label>Figure 19.</label><caption><p>Analysis after chromatography of Gustafson-Kessel clustering index label.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig19.tif"/></fig>
<fig id="fig20-0040517511435012" position="float"><label>Figure 20.</label><caption><p>Analysis after chromatography of K-means clustering index label.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig20.tif"/></fig>
<fig id="fig21-0040517511435012" position="float"><label>Figure 21.</label><caption><p>Analysis after chromatography of K-mediod clustering index label.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig21.tif"/></fig>
<fig id="fig22-0040517511435012" position="float"><label>Figure 22.</label><caption><p>Analysis after chromatography of FCM clustering index label.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig22.tif"/></fig>
<fig id="fig23-0040517511435012" position="float"><label>Figure 23.</label><caption><p>Analysis after chromatography of SOM clustering index label.</p></caption><graphic xlink:href="10.1177_0040517511435012-fig23.tif"/></fig>
<table-wrap id="table1-0040517511435012" position="float"><label>Table 1.</label><caption><p>Cluster validity index results</p></caption>
<graphic alternate-form-of="table1-0040517511435012" xlink:href="10.1177_0040517511435012-table1.tif"/>
<table frame="hsides"><thead align="left">
<tr><th/>
<th>SC</th>
<th>S</th>
<th>DI</th></tr></thead>
<tbody align="left">
<tr>
<td>K-means</td>
<td>0.00892</td>
<td>0.000000343</td>
<td>0.00069</td></tr>
<tr>
<td>K-medoid</td>
<td>0.00892</td>
<td>0.000000344</td>
<td>0.00071</td></tr>
<tr>
<td>FCM</td>
<td>0.01135</td>
<td>0.000000428</td>
<td>0.0006</td></tr>
<tr>
<td>Gustafson-Kessel</td>
<td>0.00861</td>
<td>0.000000326</td>
<td>0.00044</td></tr>
</tbody>
</table>
</table-wrap></p>
</sec>
<sec id="sec18-0040517511435012" sec-type="conclusions"><title>Conclusions</title>
<p>This study transferred the image into the CIE L*a*b* color domain for the color hybrid median filter to remove the noise generated in image acquisition, and used the color bilateral filter to smooth fabric texture and embroidery texture. The results showed that the method can effectively filter noise, smoothen the machine embroidery texture, and improve machine embroidery color separation accuracy.</p>
<p>This study used the Gustafson-Kessel clustering algorithm for machine embroidery image color separation. It compared the results with K-means, K-medoid, FCM, SOM clustering algorithms using cluster validity indices, including partition index SC, separation index S, and Dunn index DI for clustering evaluating and the cross-discussion of clustering results of various clustering algorithms. The results showed that it is better to transfer the image into the CIE L*a*b* color system and extract the color a* component and b* component of the machine embroidery image to use the Gustafson-Kessel clustering algorithm for color separation. The color separation effects are better than K-means, K-medoid, FCM, SOM clustering algorithms because the data set of the Gustafson-Kessel clustering algorithm has data set distribution information, in addition to the location of the center of gravity. The application of the Gustafson-Kessel clustering algorithm in machine embroidery image color separation will have good results.</p>
</sec>
</body>
<back>
<sec id="sec19-0040517511435012"><title>Funding</title>
<p>This work was supported by the National Science Council of the Republic of China (grant number 97-2221-E-011-030-MY3).</p>
</sec>
<ref-list>
<title>References</title>
<ref id="bibr1-0040517511435012"><label>1</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Kuo</surname><given-names>CFJ</given-names></name><name><surname>Kao</surname><given-names>CY</given-names></name><name><surname>Chiu</surname><given-names>CH</given-names></name></person-group>. <article-title>Integrating a genetic algorithm and a self-organizing map network for an automatically separating color printed fabric system</article-title>. <source>Textile Res J</source> <year>2009</year>; <volume>79</volume>(<issue>13</issue>): <fpage>1235</fpage>–<lpage>1244</lpage>.</citation></ref>
<ref id="bibr2-0040517511435012"><label>2</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Kuo</surname><given-names>CFJ</given-names></name><name><surname>Hsu</surname><given-names>CTM</given-names></name><name><surname>Shih</surname><given-names>CY</given-names></name></person-group>. <article-title>Automatic pattern recognition and color separation of embroidery fabrics</article-title>. <source>Textile Res J</source> <year>2011</year>; <volume>81</volume>(<issue>11</issue>): <fpage>1145</fpage>–<lpage>1157</lpage>.</citation></ref>
<ref id="bibr3-0040517511435012"><label>3</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Haavisto</surname><given-names>P</given-names></name><name><surname>Heinonen</surname><given-names>P</given-names></name><name><surname>Neuvo</surname><given-names>Y</given-names></name></person-group>. <article-title>Vector FIR-median hybrid filters for multispectral signals</article-title>. <source>Electronics Letters</source> <year>1988</year>; <volume>24</volume>(<issue>1</issue>): <fpage>7</fpage>–<lpage>7</lpage>.</citation></ref>
<ref id="bibr4-0040517511435012"><label>4</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Kuo</surname><given-names>CFJ</given-names></name><name><surname>Shih</surname><given-names>CY</given-names></name><name><surname>Lee</surname><given-names>JY</given-names></name></person-group>. <article-title>Automatic recognition of fabric weave patterns by Fuzzy C-means clusting method</article-title>. <source>Textile Res J</source> <year>2004</year>; <volume>74</volume>(<issue>2</issue>): <fpage>107</fpage>–<lpage>111</lpage>.</citation></ref>
<ref id="bibr5-0040517511435012"><label>5</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Kuo</surname><given-names>CFJ</given-names></name><name><surname>Tsai</surname><given-names>CC</given-names></name></person-group>. <article-title>Automatic recognition of fabric nature by using the approach of texture analysis</article-title>. <source>Textile Res J</source> <year>2006</year>; <volume>76</volume>(<issue>5</issue>): <fpage>375</fpage>–<lpage>382</lpage>.</citation></ref>
<ref id="bibr6-0040517511435012"><label>6</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Kuo</surname><given-names>CFJ</given-names></name><name><surname>Hsu</surname><given-names>CTM</given-names></name><name><surname>Shih</surname><given-names>CY</given-names></name></person-group>. <article-title>Pattern-making simulation on embroidery using probabilistic neural network and texture fitting method</article-title>. <source>Textile Res J</source> <year>2011</year>; <volume>81</volume>(<issue>20</issue>): <fpage>2082</fpage>–<lpage>2094</lpage>.</citation></ref>
<ref id="bibr7-0040517511435012"><label>7</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Pan</surname><given-names>R</given-names></name><name><surname>Gao</surname><given-names>W</given-names></name><name><surname>Liu</surname><given-names>J</given-names></name><etal/></person-group>. <article-title>Automatic detection of structure parameters of yarn-dyed fabric</article-title>. <source>Textile Res J</source> <year>2010</year>; <volume>80</volume>(<issue>17</issue>): <fpage>1819</fpage>–<lpage>1832</lpage>.</citation></ref>
<ref id="bibr8-0040517511435012"><label>8</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Tomasi</surname><given-names>C</given-names></name><name><surname>Manduchi</surname><given-names>R</given-names></name></person-group>. <article-title>Bilateral filtering for gray and color images</article-title>. <source>Sixth International Conference on Computer Vision</source> <year>1998</year>; <volume>4</volume>(<issue>7</issue>): <fpage>839</fpage>–<lpage>846</lpage>.</citation></ref>
<ref id="bibr9-0040517511435012"><label>9</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Xu</surname><given-names>B</given-names></name><name><surname>Lin</surname><given-names>S</given-names></name></person-group>. <article-title>Automatic color identification in printed fabric images by a fuzzy-neural network</article-title>. <source>AATCC Rev</source> <year>2002</year>; <volume>2</volume>(<issue>9</issue>): <fpage>42</fpage>–<lpage>45</lpage>.</citation></ref>
<ref id="bibr10-0040517511435012"><label>10</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Kuo</surname><given-names>CFJ</given-names></name><name><surname>Su</surname><given-names>TL</given-names></name><name><surname>Huang</surname><given-names>YJ</given-names></name></person-group>. <article-title>Computerized color separation system for printed fabrics by using backward-propagation neural network</article-title>. <source>Fibers and Polymers</source> <year>2007</year>; <volume>8</volume>(<issue>5</issue>): <fpage>529</fpage>–<lpage>536</lpage>.</citation></ref>
<ref id="bibr11-0040517511435012"><label>11</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Kuo</surname><given-names>CFJ</given-names></name><name><surname>Huang</surname><given-names>YJ</given-names></name><name><surname>Su</surname><given-names>TL</given-names></name></person-group>. <article-title>Computerized color distinguishing system for color printed fabric by using the approach of probabilistic neural network</article-title>. <source>Polymer-Plastics Technol Eng</source> <year>2008</year>; <volume>47</volume>(<issue>3</issue>): <fpage>264</fpage>–<lpage>272</lpage>.</citation></ref>
<ref id="bibr12-0040517511435012"><label>12</label><citation citation-type="book"><person-group person-group-type="author"><name><surname>Schanda</surname><given-names>J</given-names></name></person-group><person-group person-group-type="editor"><name><surname>Schanda</surname><given-names>J</given-names></name></person-group>. <article-title>CIE colorimetry</article-title>. <source>Colorimetry: Understanding the CIE system</source>. <publisher-loc>Hoboken</publisher-loc>: <publisher-name>Wiley-Interscience</publisher-name>, <year>2007</year>, pp. <fpage>61</fpage>–<lpage>61</lpage>.</citation></ref>
<ref id="bibr13-0040517511435012"><label>13</label><citation citation-type="book"><person-group person-group-type="author"><name><surname>Hung</surname><given-names>PC</given-names></name></person-group>. <source>Information science and engineering, human detection in nighttime near-infrared video</source>. <comment>Master Thesis</comment>, <publisher-name>National Chiao Tung University</publisher-name>, <year>2008</year>.</citation></ref>
<ref id="bibr14-0040517511435012"><label>14</label><citation citation-type="book"><person-group person-group-type="author"><name><surname>Bezdek</surname><given-names>JC</given-names></name></person-group>. <source>Pattern recognition with fuzzy objective function algorithms</source>. <publisher-loc>New York</publisher-loc>: <publisher-name>Plenum Press</publisher-name>, <year>1981</year>.</citation></ref>
<ref id="bibr15-0040517511435012"><label>15</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Krishnapuram</surname><given-names>R</given-names></name><name><surname>Kim</surname><given-names>J</given-names></name></person-group>. <article-title>A note on the Gustafson-Kessel and adaptive fuzzy clustering algorithms</article-title>. <source>IEEE Trans on Fuzzy Systems</source> <year>1999</year>; <volume>7</volume>(<issue>4</issue>): <fpage>453</fpage>–<lpage>461</lpage>.</citation></ref>
<ref id="bibr16-0040517511435012"><label>16</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>MacQueen</surname><given-names>JB</given-names></name></person-group>. <article-title>Some methods for classification and analysis of multivariate observations</article-title>. <source>Proceedings of 5th Berkeley Symposium on Mathematical Statistics and Probability</source> <year>1967</year>; <volume>31</volume>: <fpage>281</fpage>–<lpage>297</lpage>.</citation></ref>
<ref id="bibr17-0040517511435012"><label>17</label><citation citation-type="book"><person-group person-group-type="author"><name><surname>Kaufman</surname><given-names>L</given-names></name><name><surname>Rousseeuw</surname><given-names>PJ</given-names></name></person-group>. <source>Finding groups in data: An introduction to cluster analysis</source>. <publisher-loc>New York</publisher-loc>: <publisher-name>Wiley</publisher-name>, <year>1990</year>.</citation></ref>
<ref id="bibr18-0040517511435012"><label>18</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Kohonen</surname><given-names>T</given-names></name></person-group>. <article-title>Self-organized formation of topologically correct feature maps</article-title>. <source>Biological Cybernetics</source> <year>1982</year>; <volume>43</volume>: <fpage>59</fpage>–<lpage>69</lpage>.</citation></ref>
<ref id="bibr19-0040517511435012"><label>19</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Bensaid</surname><given-names>AM</given-names></name><name><surname>Hall</surname><given-names>LO</given-names></name><name><surname>Bezdek</surname><given-names>JC</given-names></name><etal/></person-group>. <article-title>Validity-guided (re)clustering with applications to imige segmentation</article-title>. <source>IEEE Trans on Fuzzy Systems</source> <year>1996</year>; <volume>4</volume>: <fpage>112</fpage>–<lpage>123</lpage>.</citation></ref>
<ref id="bibr20-0040517511435012"><label>20</label><citation citation-type="journal"><person-group person-group-type="author"><name><surname>Dunn</surname><given-names>JC</given-names></name></person-group>. <article-title>Well seperated clusters and optimal fuzzy partitions</article-title>. <source>Cybernetics and Systems</source> <year>1974</year>; <volume>4</volume>(<issue>1</issue>): <fpage>95</fpage>–<lpage>104</lpage>.</citation></ref>
</ref-list>
</back>
</article>