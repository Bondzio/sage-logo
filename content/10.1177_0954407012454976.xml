<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article
  PUBLIC "-//NLM//DTD Journal Publishing DTD v2.3 20070202//EN" "journalpublishing.dtd">
<article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" article-type="research-article" xml:lang="en">
<front>
<journal-meta>
<journal-id journal-id-type="publisher-id">PID</journal-id>
<journal-id journal-id-type="hwp">sppid</journal-id>
<journal-title>Proceedings of the Institution of Mechanical Engineers, Part D: Journal of Automobile Engineering</journal-title>
<issn pub-type="ppub">0954-4070</issn>
<issn pub-type="epub">2041-2991</issn>
<publisher>
<publisher-name>SAGE Publications</publisher-name>
<publisher-loc>Sage UK: London, England</publisher-loc>
</publisher>
</journal-meta>
<article-meta>
<article-id pub-id-type="doi">10.1177/0954407012454976</article-id>
<article-id pub-id-type="publisher-id">10.1177_0954407012454976</article-id>
<article-categories>
<subj-group subj-group-type="heading">
<subject>Original Articles</subject>
</subj-group>
</article-categories>
<title-group>
<article-title>GPS data conditioning for enhancing reliability of automated off-road vehicles</article-title>
</title-group>
<contrib-group>
<contrib contrib-type="author" corresp="yes">
<name><surname>Rovira-Más</surname><given-names>Francisco</given-names></name>
<xref ref-type="aff" rid="aff1-0954407012454976">1</xref>
</contrib>
<contrib contrib-type="author">
<name><surname>Banerjee</surname><given-names>Ratul</given-names></name>
<xref ref-type="aff" rid="aff2-0954407012454976">2</xref>
</contrib>
</contrib-group>
<aff id="aff1-0954407012454976"><label>1</label>Departamento de Ingeniería Rural y Agroalimentaria, Universidad Politécnica de Valencia, Spain</aff>
<aff id="aff2-0954407012454976"><label>2</label>Department of Electronics &amp; Electrical Communication Engineering, Indian Institute of Technology, India</aff>
<author-notes>
<corresp id="corresp1-0954407012454976">Francisco Rovira-Más, Departamento de Ingeniería Rural y Agroalimentaria, Universidad Politécnica de Valencia, Camino de Vera s/n, 46022 Valencia, Spain. Email: <email>frovira@dmta.upv.es</email></corresp>
</author-notes>
<pub-date pub-type="epub-ppub">
<month>4</month>
<year>2013</year>
</pub-date>
<volume>227</volume>
<issue>4</issue>
<fpage>521</fpage>
<lpage>535</lpage>
<history>
<date date-type="received">
<day>14</day>
<month>12</month>
<year>2011</year>
</date>
<date date-type="accepted">
<day>18</day>
<month>6</month>
<year>2012</year>
</date>
</history>
<permissions>
<copyright-statement>© IMechE 2013</copyright-statement>
<copyright-year>2013</copyright-year>
<copyright-holder content-type="society">Institution of Mechanical Engineers</copyright-holder>
</permissions>
<abstract>
<p>The practical implementation of precision agriculture at a large scale has not occurred yet for several reasons. Among them, the lack of uniformity and reliability in global positioning has discouraged many producers from adopting advanced solutions which, while considered to add a significant value to their production systems, cannot be incorporated without guarantees of minimum levels of long-term consistency. Although substantial improvements are constantly being introduced by receiver manufacturers, positioning errors can appear at the final stages of the localization process, resulting in inaccuracies and anomalies normally undetected by embedded quality filters. This article proposes an actuation protocol to enhance the robustness of GPS information for practical agricultural applications. The algorithm embodying this strategy merges partially-acquired raw strings into complete US National Marine Electronics Association messages whose information fields are checked for consistency. Once data qualifies as stable, other logic filters are applied to reinforce the likelihood of obtaining proper locations. Extensive field tests demonstrated that the algorithm was able to discard most erroneous positions due to typical GPS errors and poor signal reception in complex agricultural environments. However, the phenomena of coordinate quantization and random outliers were still present, which indicates that further redundancy is necessary to avoid unreliable outcomes. In this regard, positive results for supplementary consistency from GPS-based vehicle heading and speed are anticipated.</p>
</abstract>
<kwd-group>
<kwd>GPS error</kwd>
<kwd>NMEA message</kwd>
<kwd>precision agriculture</kwd>
<kwd>global positioning</kwd>
<kwd>GPS reliability</kwd>
<kwd>horizontal dilution of precision</kwd>
</kwd-group>
</article-meta>
</front>
<body>
<sec id="section1-0954407012454976" sec-type="intro">
<title>Introduction</title>
<p>Precision Agriculture (PA), a concept meant to revolutionize the root and basis of agricultural systems towards maximum efficiency and full sustainability, has reached a crossroads, with most of the necessary technology available but with environmental and economic benefits yet unproven.<sup><xref ref-type="bibr" rid="bibr1-0954407012454976">1</xref></sup> Ten years have passed since this conclusion was drawn, and the status quo is unchanged; in a study to assess the potential use of precision agriculture (also called precision farming – PF), Pölling et al.<sup><xref ref-type="bibr" rid="bibr2-0954407012454976">2</xref></sup> confirmed that the implementation of PA technologies in practical farming has slowed in recent years on a global scale compared to the initial euphoria of the mid and late 1990s. Although PA technologies have been trialled throughout the world,<sup><xref ref-type="bibr" rid="bibr1-0954407012454976">1</xref></sup> only a relatively small proportion of farmers have practiced any type of PA-based technology. According to Bramley,<sup><xref ref-type="bibr" rid="bibr3-0954407012454976">3</xref></sup> the rate of adoption by growers of many crops remains low and, in some industries, is negligible. Given that the multiple benefits of PA are generally accepted, it is important to determine the real cause of this low rate of adoption. A perceived lack of benefit may have discouraged many potential adopters, but Bramley<sup><xref ref-type="bibr" rid="bibr3-0954407012454976">3</xref></sup> concludes that, due to the fact that the majority of agricultural producers are not ‘profit maximizers’, there are other factors affecting their strategic decisions. The technical difficulties of efficiently handling novel technologies such as the Global Positioning System (GPS), Geographic Information systems (GIS), remote sensing, automatic control and computing, all by managers instructed to manage the land rather than electronics and cybernetics, has been identified as one of the major factors, if not <italic>the</italic> most important, explaining low implementation rates. Because most experimental PA systems are map-based,<sup><xref ref-type="bibr" rid="bibr1-0954407012454976">1</xref></sup> global positioning is central to their practical implementation. The understanding and proper manipulation of GPS information is essential for the efficient application of PA in the field. The real implementation of a system meant to work season after season, and typically not operated by an engineer, demands high consistency and resistance to failure. GPS – and other similar systems such as GLObal NAvigation Satellite System (GLONASS), Galileo, or Compass – does not seem to have reached that status yet, at least for the case of free signal systems. Bramley<sup><xref ref-type="bibr" rid="bibr3-0954407012454976">3</xref></sup> points out that the approximate $2500 annual subscription fee for optimized differential correction has been dissuasive for many Australian growers, even for high value crops like wine grapes. Therefore, improving the performance of affordable GPS systems could incentivize the generalized adoption of PA applications. However, even high accuracy systems such as real-time kinematic (RTK)-GPS are not completely free of hindrances; not surprisingly, Mitchell<sup><xref ref-type="bibr" rid="bibr4-0954407012454976">4</xref></sup> claims there exists a long-standing desire for a universal and robust means to refer global coordinates for extended agricultural use, as successful technologies in the future will depend on the farmer who will sift through what is new and choose only what works. This paper intends to contribute to this demand by getting to the core of GPS messaging and delivering better positioning estimates.</p>
<p>In spite of the difficulties mentioned above, precision agriculture and other GPS-based applications are expanding. A study based on recent patents on off-road automatic navigation<sup><xref ref-type="bibr" rid="bibr5-0954407012454976">5</xref></sup> showed that GPS-based technologies became predominant in the period 2001–2008, probably motivated by the cancellation of selective availability in 2000 by the US Department of Defense. In agreement with this trend, Humphreys et al.<sup><xref ref-type="bibr" rid="bibr6-0954407012454976">6</xref></sup> speculate that a growing segment of military and civilian global navigation satellite systems (GNSS) users will demand greater accuracy and reliability from their receivers than can be offered by single-frequency GPS, as the overwhelming majority of GNSS receivers fail when signals are blocked or jammed. The solution, however, is neither simple nor immediate, and absolute unchanging reference positions are not a realistic expectation.<sup><xref ref-type="bibr" rid="bibr7-0954407012454976">7</xref></sup> Yet, not all precision systems always require the highest degree of accuracy, although it is necessary to maintain errors within pre-established limits, whatever span these limits may have, so that uncontrollable outcomes do not occur. Pölling et al.<sup><xref ref-type="bibr" rid="bibr2-0954407012454976">2</xref></sup> report very high potential for western and central parts of Europe, and Zhang et al.<sup><xref ref-type="bibr" rid="bibr1-0954407012454976">1</xref></sup> indicate the same trend for China. The traceability of chemical applications is becoming critical for wine producers, who need to keep an accurate account of sprayed rows after the appearance of disease or insect activity. This information is accessible only when geographical references are available with a GPS. Larzelere and Landers<sup><xref ref-type="bibr" rid="bibr8-0954407012454976">8</xref></sup> found that, in such applications, the selection of GPS receiver/antennae is critical, because accuracy is key. In fact, inexpensive solutions led to unacceptable results, but higher levels of sophistication were useful for row and positional location, even with free signals. In similar fashion, the three-dimensional mapping system of agricultural scenes developed by Rovira-Más <sup><xref ref-type="bibr" rid="bibr9-0954407012454976">9</xref></sup> was very sensitive to GPS coordinate misplacement, and the slight offset of a small number of points was enough to degrade the entire map. In addition to mapping applications, GPS receivers are also essential for automated navigation, where the absence of positioning data, or their lack of precision, may result in dangerous situations. This condition has been counterweighted with the combination of GPS and inertial measurement units (IMU), such as the position–velocity–attitude model<sup><xref ref-type="bibr" rid="bibr10-0954407012454976">10</xref></sup> based on the Kalman filter to provide accurate positioning with a low-cost GPS combined with solid-state inertial sensors. With a similar purpose, Mizushima et al.<sup><xref ref-type="bibr" rid="bibr11-0954407012454976">11</xref></sup> developed a low-cost inertial unit composed of three gyroscopes, two inclinometers and a differential GPS that was capable of correcting the drift accumulated by the gyroscopes. The expectation derived from these examples showing the multiple benefits of global positioning provides a favorable environment to pursue the improvement of GPS reliability in automated off-road vehicles by directly acting on the acquisition and morphology of GPS messages.</p>
</sec>
<sec id="section2-0954407012454976">
<title>Errors and problems with GPS in practical field applications</title>
<p>GPS errors can be analysed from the communication technology standpoint or, alternatively, from a practical, user-oriented point of view. The former comprises satellite ephemeris, clock, atmospheric, multipath and receiver errors. The latter have been included in the terms bias and drift errors (described below).<sup><xref ref-type="bibr" rid="bibr12-0954407012454976">12</xref></sup> In general, field robotics applications benefit greatly from differential signals – usually from a DGPS receiver – because satellite ephemeris and clock errors are totally cancelled; however, the cancellation of atmospheric errors (ionospheric and tropospheric) degrades with distance, and both multipath and receiver errors cannot be mitigated by differential corrections.<sup><xref ref-type="bibr" rid="bibr13-0954407012454976">13</xref></sup> The presence of these errors, in particular, will manifest to the user in the field as bias and drift errors. A favourable location of the receiver antenna in conjunction with premium components and optimized software will help to ameliorate the negative effects of multipath and receiver errors, but the complete suppression of these errors can never be assured with absolute certainty. Nevertheless, from the user standpoint, finding out whether the origin of inaccuracies is atmospheric or caused by unavoidable reflections is not essential; what matters is the early detection of positioning errors and, when possible, their correction. In fact, it is not feasible for the average user to decouple atmospheric effects, multipath reflections and receiver noise. Rather, it seems more practical to classify errors according to the user perception, which in reality can correspond to a sudden and unexpected jump called <italic>bias</italic>, as it represents a deviation from the expected, or a steady loss of positioning accuracy over time, known as <italic>drift</italic>. Drift errors are caused by continuous signal degradation, whereas bias errors result in random misplacements of global coordinates. The appearance of both errors is not mutually exclusive, and for that reason, right after a random jump (bias) in the trajectory of a vehicle, coordinates may start to drift, or vice versa. Typical GPS receivers used in agricultural applications may begin to drift after 15 minutes of continued use.</p>
<p>In general, there is no convenient way to anticipate multipath deviations or receiver noise, which in practice means that end users of this technology cannot predict when a bias jump is imminent or drift is about to start. Yet, certain information related to the quality of the signal being acquired can be known with every positioning message. In particular, two parameters facilitated by the GPS Control Segment are helpful to evaluate the quality of the signal: the number of satellites involved in the resolution and the dilution of precision (DOP). In theory, three satellites suffice to determine the location of a receiver, but uncertainties in the measurement of time require a fourth satellite and, in practice, only solutions obtained from the triangulation of five or more satellites offer enough guaranties for field operations. As a result, it is necessary to know the number of satellites locked by the receiver for each calculated point. As a matter of fact, not only the number of satellites but their spatial distribution above the receiver is critical for getting precise estimates. The <italic>dilution of precision</italic> is a set of parameters that quantify how favorably satellites are distributed in the sky in relation to a specific user location. They can refer to time errors introduced by the clock (TDOP), position errors in the horizontal (East–North) plane (HDOP), and errors in altitude (VDOP). The majority of agricultural operations take place in flat terrain, and therefore HDOP is typically the key parameter to track. At other times, however, sloping terrains require the use of VDOP as well, which tends to be greater than the HDOP. As a rule, the lower the HDOP value, the better distribution of satellites above the GPS antenna. Common values for the HDOP range between 1 and 3.</p>
<p>With quality parameters – number of satellites and HDOP – associated to each position registered in the field, reliability might be taken for granted and the problem of bias or drift easily solved by just discarding position estimates where the number of satellites or HDOP do not reach an established threshold. This reasoning might work for some especial situations or during particular periods where conditions are ideal, but it cannot be considered a generalized solution. The map plotted in <xref ref-type="fig" rid="fig1-0954407012454976">Figure 1</xref>, for instance, represents the trajectory followed by a tractor along four rows of a vineyard. The path traced by the vehicle in the map properly indicates the actual course travelled in the field. However, out of the 218 points recorded, there exist 13 outliers that result in unrealistic jumps (bias errors), some of which are more than 20 m. Although it only represents 6% of the points, this result is unacceptable for many real applications, such as implement control, automatic navigation, mapping or site-specific variable rate dosing. The special case of auto-steering poses serious risks to the control of vehicles, which cannot afford offset errors of that magnitude. Nevertheless, the eradication of outliers would make the map ready for use, which apparently can be done by identifying points with a low number of satellites and high HDOP rates. Surprisingly, the graph depicting the number of satellites (<xref ref-type="fig" rid="fig2-0954407012454976">Figure 2(a)</xref>) for all the points represented in <xref ref-type="fig" rid="fig1-0954407012454976">Figure 1</xref> shows that there were never fewer than eight satellites in solution, and similarly, the history of HDOP along the rows (<xref ref-type="fig" rid="fig2-0954407012454976">Fig. 2(b)</xref>) was either 1.3 or 1.5. This outcome shows that the deterministic assessment of GPS stability is not trivial and given that many agricultural applications that rely on GPS positioning cannot progress unless an acceptable performance of GPS is assured in regular practice, the challenge of enhancing the robustness of GPS data in real time provides a strong motivation for conducting this research.</p>
<fig id="fig1-0954407012454976" position="float">
<label>Figure 1.</label>
<caption>
<p>Outliers in a typical map of a vineyard showing the trajectory followed by a vehicle.</p>
</caption>
<graphic xlink:href="10.1177_0954407012454976-fig1.tif"/>
</fig>
<fig id="fig2-0954407012454976" position="float">
<label>Figure 2.</label>
<caption>
<p>Number of satellites (a) and HDOP (b) for the test shown in the map of <xref ref-type="fig" rid="fig1-0954407012454976">Figure 1</xref>.</p>
</caption>
<graphic xlink:href="10.1177_0954407012454976-fig2.tif"/>
</fig>
</sec>
<sec id="section3-0954407012454976">
<title>Philosophy and algorithm for conditioning GPS messages</title>
<p>The enhancement of GPS reliability can be performed at different stages of the message transmission process, and a big effort is currently being made by researchers and receiver manufacturers to improve performance at the electronics and signal processing level. However, while these improvements are always favourable to the achievement of precise operations in the field, they are not sufficient; any anomalous datum introduced at the last stages – including coordinate transformations – might ruin the usefulness of a map or the accuracy of an execution command. Therefore, consistency in the data must be maintained until the very end of the spatial referencing procedure. However, system designers must focus on the optimum use of positioning sensors rather than improving their rated performance, which falls within the scope of manufacturers and sensor developers. Once the GPS antenna has been installed in a favourable location on the vehicle and the receiver power turned on, the sequence of strings output by the positioning device via the serial port constitute the raw material from which global coordinates have to be calculated. Fortunately, these strings are not issued in a random manner, and the popular standard, NMEA 0183, has been universally adopted by GPS practitioners. Created by the US National Marine Electronics Association (NMEA), this standard specifies several structures for GPS messages in ASCII code (simple text), where information about time, position and signal precision are usually included. The particular fields composing each message depend on the specific NMEA identifier used. Agricultural applications mostly use GGA (time, position and fix) and VTG (course and speed) messages. This research was conducted using the GGA message type, but the procedure developed and the results found are also valid for any other type of NMEA messages. <xref ref-type="fig" rid="fig3-0954407012454976">Figure 3</xref> provides the specifications for GGA messages, and further details on other NMEA strings are available in Rovira-Más et al.<sup><xref ref-type="bibr" rid="bibr14-0954407012454976">14</xref></sup> An actual example of a GGA string can be examined in <xref ref-type="disp-formula" rid="disp-formula1-0954407012454976">equation (1)</xref> below</p>
<fig id="fig3-0954407012454976" position="float">
<label>Figure 3.</label>
<caption>
<p>Components of GGA messages (Standard NMEA 0183).</p>
</caption>
<graphic xlink:href="10.1177_0954407012454976-fig3.tif"/>
</fig>
<p>
<disp-formula id="disp-formula1-0954407012454976">
<label>(1)</label>
<mml:math display="block" id="math1-0954407012454976">
<mml:mrow>
<mml:mtable align="left">
<mml:mtr>
<mml:mtd columnalign="left">
<mml:mrow>
<mml:mrow>
<mml:mo>“</mml:mo>
<mml:mo>$</mml:mo>
<mml:mtext>GPGGA</mml:mtext>
<mml:mo>”</mml:mo>
<mml:mo>.</mml:mo>
<mml:mo>“</mml:mo>
<mml:mn>112633</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>0</mml:mn>
<mml:mo>”</mml:mo>
<mml:mo>,</mml:mo>
<mml:mo>“</mml:mo>
<mml:mn>3928</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>995234</mml:mn>
<mml:mo>”</mml:mo>
<mml:mo>,</mml:mo>
</mml:mrow>
</mml:mrow>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="left">
<mml:mrow>
<mml:mo>“</mml:mo>
<mml:mtext>N</mml:mtext>
<mml:mo>”</mml:mo>
<mml:mo>,</mml:mo>
<mml:mo>“</mml:mo>
<mml:mn>00020</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>233222</mml:mn>
<mml:mo>”</mml:mo>
<mml:mo>,</mml:mo>
<mml:mo>“</mml:mo>
<mml:mtext>W</mml:mtext>
<mml:mo>”</mml:mo>
<mml:mo>,</mml:mo>
<mml:mo>“</mml:mo>
<mml:mn>2</mml:mn>
<mml:mo>”</mml:mo>
<mml:mo>,</mml:mo>
<mml:mo>“</mml:mo>
<mml:mn>10</mml:mn>
<mml:mo>”</mml:mo>
<mml:mo>,</mml:mo>
<mml:mo>“</mml:mo>
<mml:mn>1</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>0</mml:mn>
<mml:mo>”</mml:mo>
<mml:mo>,</mml:mo>
</mml:mrow>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="left">
<mml:mrow>
<mml:mo>“</mml:mo>
<mml:mn>3</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>911</mml:mn>
<mml:mo>”</mml:mo>
<mml:mo>,</mml:mo>
<mml:mo>“</mml:mo>
<mml:mtext>M</mml:mtext>
<mml:mo>”</mml:mo>
<mml:mo>,</mml:mo>
<mml:mo>“</mml:mo>
<mml:mn>52</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>122</mml:mn>
<mml:mo>”</mml:mo>
<mml:mo>,</mml:mo>
<mml:mo>“</mml:mo>
<mml:mtext>M</mml:mtext>
<mml:mo>”</mml:mo>
<mml:mo>,</mml:mo>
<mml:mo>“</mml:mo>
<mml:mn>10</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>0</mml:mn>
<mml:mo>”</mml:mo>
<mml:mo>,</mml:mo>
<mml:mo>“</mml:mo>
<mml:mn>207</mml:mn>
<mml:mo>*</mml:mo>
<mml:mn>6</mml:mn>
<mml:mtext>D</mml:mtext>
<mml:mo>”</mml:mo>
</mml:mrow>
</mml:mtd>
</mml:mtr>
</mml:mtable>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula1-0954407012454976" xlink:href="10.1177_0954407012454976-eq1.tif"/>
</disp-formula>
</p>
<p>Before processing the information acquired with the GPS, it is essential to fully understand each single field of the message structure of <xref ref-type="fig" rid="fig3-0954407012454976">Figure 3</xref>, as not all of them are equally important for the applications considered here. All the NMEA messages start with a six-character identifier, formed with a dollar sign ($) opening the message and followed by two letters identifying the sender (GP for GPS) plus three letters labelling the type of message (GGA, VTG and so on). After the final character of the last data field there is an asterisk immediately followed by a two-digit check sum expressed as a hex number. Out of the 15 fields comprising GPGGA messages, the algorithm proposed requires the GPS time, the three geodesic coordinates (latitude, longitude and altitude), the number of satellites in the solution and the HDOP. Note that data fields are separated by commas, and when information in a field is not available, two adjacent commas will appear in the message indicating a null field. This possibility allows the incompleteness of messages, which will also be subjected to other hindrances caused by serial port transfer jamming and computer processor sharing. At present, there are two frequencies available for GPS devices: 1 Hz and 5 Hz. As a result, it is not possible to increase the flow of incoming GPS data above 5 Hz. All these difficulties complicate the structure of the filtering algorithm, represented as a block diagram in <xref ref-type="fig" rid="fig4-0954407012454976">Fig. 4</xref>. The following points summarize the essential highlights of the algorithm.</p>
<fig id="fig4-0954407012454976" position="float">
<label>Figure 4.</label>
<caption>
<p>Algorithm proposed for conditioning GPS messages.</p>
</caption>
<graphic xlink:href="10.1177_0954407012454976-fig4.tif"/>
</fig>
<list id="list1-0954407012454976" list-type="order">
<list-item><p>Extensive fieldwork shows that GPS frequencies of 1 Hz and 5 Hz are very low compared to other sensors, and the time used by the computer to transfer messages through the RS-232 port is often insufficient to assure the acquisition of the entire string. The algorithm features a <italic>piece-by-piece data acquisition system</italic> which reinforces string <italic>piece-wise composition</italic> and reduces the loss of primary GPS information.</p></list-item>
<list-item><p>The flow of incoming data is severely influenced by satellite constellation layouts, and it often takes too long to lock an acceptable number of satellites. Given that practical applications cannot be completely held-up waiting for GPS messages, the algorithm introduces a number of <italic>timing checks</italic> at several levels in such a way that a reasonable flow for the main process is assured (time out allowance). GPS receivers are usually one of many sensors providing key information and should never monopolize the pace of the main control loop.</p></list-item>
<list-item><p>Because NMEA GGA messages are standard and unambiguously defined, there is an <italic>a priori</italic> knowledge of the expected strings, as shown in <xref ref-type="fig" rid="fig3-0954407012454976">Figure 3</xref>. This knowledge provides a means to check for <italic>string consistency</italic>; there must be 15 sections (or fields) in each complete message, and the expected length of each section can also be known beforehand. Thus, for instance, the latitude is the third field of <xref ref-type="disp-formula" rid="disp-formula1-0954407012454976">equation (1)</xref> and <xref ref-type="fig" rid="fig3-0954407012454976">Figure 3</xref>, and it consists of four characters followed by the decimal point and a number of decimals; the first two numbers are the degrees (39) and the rest – until the next comma – are the minutes (28.995234). The longitude, likewise, is contained in the fifth field, but this time the degrees are represented by the first three numbers (000) and the minutes by the rest (20.233222). Following this rationale, corrupted strings can be detected by keeping track of the number of sections and their corresponding sizes for any string of characters delimited by two dollar signs marking the initial points of two consecutive messages. The 15 fields of a string do not need to be acquired all at once, but only strings with the proper structure and dimensions are further processed; the rest are discarded. The lengths of these fields are not universal and usually vary with the specifications of the receivers, so that low-cost receivers typically provide less precision. Consequently, the string consistency routine must adapt to different types of receivers.</p></list-item>
<list-item><p>The strict filter applied to the format of the strings is able to remove wild outliers pointing at impossible locations, but there is still no guarantee of getting correct localization data. For that reason, a further step focuses on the particular analysis of some fields for which domain logical boundaries can be established, that is, the implementation of <italic>section-based logic domains</italic>. Typical section-based thresholds were established for reasonable altitudes (altitudes between sea level and 1000 m), minimum number of satellites (usually five), maximum HDOP allowance, realistic forward velocity (below 40 km/h for tractors) and so forth. This philosophy has been further developed in the 2012 version of the algorithm, in which VTG NMEA messages are processed simultaneously with GGA messages. As two speeds are determined by different sources, differentials of 30% in velocity are being used as indicators of potential errors.</p></list-item>
</list>
<p>Many GPS-based applications developed in the past have considered receiver quality indices to be enough to determine the acceptability of incoming localization data. This research intends to get deeper inside the transmission and morphology of GPS messages so that spurious data and any lack of consistency can be detected early enough to avoid unreliable measurements, with special emphasis on applications based on emergent technologies such as precision farming and field robotics. Although primary data coming from GPS satellites may be enhanced with high accuracy systems such as proprietary differential signals (DGPS) or real-time-kinematic solutions (RTK-GPS), the majority of commercial systems used by average producers cannot afford such levels of accuracy and, as a result, the more efficient and reliable GPS positioning becomes, the better. Additionally, even sophisticated positioning systems are susceptible to transferring corrupted strings whenever satellite constellations are adverse, reflections or signal blockage results critical or the processing routine collapses.</p>
</sec>
<sec id="section4-0954407012454976">
<title>Equipment and field tests</title>
<p>The standard midsize tractor of <xref ref-type="fig" rid="fig5-0954407012454976">Figure 5(a)</xref> was the vehicle chosen to test the algorithm and record data. It is equipped with a StarFire iTC<sup>TM</sup> SF2 (Deere &amp; Co, Moline, IL, USA) differential positioning system. Although SF2 correction signals with static accuracy of 25 cm and pass-to-pass accuracy of ± 10 cm are available under license, tests were performed using exclusively the free signal SF1, with a static accuracy of 75 cm and pass-to-pass accuracy of ± 33 cm. The algorithm developed to filter GPS messages was implemented in a mini computer onboard the tractor (AOpen MP945-D, San Jose, CA, USA), with a 1.8 GHz Core 2 Duo processor and 512 MB memory. A customized program written in C++ applied a coded version of the routine schematized in <xref ref-type="fig" rid="fig4-0954407012454976">Figure 4</xref>, easing the acquisition process with the graphic interface of <xref ref-type="fig" rid="fig5-0954407012454976">Figure 5(b)</xref>, where the origin of coordinates and the output text files can be selected by the user. The control screen of <xref ref-type="fig" rid="fig5-0954407012454976">Figure 5(b)</xref> allows the visualization of the instantaneous position of the vehicle in the local tangent plane (LTP) system of coordinates, which requires real time transformation from geodetic to LTP coordinates. The local tangent plane coordinates are east, north and altitude, and besides being more intuitive and easy to represent than geodetic coordinates, they permit the user to set a local origin of coordinates, avoiding oversized numbers that complicate the construction of information maps. <xref ref-type="fig" rid="fig6-0954407012454976">Figure 6</xref> represents the position of a point, P, in both geodetic (a) and local tangent plane (b) coordinates. Although the real time transformation between both coordinate systems is critical for the successful implementation of the proposed solution, its step-by-step execution falls outside the scope of this article. It can be found in Rovira-Más et al.<sup><xref ref-type="bibr" rid="bibr14-0954407012454976">14</xref></sup></p>
<fig id="fig5-0954407012454976" position="float">
<label>Figure 5.</label>
<caption>
<p>Testing vehicle (a), and control interface of the software developed (b).</p>
</caption>
<graphic xlink:href="10.1177_0954407012454976-fig5.tif"/>
</fig>
<fig id="fig6-0954407012454976" position="float">
<label>Figure 6.</label>
<caption>
<p>Geodetic (a) and local tangent plane (b) systems of coordinates.</p>
</caption>
<graphic xlink:href="10.1177_0954407012454976-fig6.tif"/>
</fig>
<p>Validation experiments took place in two diverse scenarios: a barren field in the vicinity of an urban area at sea level, where reflections and signal interferences could be expected; and a winery vineyard located in a rural environment about 650 m above sea level (<xref ref-type="fig" rid="fig5-0954407012454976">Figure 5(a)</xref>), where open fields provided a favourable environment for long testing periods. Multiple runs were driven under different conditions of travelling speed, vehicle orientation, time of day, atmospheric situation and satellite constellation. The experiments were conducted in 2010, between May and August (<xref ref-type="table" rid="table1-0954407012454976">Table 1</xref>).</p>
<table-wrap id="table1-0954407012454976" position="float">
<label>Table 1.</label>
<caption>
<p>Experimental design and summary of results.</p>
</caption>
<graphic alternate-form-of="table1-0954407012454976" xlink:href="10.1177_0954407012454976-table1.tif"/>
<table>
<colgroup>
<col align="left"/>
<col align="left"/>
<col align="left"/>
<col align="left"/>
<col align="left"/>
<col align="left"/>
</colgroup>
<thead>
<tr>
<th align="left">Test scenario</th>
<th align="left">Repetitions</th>
<th align="left">Test duration Δt (min)</th>
<th align="left">Maximum no. of points for Δt</th>
<th align="left">Valid points</th>
<th align="left">Undetected outliers</th>
</tr>
</thead>
<tbody>
<tr>
<td>University roads</td>
<td>3</td>
<td>3.3; 4.3; 6.3</td>
<td>990; 1290; 1897</td>
<td>104; 658; 644</td>
<td>0; 0; 0</td>
</tr>
<tr>
<td>University field (1–15 June)</td>
<td>5</td>
<td>6.7; 5; 3.8; 16.3; 7.7</td>
<td>2008; 1508; 1146; 4881; 2309</td>
<td>1029; 773; 646; 2458; 1130</td>
<td>0; 0; 0; 0; 0</td>
</tr>
<tr>
<td>University field (16–30 June)</td>
<td>6</td>
<td>3.7; 1.8; 7.3; 1.8; 4.8; 1.9</td>
<td>1113; 549; 2180; 543; 1453; 568</td>
<td>612; 298; 1164; 294; 717; 292</td>
<td>0; 1; 0; 0; 0; 0</td>
</tr>
<tr>
<td>Vineyard (July, GPS mapping)</td>
<td>10</td>
<td>25; 8.4; 40.5; 46.2; 7.1; 3.4; 2.3; 3.4; 4; 7.4</td>
<td>7496; 2530; 12145; 13854; 2127; 1012; 690; 1032; 1185; 2208</td>
<td>2905; 1230; 5300; 1754; 405; 484; 397; 503; 622; 1095</td>
<td>0; 0; 0; 0; 0; 0; 0; 0; 0; 0</td>
</tr>
<tr>
<td>Vineyard (August, GPS + vision)</td>
<td>7</td>
<td>3.5; 1.2; 3.8; 1.3; 7; 3.7; 9.4</td>
<td>1055; 375; 1140; 385; 2085; 1120; 2810</td>
<td>67; 46; 81; 35; 137; 119; 218</td>
<td>2; 0; 2; 0; 11; 2; 13</td>
</tr>
<tr>
<td>Vineyard (Manual trigger vision)</td>
<td>4</td>
<td>10; 18.8; 1.6; 11</td>
<td>3000; 5640; 490; 3310</td>
<td>403; 915; 82; 571</td>
<td>7; 10; 0; 7</td>
</tr>
</tbody>
</table>
</table-wrap>
</sec>
<sec id="section5-0954407012454976" sec-type="results|discussion">
<title>Results and discussion</title>
<p>The first condition required of the GPS data-conditioning algorithm was the capacity to identify and discard those locations with a low probability of being correct, according to NMEA quality indices embedded in GPGGA messages. These indices are the number of satellites in solution (NOS) and the horizontal dilution of precision (HDOP), and were always tracked in this first-stage check. The intricacies of the proposed algorithm, apparent in <xref ref-type="fig" rid="fig4-0954407012454976">Figure 4</xref>, were designed to only deal with complete – and <italic>a priori</italic> healthy – strings from which meaningful values of NOS and HDOP could be extracted. <xref ref-type="fig" rid="fig7-0954407012454976">Figure 7(a)</xref> shows the trajectory followed by a tractor from the testing field to a workshop located inside a university campus. Along the approximately 500 m that separate the initial and destination points, there were large trees and a number of buildings which reflected and blocked satellite signals. A threshold of five or more satellites and HDOP less than 3 left several portions of the trajectory without information; yet it is always preferable to obtain an incomplete map rather than a wrong one. <xref ref-type="fig" rid="fig7-0954407012454976">Figure 7(b)</xref> provides the NOS along the entire run, and <xref ref-type="fig" rid="fig7-0954407012454976">Fig 7(c)</xref> plots the HDOP over the same period. Notice the inverse profile between NOS and HDOP, and the minimum requirements met by all the points acquired by the tractor. The valid NOS ranged from 5 to 9 and the HDOP oscillated between 1.2 and 3. Failing in only one of the two restrictions was enough to reject the GPS message being processed. The application of the filtering routine resulted in an incomplete but sufficiently precise map.</p>
<fig id="fig7-0954407012454976" position="float">
<label>Figure 7.</label>
<caption>
<p>Message filtration based on minimum NOS and maximum HDOP values: (a) trajectory; (b) NOS; (c) HDOP.</p>
</caption>
<graphic xlink:href="10.1177_0954407012454976-fig7.tif"/>
</fig>
<p>According to the philosophy proposed, the first operation for conditioning the incoming data takes place at the message reception level, where primary strings are properly composed and checked for consistency. Then NOS and HDOP quality indices establish a second level of filtration to remove unreliable messages. However, the important question remains: how precise and trustable will the data that finally gets transferred to a map be? This query is not trivial, as positioning information that passes the previous filters is assumed to be correct, but unfortunately this will not always be the case. The run in <xref ref-type="fig" rid="fig8-0954407012454976">Figure 8</xref> provides a real example of this problem. The trajectory of <xref ref-type="fig" rid="fig8-0954407012454976">Figure 8(a)</xref> (NOS = 8–9; HDOP = 1.4–1.6) was recorded moving north-east at 1.5 km/h, whereas <xref ref-type="fig" rid="fig8-0954407012454976">Figure 8(b)</xref> (NOS = 7–8; HDOP = 1.2–1.4) was traced by a tractor heading south-west at 5.5 km/h. Almost one month elapsed between both tests, and the testing sites are separated by 70 km in distance and 650 m in altitude. Yet they show a common unexpected feature; motion along the north–south direction occurs at <italic>discrete intervals</italic> due to an east–west drift that clusters points horizontally. This phenomenon evidences that positioning points in the local tangent plane system of coordinates are being <italic>quantized</italic> in a quanta of points of up to 10 m in length (<xref ref-type="fig" rid="fig8-0954407012454976">Figure 8(b)</xref>). The consequences of this outcome are significant for the development of GPS-based vehicle applications; the calculation of vehicle heading and forward velocity from GPS coordinates, for instance, will lead to severe errors and potentially dangerous situations. Furthermore, a magnified look at these results might reveal even worse consequences such as the phenomenon of <italic>cluster swapping</italic>. <xref ref-type="fig" rid="fig9-0954407012454976">Figure 9</xref> represents the trajectory traced by a tractor moving south-west at 4 km/h, with a permanent rate of eight satellites in solution and an HDOP of 1.3 along the run. The quanta effect over clustered points along the east–west direction is noticeable for the entire run; however, the circles drawn in the plot highlight the occurrence of <italic>cluster swappin</italic>g, which dictates that, for any three consecutive clusters at different levels, the one in the middle cannot be located either higher north or lower north than its bounding clusters. The consequences for heading calculations are obvious; two consecutive headings, one pointing north and the following pointing south, create a source of instability for determining vehicle states.</p>
<fig id="fig8-0954407012454976" position="float">
<label>Figure 8.</label>
<caption>
<p>Quantization of coordinate points along the east–west direction.</p>
</caption>
<graphic xlink:href="10.1177_0954407012454976-fig8.tif"/>
</fig>
<fig id="fig9-0954407012454976" position="float">
<label>Figure 9.</label>
<caption>
<p>Cluster swapping in local tangent plane coordinates.</p>
</caption>
<graphic xlink:href="10.1177_0954407012454976-fig9.tif"/>
</fig>
<p>Regardless of the filters and conditioning routines set-up in cascade through which positioning messages are driven, there is no practical way to guarantee the absence of isolated random readings. Electromagnetic interferences or random data generated in the computer may generate meaningless values of key parameters. After a recording session held on 29 June 2010, in which the number of satellites had been high (over seven and the HDOP low, close inspection of the data revealed that a few estimates had <italic>randomly mutated</italic> latitude 39 to latitude 29, which is, to all extents, impossible. Just one single wrong number changed the position of the vehicle from Spain to Africa. Fortunately, this kind of error happens very seldom, but they cannot be accepted for a real application, even if they happen only once. Mapping algorithms must include strong consistency filters before issuing definite information maps, prescription protocols or site-specific automatic instructions. It is very valuable to be site-specific, but being wrong-site-specific may induce serious problems. The path traced by the set of points of <xref ref-type="fig" rid="fig10-0954407012454976">Figure 10</xref> reveals two outliers at points 13 and 26, in spite of a NOS between 6 and 9 (<xref ref-type="fig" rid="fig11-0954407012454976">Figure 11(a)</xref>) and an HDOP value oscillating between 1.2 and 2.5 (<xref ref-type="fig" rid="fig11-0954407012454976">Figure 11(b)</xref>). As expected, both outliers appeared before point 30 when conditions of NOS and HDOP were less favorable, according to <xref ref-type="fig" rid="fig11-0954407012454976">Figure 11</xref>; but, on the other hand, point 26 was acquired with eight satellites in solution and a HDOP of 1.3, which are considered to be good, positive values for GPS localization. The negative effect of these two outliers can be appreciated in <xref ref-type="fig" rid="fig12-0954407012454976">Figure 12</xref>, which represents an estimation of the vehicle heading. The actual values of the heading were 80° going north-east, and −100° going south-west in the return pass. The plot shows how consistency strongly deteriorates due to the two outliers, resulting in 50° jumps that can never be acceptable, regardless of the application pursued. The effect of these outliers on the calculation of the forward velocity was even worse, leading to jumps from the actual velocity of 5 km/h to unrealistic values of almost 25 km/h. Nevertheless, the occurrence of undetected outliers was very low when the total amount of tests is taken into account. <xref ref-type="table" rid="table1-0954407012454976">Table 1</xref> provides an overview of the experimental design and the results found. Notice that the presence of undetected outliers was induced by high demands of processing power when simultaneously running the GPS filtering routines and machine vision applications on the same computer. The maximum number of points represented in <xref ref-type="table" rid="table1-0954407012454976">Table 1</xref> is the direct application of a 5 Hz sampling rate to the duration of the tests, Δt. This ideal sequence will never be reached due to the multiple processes that take place in the onboard computer, which not only acquires the NMEA strings from the RS-232 but also processes them, displays the results and records the important information in text files. As expected, the difference between the maximum possible number of points and the actual valid points registered increased as parallel processes were activated in the main processing loop. The repetitions were carried out over the same scenarios, but the particular course traced by the tractor depended on each particular test, which ranged from short runs of about one minute to multiple-row paths of over 40 minutes.</p>
<fig id="fig10-0954407012454976" position="float">
<label>Figure 10.</label>
<caption>
<p>Random outliers found in the course traced by an agricultural tractor.</p>
</caption>
<graphic xlink:href="10.1177_0954407012454976-fig10.tif"/>
</fig>
<fig id="fig11-0954407012454976" position="float">
<label>Figure 11.</label>
<caption>
<p>Quality indicators NOS and HDOP for the trajectory plotted in <xref ref-type="fig" rid="fig10-0954407012454976">Figure 10</xref>.</p>
</caption>
<graphic xlink:href="10.1177_0954407012454976-fig11.tif"/>
</fig>
<fig id="fig12-0954407012454976" position="float">
<label>Figure 12.</label>
<caption>
<p>Heading estimation for the trajectory represented in <xref ref-type="fig" rid="fig10-0954407012454976">Figure 10</xref>.</p>
</caption>
<graphic xlink:href="10.1177_0954407012454976-fig12.tif"/>
</fig>
</sec>
<sec id="section6-0954407012454976">
<title>Conclusions and lessons learned</title>
<p>The algorithm proposed in <xref ref-type="fig" rid="fig4-0954407012454976">Figure 4</xref> to improve the quality of GPS messages based on the NMEA code was able to remove spurious data by assembling proper strings from consecutive acquisition loops. In addition, it incorporates several consistency checks to enhance reliability based on the number of satellites in solution, HDOP, altitude, heading and travelling velocity. All these measures resulted in the practical strengthening of a global positioning system for agricultural applications, which may range from the basic registration of a vehicle’s course to the combination of the GPS receiver with more sophisticated algorithms for navigation or crop mapping and monitoring. However, although basic performance was achieved in general terms, experimental data revealed interesting facts for further investigation. First, while NOS and HDOP can be considered essential parameters to discard messages of low reliability, they cannot be taken as definitive evaluators to grant high reliability, as random mutations may appear over any stage of the positioning process. Second, the phenomenon of clustering along the east–west direction in discrete steps is important for working velocities below 5 km/h; therefore, according to each application developed, its effect may or may not impact the final results. Third, the appearance of random outliers, such as those shown in <xref ref-type="fig" rid="fig1-0954407012454976">Figures 1</xref> and <xref ref-type="fig" rid="fig10-0954407012454976">10</xref>, need special treatment. A detailed exploration of the 13 outliers plotted in <xref ref-type="fig" rid="fig1-0954407012454976">Figure 1</xref> revealed that the errors only affected the north coordinate transformation. However, since the same algorithm was applied to the entire series, and 94 % of the points were correctly determined, it is evident that the problem is not in the algorithm itself, but in the overload of computer processes that caused the algorithm create artifacts at the time these 13 points were transformed. Furthermore, <xref ref-type="table" rid="table1-0954407012454976">Table 1</xref> shows that the algorithm was 100 % effective when the computer was not engaged in parallel high-cost computations, and only a few outliers appeared under severe demands on processing power. In any case, regardless of the origin of the fault, the main concern is the detection of conflictive points prior to their final delivery and utilization. GPS-based heading and velocity might bring vital information to assist in the real time detection of random outliers. <xref ref-type="fig" rid="fig13-0954407012454976">Figure 13</xref> represents the estimated heading of the vehicle that acquired the information shown in <xref ref-type="fig" rid="fig1-0954407012454976">Figure 1</xref>. Forward runs had a heading of 80°, whereas return runs had a heading of −100°. The in-field estimated heading of <xref ref-type="fig" rid="fig13-0954407012454976">Figure 13</xref> indicates stable values at the expected angles of 80° and −100°, delimited by big changes in heading over the headland turns, which can be anticipated after taking 180° U-turns to change rows. What cannot be justified, however, is the set of isolated peaks for the heading recorded within the 100 m straight rows, where vehicle orientation is approximately constant. These sharp peaks – of 50° or more – coincide with random outliers that point at unrealistic disruptions in the course followed by the vehicle; by keeping track of these peaks, the filtering system can be aware of potential outliers while map construction is still in progress.</p>
<fig id="fig13-0954407012454976" position="float">
<label>Figure 13.</label>
<caption>
<p>GPS-based heading estimation for the trajectory plotted in <xref ref-type="fig" rid="fig1-0954407012454976">Figure 1</xref>.</p>
</caption>
<graphic xlink:href="10.1177_0954407012454976-fig13.tif"/>
</fig>
<p>The embedded quality indices NOS and HDOP are essential to implement the data-conditioning strategies outlined in this work. Although they represent different concepts, namely the number of satellites in solution and how homogeneously these satellites are placed with respect to each other, there exists a practical relationship that couples them, so that a low NOS implies a high HDOP, and vice versa. The extent and mode of this relationship may be significant for consistency purposes. Obviously, a number of satellites cannot be associated with a unique HDOP because there are many ways in which satellites can spread out above the antenna of receivers, but some general boundaries can be defined according to practical experience. <xref ref-type="fig" rid="fig14-0954407012454976">Figure 14</xref> identifies an area of high likelihood for the pair NOS–HDOP. This area is limited by two quadratic curves, whose mathematical equations are given by <xref ref-type="disp-formula" rid="disp-formula2-0954407012454976">equations (2)</xref> and <xref ref-type="disp-formula" rid="disp-formula3-0954407012454976">(3)</xref>, and which are the result of a regression analysis conducted over 22 field experiments performed from 2 June to 23 August 2010. According to <xref ref-type="fig" rid="fig14-0954407012454976">Figure 14</xref>, given a number of satellites, a normal range for the HDOP can be predicted by drawing a vertical line at the current NOS and calculating the intersection with both bounding curves. This prediction can also serve as a resource to detect anomalies in applications featuring GPS-based localization.</p>
<fig id="fig14-0954407012454976" position="float">
<label>Figure 14.</label>
<caption>
<p>NOS–HDOP practical relationship.</p>
</caption>
<graphic xlink:href="10.1177_0954407012454976-fig14.tif"/>
</fig>
<p>
<disp-formula id="disp-formula2-0954407012454976">
<label>(2)</label>
<mml:math display="block" id="math2-0954407012454976">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mi>HDOP</mml:mi>
<mml:mo>]</mml:mo>
</mml:mrow>
<mml:mrow>
<mml:mi>min</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mn>0</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>0411</mml:mn>
<mml:mo>·</mml:mo>
<mml:mi>NO</mml:mi>
<mml:msup>
<mml:mrow>
<mml:mi>S</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msup>
<mml:mo>−</mml:mo>
<mml:mn>0</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>8046</mml:mn>
<mml:mo>·</mml:mo>
<mml:mi>NOS</mml:mi>
<mml:mspace width="0.25em"/>
<mml:mspace width="0.25em"/>
<mml:mspace width="0.25em"/>
<mml:mspace width="0.25em"/>
<mml:mo>+</mml:mo>
<mml:mn>4</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>8714</mml:mn>
<mml:mo>;</mml:mo>
<mml:mo>∀</mml:mo>
<mml:mi>NOS</mml:mi>
<mml:mo>&lt;</mml:mo>
<mml:mn>11</mml:mn>
<mml:msup>
<mml:mrow>
<mml:mi>R</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msup>
<mml:mo>=</mml:mo>
<mml:mn>0</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>9884</mml:mn>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula2-0954407012454976" xlink:href="10.1177_0954407012454976-eq2.tif"/>
</disp-formula>
</p>
<p>
<disp-formula id="disp-formula3-0954407012454976">
<label>(3)</label>
<mml:math display="block" id="math3-0954407012454976">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mi>HDOP</mml:mi>
<mml:mo>]</mml:mo>
</mml:mrow>
<mml:mrow>
<mml:mi>max</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mn>0</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>0786</mml:mn>
<mml:mo>·</mml:mo>
<mml:mi>NO</mml:mi>
<mml:msup>
<mml:mrow>
<mml:mi>S</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msup>
<mml:mo>−</mml:mo>
<mml:mn>1</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>5443</mml:mn>
<mml:mo>·</mml:mo>
<mml:mi>NOS</mml:mi>
<mml:mspace width="0.25em"/>
<mml:mspace width="0.25em"/>
<mml:mspace width="0.25em"/>
<mml:mspace width="0.25em"/>
<mml:mo>+</mml:mo>
<mml:mn>8</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>80</mml:mn>
<mml:mo>;</mml:mo>
<mml:mo>∀</mml:mo>
<mml:mi>NOS</mml:mi>
<mml:mo>&lt;</mml:mo>
<mml:mn>11</mml:mn>
<mml:msup>
<mml:mrow>
<mml:mi>R</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msup>
<mml:mo>=</mml:mo>
<mml:mn>0</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>9838</mml:mn>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula3-0954407012454976" xlink:href="10.1177_0954407012454976-eq3.tif"/>
</disp-formula>
</p>
<p>The methodology described in this article was further tested and challenged in 2011 with an alternative low-cost GPS receiver (Garmin 18x 5 Hz, Garmin International Inc, Olathe, KS, USA). The reported phenomena of drift and coordinate quantization were also observed for the alternative receiver. Furthermore, jumps were present in both directions, East and North, and outliers appeared with more severity due to the lower capacity of the low-cost receiver. These outcomes corroborated the findings of the tests conducted in 2010 and proved that the problems then detected were not receiver-specific; however, the algorithm was equally efficient in the conditioning process of primary NMEA strings. The use of a less sophisticated receiver induced the improvement of the timing checks and waiting loops, as more control by the user on data input delays had to be implemented in order to let GPS strings enough time to be acquired through the RS-232 serial port. Computer performance was found to be critical in the generation of errors; when parallel processes related to machine vision were highly demanding, the occurrence of outliers increased. Consequently, the positioning engine of the vehicle must be considered and analyzed in conjunction with all the other tasks controlled by the processing computer, as the advantageous design of multitasking loops is decisive for the proper behaviour of automated vehicles.</p>
</sec>
</body>
<back>
<ack><p>The authors would like to thank Juan José Peña Suárez and Montano Pérez Teruel for their assistance in the preparation of the prototype vehicle, Verónica Sáiz Rubio for her help during most of the field experiments and Luis Gil-Orozco Esteve for granting permission to perform tests in the vineyards of winery Finca Ardal.</p></ack>
<fn-group>
<fn fn-type="financial-disclosure">
<label>Funding</label>
<p>Our gratitude is extended to the Spanish Ministry of Science and Innovation for funding this research through project AGL2009-11731.</p>
</fn>
</fn-group>
<ref-list>
<title>References</title>
<ref id="bibr1-0954407012454976">
<label>1.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Zhang</surname><given-names>N</given-names></name>
<name><surname>Wang</surname><given-names>M</given-names></name>
<name><surname>Wang</surname><given-names>N.</given-names></name>
</person-group> <article-title>Precision agriculture –a worldwide overview</article-title>. <source>Computers and Electronics in Agriculture</source> <year>2002</year>; <volume>36</volume>(<issue>2–3</issue>): <fpage>113</fpage>–<lpage>132</lpage>.</citation>
</ref>
<ref id="bibr2-0954407012454976">
<label>2.</label>
<citation citation-type="confproc">
<person-group person-group-type="author">
<name><surname>Pölling</surname><given-names>B</given-names></name>
<name><surname>Herold</surname><given-names>L</given-names></name>
<name><surname>Volgmann</surname><given-names>A</given-names></name><etal/>
</person-group>. <article-title>Assessing the potential use of Precision Farming-technologies in the EU</article-title>. In: <source>Proceedings of the international conference on agricultural engineering, AgEng</source>, <conf-loc>Clermont-Ferrand, France</conf-loc>, <conf-date>6–8 September 2010</conf-date>. <publisher-loc>France</publisher-loc>: <publisher-name>EurAgEng and Cemagref</publisher-name>.</citation>
</ref>
<ref id="bibr3-0954407012454976">
<label>3.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Bramley</surname><given-names>RGV</given-names></name>
</person-group>. <article-title>Lessons from nearly 20 years of Precision Agriculture research, development, and adoption as a guide to its appropriate application</article-title>. <source>Crop &amp; Pasture Science</source> <year>2009</year>; <volume>60</volume>(<issue>3</issue>): <fpage>197</fpage>–<lpage>217</lpage>.</citation>
</ref>
<ref id="bibr4-0954407012454976">
<label>4.</label>
<citation citation-type="book">
<person-group person-group-type="author">
<name><surname>Mitchell</surname><given-names>C.</given-names></name>
</person-group> <article-title>Down home and high tech</article-title>. <source>Resource</source> <year>2011</year>; <volume>17</volume>: Special issue January/February. <publisher-loc>St Joseph, MI</publisher-loc>: <publisher-name>ASABE</publisher-name>.</citation>
</ref>
<ref id="bibr5-0954407012454976">
<label>5.</label>
<citation citation-type="patent">
<person-group person-group-type="author">
<name><surname>Rovira-Más</surname><given-names>F.</given-names></name>
</person-group> <article-title>Recent innovations in off-road intelligent vehicles: in-field automatic navigation</article-title>. <source>Recent Patents on Mechanical Engineering</source> <year>2009</year>; <volume>2</volume>(<issue>3</issue>): <fpage>169</fpage>–<lpage>178</lpage>.</citation>
</ref>
<ref id="bibr6-0954407012454976">
<label>6.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Humphreys</surname><given-names>TE</given-names></name>
<name><surname>Bhatti</surname><given-names>JA</given-names></name>
<name><surname>Ledvina</surname><given-names>BM.</given-names></name>
</person-group> <article-title>The GPS assimilator</article-title>. <source>Inside GNSS</source> <year>2010</year>; <volume>5</volume>(<issue>4</issue>): <fpage>50</fpage>–<lpage>58</lpage>.</citation>
</ref>
<ref id="bibr7-0954407012454976">
<label>7.</label>
<citation citation-type="book">
<person-group person-group-type="author">
<name><surname>Strohman</surname><given-names>R</given-names></name>
<name><surname>Mastin</surname><given-names>T</given-names></name>
</person-group>. <article-title>Datums for a dynamic earth. ASABE paper no. 095776, 2009</article-title>. <publisher-loc>St Joseph, MI</publisher-loc>: <publisher-name>ASABE</publisher-name>.</citation>
</ref>
<ref id="bibr8-0954407012454976">
<label>8.</label>
<citation citation-type="book">
<person-group person-group-type="author">
<name><surname>Larzelere</surname><given-names>WM</given-names></name>
<name><surname>Landers</surname><given-names>AJ</given-names></name>
</person-group>. <article-title>Development of a spray monitoring system for a vineyard canopy sprayer</article-title>. ASABE paper no. 1009012, 2012. <publisher-loc>St Joseph, MI</publisher-loc>: <publisher-name>ASABE</publisher-name>.</citation>
</ref>
<ref id="bibr9-0954407012454976">
<label>9.</label>
<citation citation-type="web">
<person-group person-group-type="author">
<name><surname>Rovira-Más</surname><given-names>F</given-names></name>
</person-group>. <article-title>Global 3D terrain maps for agricultural applications</article-title>. In: <person-group person-group-type="editor">
<name><surname>Bhatti</surname><given-names>A</given-names></name>
</person-group> (ed.) <source>Advances in theory and applications of stereo vision</source>. <publisher-loc>Rijeka, Croatia</publisher-loc>: <publisher-name>InTech</publisher-name>, <year>2011</year>, pp.<fpage>227</fpage>–<lpage>242</lpage>, available at: <ext-link ext-link-type="uri" xlink:href="http://www.intechopen.com/articles/show/title/global-3d-terrain-maps-for-agricultural-applications">http://www.intechopen.com/articles/show/title/global-3d-terrain-maps-for-agricultural-applications</ext-link> (<access-date>accessed 13 July 2012</access-date>).</citation>
</ref>
<ref id="bibr10-0954407012454976">
<label>10.</label>
<citation citation-type="book">
<person-group person-group-type="author">
<name><surname>Guo</surname><given-names>L</given-names></name>
<name><surname>Zhang</surname><given-names>Q</given-names></name>
<name><surname>Feng</surname><given-names>L</given-names></name>
</person-group>. <article-title>A low-cost integrated positioning system of GPS and inertial sensors for autonomous agricultural vehicles. ASABE paper no. 033112</article-title>, <year>2003</year>. <publisher-loc>St Joseph, MI</publisher-loc>: <publisher-name>ASABE</publisher-name>.</citation>
</ref>
<ref id="bibr11-0954407012454976">
<label>11.</label>
<citation citation-type="confproc">
<person-group person-group-type="author">
<name><surname>Mizushima</surname><given-names>A</given-names></name>
<name><surname>Noguchi</surname><given-names>N</given-names></name>
<name><surname>Ishii</surname><given-names>K</given-names></name>
</person-group>. <article-title>Automatic navigation of agricultural vehicle using a low-cost attitude sensor</article-title>. In: <conf-name>Proceedings of automation technology for off-road equipment conference</conf-name>, <conf-loc>Kyoto, Japan</conf-loc>, <conf-date>7–8 October 2004</conf-date>, pp.<fpage>98</fpage>–<lpage>106</lpage>. <publisher-loc>St Joseph, MI</publisher-loc>: <publisher-name>ASABE</publisher-name>.</citation>
</ref>
<ref id="bibr12-0954407012454976">
<label>12.</label>
<citation citation-type="book">
<person-group person-group-type="author">
<name><surname>Rovira-Más</surname><given-names>F</given-names></name>
<name><surname>Han</surname><given-names>S</given-names></name>
<name><surname>Wei</surname><given-names>J</given-names></name><etal/>
</person-group>. <article-title>Fuzzy logic model for sensor fusion of machine vision and GPS in autonomous navigation</article-title>. ASABE paper no. 051156, <year>2005</year>. <publisher-loc>St Joseph, MI</publisher-loc>: <publisher-name>ASABE</publisher-name>.</citation>
</ref>
<ref id="bibr13-0954407012454976">
<label>13.</label>
<citation citation-type="book">
<person-group person-group-type="author">
<name><surname>Grewal</surname><given-names>MS</given-names></name>
<name><surname>Weill</surname><given-names>LR</given-names></name>
<name><surname>Andrews</surname><given-names>AP.</given-names></name>
</person-group> <source>Global positioning systems, inertial navigation and integration</source>. <publisher-loc>New York</publisher-loc>: <publisher-name>John Wiley</publisher-name>, <year>2001</year>.</citation>
</ref>
<ref id="bibr14-0954407012454976">
<label>14.</label>
<citation citation-type="book">
<person-group person-group-type="author">
<name><surname>Rovira-Más</surname><given-names>F</given-names></name>
<name><surname>Zhang</surname><given-names>Q</given-names></name>
<name><surname>Hansen</surname><given-names>AC.</given-names></name>
</person-group> <source>Mechatronics and intelligent systems for off-road vehicles</source>, <edition>1st edn</edition>. <publisher-loc>London</publisher-loc>: <publisher-name>Springer</publisher-name>. <year>2010</year>, chs 3 and 6.</citation>
</ref>
</ref-list>
</back>
</article>