<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article
  PUBLIC "-//NLM//DTD Journal Publishing DTD v2.3 20070202//EN" "journalpublishing.dtd">
<article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" article-type="research-article">
<front>
<journal-meta>
<journal-id journal-id-type="publisher-id">PIB</journal-id>
<journal-id journal-id-type="hwp">sppib</journal-id>
<journal-title>Proceedings of the Institution of Mechanical Engineers, Part B: Journal of Engineering Manufacture</journal-title>
<issn pub-type="ppub">0954-4054</issn>
<issn pub-type="epub">2041-1975</issn>
<publisher>
<publisher-name>SAGE Publications</publisher-name>
<publisher-loc>Sage UK: London, England</publisher-loc>
</publisher>
</journal-meta>
<article-meta>
<article-id pub-id-type="doi">10.1177/0954405411431402</article-id>
<article-id pub-id-type="publisher-id">10.1177_0954405411431402</article-id>
<article-categories>
<subj-group subj-group-type="heading">
<subject>Original Articles</subject>
</subj-group>
</article-categories>
<title-group>
<article-title>Compensation of reference surface errors in the machining of free form features</article-title>
</title-group>
<contrib-group>
<contrib contrib-type="author">
<name><surname>Fallah</surname><given-names>Meghdad</given-names></name>
</contrib>
<contrib contrib-type="author" corresp="yes">
<name><surname>Arezoo</surname><given-names>Behrooz</given-names></name>
</contrib>
<aff id="aff1-0954405411431402">Department of Mechanical Engineering, Amirkabir University of Technology, Tehran, Iran</aff>
</contrib-group>
<author-notes>
<corresp id="corresp1-0954405411431402">Behrooz Arezoo, Department of Mechanical Engineering, Amirkabir University of Technology, Tehran, Iran. Email: <email>barezoo@yahoo.com</email></corresp>
</author-notes>
<pub-date pub-type="epub-ppub">
<month>5</month>
<year>2012</year>
</pub-date>
<volume>226</volume>
<issue>5</issue>
<fpage>824</fpage>
<lpage>836</lpage>
<history>
<date date-type="received">
<day>21</day>
<month>6</month>
<year>2011</year>
</date>
<date date-type="accepted">
<day>8</day>
<month>11</month>
<year>2011</year>
</date>
</history>
<permissions>
<copyright-statement>© IMechE 2012</copyright-statement>
<copyright-year>2012</copyright-year>
<copyright-holder content-type="society">Institution of Mechanical Engineers</copyright-holder>
</permissions>
<abstract>
<p>One of the major sources of error in machining operations is the inaccurate positioning of the workpiece in the fixture. Generally, the surface of the workpiece that is in contact with the fixture locators is used as a workpiece reference surface (WRS). Errors in the WRS can lead to improper placing of the workpiece in the fixture and, in turn, to inaccurate machining operations. In this paper, a method is introduced that eliminates the effect of WRS errors on machined features produced in a milling operation. In the proposed method the positioning of the workpiece with consideration of WRS errors is mathematically modelled using homogenous transformation matrices. This model is then used to compensate the effect of WRS errors by modifying the machining toolpath. A post-processing workpiece error compensation module is developed that modifies the initial NC-codes that are generated from a CAM system. The presented method is verified using the simulation software NX and VERICUT and experimental studies. The results confirm that this method can be used to successfully compensate these kinds of errors.</p>
</abstract>
<kwd-group>
<kwd>Workpiece reference surface errors</kwd>
<kwd>fixture</kwd>
<kwd>error compensation</kwd>
<kwd>CNC milling</kwd>
</kwd-group>
</article-meta>
</front>
<body>
<sec id="section1-0954405411431402" sec-type="intro">
<title>Introduction</title>
<p>There are several sources of error in machining processes, such as machine tool geometric,<sup><xref ref-type="bibr" rid="bibr1-0954405411431402">1</xref>–<xref ref-type="bibr" rid="bibr4-0954405411431402">4</xref></sup> thermal<sup><xref ref-type="bibr" rid="bibr5-0954405411431402">5</xref>–<xref ref-type="bibr" rid="bibr7-0954405411431402">7</xref></sup> and deformation errors,<sup><xref ref-type="bibr" rid="bibr8-0954405411431402">8</xref>–<xref ref-type="bibr" rid="bibr11-0954405411431402">11</xref></sup> fixturing errors<sup><xref ref-type="bibr" rid="bibr12-0954405411431402">12</xref>–<xref ref-type="bibr" rid="bibr14-0954405411431402">14</xref></sup> and workpiece reference surface (WRS) errors. The fixturing errors consist of positioning errors and deformation errors. Positioning errors may be due to inaccuracies in the fixture and its elements whereas deformation errors are related to the deformation of the workpiece and fixture under machining and clamping loads. WRS errors can cause inappropriate placing of the workpiece in the fixture and as a result the workpiece can be subject to inaccurate machining operations.</p>
<p>Workpieces usually have two kinds of reference surfaces: design and manufacturing surfaces. The design reference surfaces of a workpiece are those surfaces that are in contact with other components in a mechanism or a machine. Thus, all other features of the workpiece have their dimensions relative to the design reference surface. Also, in the measuring procedure of the workpiece after manufacturing, these design reference surfaces are used as references for inspection purposes.</p>
<p>The manufacturing reference surfaces enable features on a workpiece to be interrelated during machining operations. The machining reference surfaces are used to specify the position of the workpiece relative to the cutting tool and the machining coordinate system. If the machining and design reference surfaces are identical, then the possible errors created by changing the design reference surfaces to machining reference surfaces are minimal. However, often due to design considerations, the design reference surfaces are different from the manufacturing reference surfaces. In this case errors due to this translation may occur. In this paper, the reference surfaces act as manufacturing reference surfaces. In machining operations, the reference surfaces of the workpiece are placed on the fixture locators.</p>
<p>Generally, a workpiece is machined in several operations with a different feature being created in each operation. Normally, the first machined features are used as reference surfaces for machining new features. Thus WRS errors can originate as a result of a raw workpiece or a faulty operation in previous machining stages. These errors can result in inaccuracies in the newly machined features. Therefore, to manufacture error-free parts, the errors of the reference surface should be as low as possible and they must be manufactured accurately in previous operations. However, regarding design considerations, it is not always necessary. Making these reference surfaces accurately, increases the time and cost of the product.</p>
<p>A new method for manufacturing error-free workpieces that can help to decrease the production time and cost is presented in this paper. In this method, the WRSs are mathematically modelled with respect to their errors. Using this model, the necessary homogenous transformation matrices<sup><xref ref-type="bibr" rid="bibr15-0954405411431402">15</xref></sup> (HTMs) for transforming the machining toolpath to compensate the WRS errors are generated. These HTMs are used in a prepared workpiece error compensation (WEC) module. This module translates the initial machining toolpath via modifying initial NC-codes which are generated from a CAD/CAM system.</p>
<p>The proposed method could be a significant aid to production industries. In these industries, the parts are usually manufactured in several steps. In each step some features are formed on the parts. These features are not necessarily the final features of the parts and are the reference surfaces for machining the final surfaces. If these reference surfaces are machined incorrectly in previous steps, the final features are not machined correctly. Thus, even though these reference features may not be important in themselves or for the functioning of the final part, they are important in the sense that they do provide reference surfaces for final finished parts. Some of these reference surfaces may even be machined and removed completely at some stage of the machining process. The presented method attempts to solve these problems and reduce the cost of production.</p>
<p>In the following sections, the related literature is reviewed. The mathematical modelling of WRS errors and their compensation procedures are explained. Finally, the presented method is verified by performing experimental tests and simulations using the simulation software NX<sup><xref ref-type="bibr" rid="bibr16-0954405411431402">16</xref></sup> and VERICUT.<sup><xref ref-type="bibr" rid="bibr17-0954405411431402">17</xref></sup></p>
</sec>
<sec id="section2-0954405411431402">
<title>Review of related research work</title>
<p>There is a relatively sparse literature on the modelling and compensation of WRS errors. Some of the existing literature is focused on the prediction and compensation of force-induced errors in workpieces. Cho et al.<sup><xref ref-type="bibr" rid="bibr18-0954405411431402">18</xref></sup> presented a compensation methodology for the machining of profile surfaces. Their method utilizes an on-machine measurement system and modifies the machining toolpath and parameters to compensate the errors. Ratchev et al.<sup><xref ref-type="bibr" rid="bibr19-0954405411431402">19</xref></sup> presented an analytical flexible force model with a finite element model that is used to predict the machining form error of low-rigidity parts. Ratchev et al.<sup><xref ref-type="bibr" rid="bibr20-0954405411431402">20</xref></sup> also introduced a multilevel error compensation method for force-induced errors in the machining of thin-walled structures. They predicted the part deflection in the machining toolpath and optimized the toolpath to compensate the predicted errors. Wan et al.<sup><xref ref-type="bibr" rid="bibr21-0954405411431402">21</xref></sup> presented a systematic procedure for the simulation of a peripheral milling process of thin-walled parts. The method was used to optimize the process parameters to achieve high-precision milling. Subsequently, Wan et al.<sup><xref ref-type="bibr" rid="bibr22-0954405411431402">22</xref></sup> focused on controlling the force-induced errors in milling of low-rigidity parts. They attempted to increase precision while maintaining a desired productivity level.</p>
<p>About the WRS, in the existing literature, only the effects of the WRS errors on the inaccuracies created in machined features have been studied. Estrems et al.<sup><xref ref-type="bibr" rid="bibr23-0954405411431402">23</xref></sup> presented a technique that was able to identify the corners of a workpiece that could potentially be inaccurate; it was based on fixture and workpiece inaccuracies and uncertainty of the machining process. They predicted whether or not a machined workpiece would be acceptable. Introducing a method for decreasing those inaccuracies would complete that work. Also, Qin and Zhang<sup><xref ref-type="bibr" rid="bibr24-0954405411431402">24</xref></sup> studied the effect of workpiece position errors, workpiece elastic deformations errors and inconsistent datum errors on the accuracy of machined features. Wan et al.<sup><xref ref-type="bibr" rid="bibr25-0954405411431402">25</xref></sup> investigated three types of errors, i.e. machine tool, fixture and WRS errors and presented a unified framework that utilized differential motion methodology to model the errors. They applied this approach to systems with adjustable pins; the errors being accommodated by adjusting the locator pins. Shen<sup><xref ref-type="bibr" rid="bibr26-0954405411431402">26</xref></sup> presented a method for estimating uncertainties due to geometric form errors in WRSs, fixture locating point variations and coordinate measurement errors and their propagation through multistage manufacturing processes. They only studied the errors and did not introduce a useful method for decreasing them. Also, Djurdjanovic and Ni<sup><xref ref-type="bibr" rid="bibr27-0954405411431402">27</xref></sup> studied the influence of fixture errors, locating datum feature errors and measurement datum feature errors on the dimensional inaccuracies of machined features. Loose et al.<sup><xref ref-type="bibr" rid="bibr28-0954405411431402">28</xref></sup> investigated multistage machining processes and used HTMs to translate geometric dimensioning and tolerance characteristic of the WRSs to predict machined feature accuracies in subsequent processes. Zhou et al.<sup><xref ref-type="bibr" rid="bibr29-0954405411431402">29</xref></sup> used a state space model to represent geometric deviations of the workpiece due to the errors of each machining process in multistage processes.</p>
<p>The discussed works are mostly concerned with the problem of predicting whether or not a workpiece is acceptable as a result of various error sources. To the authors’ knowledge no attention has been paid to solving the problem of the compensation and cancelling of WRS errors. In this paper a method for mathematical modelling of the WRSs with respect to their errors and compensating them is presented. <xref ref-type="fig" rid="fig1-0954405411431402">Figure 1</xref> is a flow chart of the presented method.</p>
<fig id="fig1-0954405411431402" position="float">
<label>Figure 1.</label>
<caption>
<p>The proposed method for compensating the effect of WRS errors on workpiece features in CNC machining.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig1.tif"/>
</fig>
</sec>
<sec id="section3-0954405411431402">
<title>Assumptions</title>
<p>The following assumptions are made in the present work.</p>
<list id="list1-0954405411431402" list-type="order">
<list-item><p>A general workpiece with three reference surfaces is considered in this work.</p></list-item>
<list-item><p>The general 3-2-1 principle is used for fixture layout design.</p></list-item>
<list-item><p>The contact between the fixture locators and the workpiece surfaces are point-surface type.</p></list-item>
<list-item><p>The surfaces of the workpiece that are placed on the fixture locating system are planar.</p></list-item>
<list-item><p>The workpiece and fixture elements are rigid; thus deformations due to clamping or cutting forces are not considered.</p></list-item>
<list-item><p>The errors due to the machine tool and fixtures and other sources are not considered.</p></list-item>
</list>
</sec>
<sec id="section4-0954405411431402">
<title>Mathematical modelling of the WRS</title>
<p>In this section, the WRS and its errors are introduced and mathematically modelled. Generally, in 3-2-1 fixtures three surfaces of the workpiece are placed on fixture locators. These surfaces act as the WRSs.</p>
<sec id="section5-0954405411431402">
<title>WRS errors</title>
<p>For each reference surface three geometric errors are considered; one longitudinal and two angular errors. Since the workpiece has three reference surfaces, it has a total of nine errors.</p>
<list id="list2-0954405411431402" list-type="order">
<list-item><p>Three longitudinal errors <inline-formula id="inline-formula1-0954405411431402">
<mml:math display="inline" id="math1-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> (<italic>i=x, y</italic> and <italic>z</italic>) which specify the distance between the origin of a perfect workpiece and the origin of the actual workpiece along the <italic>i</italic>-axis.</p></list-item>
<list-item><p>Six angular errors <inline-formula id="inline-formula2-0954405411431402">
<mml:math display="inline" id="math2-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zx</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>, <inline-formula id="inline-formula3-0954405411431402">
<mml:math display="inline" id="math3-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zy</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>, <inline-formula id="inline-formula4-0954405411431402">
<mml:math display="inline" id="math4-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>xy</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>, <inline-formula id="inline-formula5-0954405411431402">
<mml:math display="inline" id="math5-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>xz</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>, <inline-formula id="inline-formula6-0954405411431402">
<mml:math display="inline" id="math6-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>yx</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> and <inline-formula id="inline-formula7-0954405411431402">
<mml:math display="inline" id="math7-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>yz</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> which are the angle between the first subscript plane of the actual workpiece and the corresponding perfect workpiece plane about the second subscript axis. <xref ref-type="fig" rid="fig2-0954405411431402">Figure 2</xref> shows the errors <inline-formula id="inline-formula8-0954405411431402">
<mml:math display="inline" id="math8-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>z</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>, <inline-formula id="inline-formula9-0954405411431402">
<mml:math display="inline" id="math9-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zx</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> and <inline-formula id="inline-formula10-0954405411431402">
<mml:math display="inline" id="math10-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zy</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> for one reference surface of the workpiece. Other errors are not shown in the figure.</p></list-item>
</list>
<fig id="fig2-0954405411431402" position="float">
<label>Figure 2.</label>
<caption>
<p>Some errors of the WRSs.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig2.tif"/>
</fig>
<p><xref ref-type="fig" rid="fig3-0954405411431402">Figures 3(a)</xref> and <xref ref-type="fig" rid="fig3-0954405411431402">(b)</xref> show the accurate and inaccurate positioning of a workpiece in a fixture. In <xref ref-type="fig" rid="fig3-0954405411431402">Figure 3(b)</xref>, the WRSs contain errors and thus the workpiece is placed on the fixture incorrectly.</p>
<fig id="fig3-0954405411431402" position="float">
<label>Figure 3.</label>
<caption>
<p>(a) An appropriate placing of the workpiece on the fixture, and (b) an inappropriate placing of the workpiece due to WRS errors.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig3.tif"/>
</fig>
</sec>
<sec id="section6-0954405411431402">
<title>The workpiece and fixture coordinate systems</title>
<p>Two coordinate systems are considered in the modelling of the WRS errors: the workpiece coordinate system (WP-CS) and the fixture coordinate system (FIX-CS). In the WP-CS, the coordinate planes are the WRSs. The FIX-CS is the coordinate system of the fixture. If the workpiece has no errors on its reference surfaces, then the WP-CS coincides with the FIX-CS. However, because of reference surfaces errors, generally they are not coincident. As shown in <xref ref-type="fig" rid="fig4-0954405411431402">Figure 4</xref>, because of WRS errors the WP-CS axes are not perpendicular to each other.</p>
<fig id="fig4-0954405411431402" position="float">
<label>Figure 4.</label>
<caption>
<p>The FIX-CS and WP-CS when the workpiece reference surfaces have errors.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig4.tif"/>
</fig>
</sec>
<sec id="section7-0954405411431402">
<title>The equations of the WRS</title>
<p>The <italic>XY</italic> reference surface passes through the WP-CS origin. Because of the three longitudinal errors <inline-formula id="inline-formula11-0954405411431402">
<mml:math display="inline" id="math11-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">(</mml:mo>
<mml:mi>i</mml:mi>
<mml:mo>=</mml:mo>
<mml:mi>x</mml:mi>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:mi>y</mml:mi>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:mi>z</mml:mi>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:math></inline-formula>, the origin of the WP-CS is not coincident with that of the FIX-CS. Therefore, the origin point of the WP-CS in the FIX-CS is written as</p>
<p><disp-formula id="disp-formula1-0954405411431402">
<label>(1)</label>
<mml:math display="block" id="math12-0954405411431402">
<mml:mrow>
<mml:mi>Origin</mml:mi>
<mml:mspace width="0.25em"/>
<mml:mi>point</mml:mi>
<mml:mspace width="0.25em"/>
<mml:mi>of</mml:mi>
<mml:mspace width="0.25em"/>
<mml:mi>the</mml:mi>
<mml:mspace width="0.25em"/>
<mml:mi>WP</mml:mi>
<mml:mo>−</mml:mo>
<mml:mi>CS</mml:mi>
<mml:mo>:</mml:mo>
<mml:mrow>
<mml:mo>{</mml:mo>
<mml:mtable align="left">
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>y</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>z</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:mtd>
</mml:mtr>
</mml:mtable>
</mml:mrow>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula1-0954405411431402" xlink:href="10.1177_0954405411431402-eq1.tif"/>
</disp-formula>
</p>
<p><xref ref-type="fig" rid="fig5-0954405411431402">Figure 5</xref> shows the normal vector to the <italic>XY</italic> reference surface and its component angular errors <inline-formula id="inline-formula12-0954405411431402">
<mml:math display="inline" id="math13-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zx</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> and <inline-formula id="inline-formula13-0954405411431402">
<mml:math display="inline" id="math14-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zy</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>. Suppose that the vertical components of the vector are equal to one, then the other normal vector components are <inline-formula id="inline-formula14-0954405411431402">
<mml:math display="inline" id="math15-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zy</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:math></inline-formula> and <inline-formula id="inline-formula15-0954405411431402">
<mml:math display="inline" id="math16-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zx</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:math></inline-formula>. According to analytical geometry, a planar surface in space can pass through a point and be normal to a vector. If the point is <inline-formula id="inline-formula16-0954405411431402">
<mml:math display="inline" id="math17-0954405411431402">
<mml:mrow>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>X</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>Y</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>Z</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:math></inline-formula> and the normal vector is <inline-formula id="inline-formula17-0954405411431402">
<mml:math display="inline" id="math18-0954405411431402">
<mml:mrow>
<mml:mo stretchy="false">(</mml:mo>
<mml:mi>A</mml:mi>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:mi>B</mml:mi>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:mi>C</mml:mi>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:math></inline-formula>, the equation of the surface becomes <inline-formula id="inline-formula18-0954405411431402">
<mml:math display="inline" id="math19-0954405411431402">
<mml:mrow>
<mml:mi>A</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mi>X</mml:mi>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>X</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>+</mml:mo>
<mml:mi>B</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mi>Y</mml:mi>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>Y</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>+</mml:mo>
<mml:mi>C</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mi>Z</mml:mi>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>Z</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>+</mml:mo>
<mml:mi>D</mml:mi>
<mml:mo>=</mml:mo>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:math></inline-formula>. In this case, For the <italic>XY</italic>-surface, the point and the normal vector are <inline-formula id="inline-formula19-0954405411431402">
<mml:math display="inline" id="math20-0954405411431402">
<mml:mrow>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>y</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>z</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:math></inline-formula> and <inline-formula id="inline-formula20-0954405411431402">
<mml:math display="inline" id="math21-0954405411431402">
<mml:mrow>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zy</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zx</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>,</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mn>1</mml:mn>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:math></inline-formula>, respectively, and hence the equation that describes the <italic>XY</italic> surface can be written as</p>
<p><disp-formula id="disp-formula2-0954405411431402">
<label>(2)</label>
<mml:math display="block" id="math22-0954405411431402">
<mml:mrow>
<mml:msup>
<mml:mrow>
<mml:mo>(</mml:mo>
<mml:mi>XY</mml:mi>
<mml:mo>)</mml:mo>
</mml:mrow>
<mml:mrow>
<mml:mi>w</mml:mi>
</mml:mrow>
</mml:msup>
<mml:mo>:</mml:mo>
<mml:mspace width="0.25em"/>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zy</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mi>X</mml:mi>
<mml:mo>+</mml:mo>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zx</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mi>Y</mml:mi>
<mml:mo>+</mml:mo>
<mml:mi>Z</mml:mi>
<mml:mo>−</mml:mo>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zy</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>−</mml:mo>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zx</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>y</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>z</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula2-0954405411431402" xlink:href="10.1177_0954405411431402-eq2.tif"/>
</disp-formula>
</p>
<fig id="fig5-0954405411431402" position="float">
<label>Figure 5.</label>
<caption>
<p>The normal vector to the <italic>XY</italic> reference surface of the WP-CS and the <inline-formula id="inline-formula21-0954405411431402">
<mml:math display="inline" id="math23-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zx</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> and <inline-formula id="inline-formula22-0954405411431402">
<mml:math display="inline" id="math24-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zy</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> errors.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig5.tif"/>
</fig>
</sec>
<sec id="section8-0954405411431402">
<title>The YZ reference surface of the WP-CS</title>
<p>The <italic>YZ</italic> reference surface plane passes through the origin point of the WP-CS and its normal vector is calculated from the surface angular errors <inline-formula id="inline-formula23-0954405411431402">
<mml:math display="inline" id="math25-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>xy</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> and <inline-formula id="inline-formula24-0954405411431402">
<mml:math display="inline" id="math26-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>xz</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> as shown in <xref ref-type="fig" rid="fig6-0954405411431402">Figure 6</xref>. For this surface, the point and the normal vector are <inline-formula id="inline-formula25-0954405411431402">
<mml:math display="inline" id="math27-0954405411431402">
<mml:mrow>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>y</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>z</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:math></inline-formula> and <inline-formula id="inline-formula26-0954405411431402">
<mml:math display="inline" id="math28-0954405411431402">
<mml:mrow>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mn>1</mml:mn>
<mml:mo>,</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>xz</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>xy</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:math></inline-formula>, respectively, and hence the equation that describes the <italic>YZ-</italic>surface can be written as</p>
<p><disp-formula id="disp-formula3-0954405411431402">
<label>(3)</label>
<mml:math display="block" id="math29-0954405411431402">
<mml:mrow>
<mml:msup>
<mml:mrow>
<mml:mo>(</mml:mo>
<mml:mi>YZ</mml:mi>
<mml:mo>)</mml:mo>
</mml:mrow>
<mml:mrow>
<mml:mi>w</mml:mi>
</mml:mrow>
</mml:msup>
<mml:mo>:</mml:mo>
<mml:mi>X</mml:mi>
<mml:mo>+</mml:mo>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>xz</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mi>Y</mml:mi>
<mml:mo>+</mml:mo>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>xy</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mi>Z</mml:mi>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>−</mml:mo>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>xz</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>y</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>−</mml:mo>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>xy</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>z</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula3-0954405411431402" xlink:href="10.1177_0954405411431402-eq3.tif"/>
</disp-formula>
</p>
<fig id="fig6-0954405411431402" position="float">
<label>Figure 6.</label>
<caption>
<p>The normal vector to the <italic>YZ</italic> reference surface of the WP-CS and the <inline-formula id="inline-formula27-0954405411431402">
<mml:math display="inline" id="math30-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>xy</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> and <inline-formula id="inline-formula28-0954405411431402">
<mml:math display="inline" id="math31-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>xz</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> errors.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig6.tif"/>
</fig>
</sec>
<sec id="section9-0954405411431402">
<title>The ZX reference surface of the WP-CS</title>
<p>Similar to the previous cases, the <italic>ZX-</italic>surface passes through the origin point of the WP-CS and its normal vector is created from the <italic>ZX</italic> surface errors <inline-formula id="inline-formula29-0954405411431402">
<mml:math display="inline" id="math32-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>yx</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> and <inline-formula id="inline-formula30-0954405411431402">
<mml:math display="inline" id="math33-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>yz</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> as shown in <xref ref-type="fig" rid="fig7-0954405411431402">Figure 7</xref>. For this surface, the point and the normal vector are <inline-formula id="inline-formula31-0954405411431402">
<mml:math display="inline" id="math34-0954405411431402">
<mml:mrow>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>y</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>z</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:math></inline-formula> and <inline-formula id="inline-formula32-0954405411431402">
<mml:math display="inline" id="math35-0954405411431402">
<mml:mrow>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>3</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>yz</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>3</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mn>1</mml:mn>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>3</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>yx</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:math></inline-formula>, respectively and hence the equation that describes the <italic>YZ-</italic> surface can be written as</p>
<p><disp-formula id="disp-formula4-0954405411431402">
<label>(4)</label>
<mml:math display="block" id="math36-0954405411431402">
<mml:mrow>
<mml:msup>
<mml:mrow>
<mml:mo>(</mml:mo>
<mml:mi>ZX</mml:mi>
<mml:mo>)</mml:mo>
</mml:mrow>
<mml:mrow>
<mml:mi>w</mml:mi>
</mml:mrow>
</mml:msup>
<mml:mo>:</mml:mo>
<mml:mo>−</mml:mo>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>yz</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mi>X</mml:mi>
<mml:mo>+</mml:mo>
<mml:mi>Y</mml:mi>
<mml:mo>+</mml:mo>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>yx</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mi>Z</mml:mi>
<mml:mo>+</mml:mo>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>yz</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>y</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>−</mml:mo>
<mml:mi>tan</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>yx</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>z</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula4-0954405411431402" xlink:href="10.1177_0954405411431402-eq4.tif"/>
</disp-formula>
</p>
<fig id="fig7-0954405411431402" position="float">
<label>Figure 7.</label>
<caption>
<p>The normal vector to the <italic>ZX</italic> reference surface of the WP-CS and the <inline-formula id="inline-formula33-0954405411431402">
<mml:math display="inline" id="math37-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>xy</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> and <inline-formula id="inline-formula34-0954405411431402">
<mml:math display="inline" id="math38-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>xz</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> errors.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig7.tif"/>
</fig>
</sec>
</sec>
<sec id="section10-0954405411431402">
<title>Transformation matrices</title>
<p>If there is no error on the WRSs, the workpiece places on the fixture correctly and the initial NC-codes that are generated from the CAD/CAM system will accurately machine the workpiece. However, if there are any errors on the WRSs, the workpiece will locate on the fixture incorrectly and using the initial codes will result in an inaccurately machined workpiece.</p>
<p>The WRS errors were modelled in the previous section. Now, the HTMs required in order to transform the toolpath from the theoretical position to the actual position is calculated. In actual applications, this transformation is done by modifying the initial NC-codes so that the WRS errors are compensated and the workpiece is machined accurately. The necessary transformations are carried out in four steps.</p>
<list id="list3-0954405411431402" list-type="order">
<list-item><p>Linear transformation of the WP-CS origin to the FIX-CS origin.</p></list-item>
<list-item><p>Placing the WP <italic>XY</italic> reference surface on the FIX <italic>XY</italic>-plane by:<list id="list4-0954405411431402" list-type="alpha-lower"><list-item><p>rotating about the FIX <italic>Y</italic>-axis;</p></list-item><list-item><p>rotating about the FIX <italic>X</italic>-axis.</p></list-item></list></p></list-item>
<list-item><p>Making the WP <italic>ZX</italic> reference surface tangent to fixture locators 2 and 3 by:<list id="list5-0954405411431402" list-type="alpha-lower"><list-item><p>rotating about the FIX <italic>Z</italic>-axis;</p></list-item><list-item><p>linear transforming along the FIX <italic>Y</italic>-axis.</p></list-item></list></p>
<p>The arrangement of the locators is shown in <xref ref-type="fig" rid="fig8-0954405411431402">Figure 8</xref>. In this arrangement the tip of locator 1 is on the FIX <italic>YZ-</italic>plane, locators 2 and 3 are on the FIX <italic>ZX-</italic>plane and locators 4, 5 and 6 are on the FIX <italic>XY-</italic>plane.</p></list-item>
<list-item><p>Making the WP <italic>YZ</italic>-plane tangent to fixture locator 1 by linear transforming it along the FIX <italic>X</italic>-axis</p></list-item>
</list>
<fig id="fig8-0954405411431402" position="float">
<label>Figure 8.</label>
<caption>
<p>The 3-2-1 fixture layout design.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig8.tif"/>
</fig>
<p>For each transformation, a HTM is obtained and finally, by multiplication of all the HTMs, the total HTM is achieved. <xref ref-type="fig" rid="fig9-0954405411431402">Figure 9</xref> shows the initial position of the WP-CS relative to the FIX-CS as a result of the existence of WPS errors.</p>
<fig id="fig9-0954405411431402" position="float">
<label>Figure 9.</label>
<caption>
<p>The WP-CS and the FIX-CS.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig9.tif"/>
</fig>
<sec id="section11-0954405411431402">
<title>Transforming the origin of the WP-CS to be the origin in the FIX-CS</title>
<p>For coincidence of the WP-CS and the FIX-CS, first, the WP-CS origin is moved to the origin of FIX-CS see <xref ref-type="fig" rid="fig10-0954405411431402">Figure 10</xref>. This transformation allows the three longitudinal errors <inline-formula id="inline-formula35-0954405411431402">
<mml:math display="inline" id="math39-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> (<italic>i=x, y</italic> and <italic>z</italic>) to be compensated. The HTM of this transformation can be written as</p>
<p><disp-formula id="disp-formula5-0954405411431402">
<label>(5)</label>
<mml:math display="block" id="math40-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">M</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mtable align="left">
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mi>E</mml:mi>
<mml:mi>x</mml:mi>
</mml:msub>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mi>E</mml:mi>
<mml:mi>y</mml:mi>
</mml:msub>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mi>E</mml:mi>
<mml:mi>z</mml:mi>
</mml:msub>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
</mml:mtr>
</mml:mtable>
<mml:mo>]</mml:mo>
</mml:mrow>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula5-0954405411431402" xlink:href="10.1177_0954405411431402-eq5.tif"/>
</disp-formula>
</p>
<fig id="fig10-0954405411431402" position="float">
<label>Figure 10.</label>
<caption>
<p>Transforming the WP-CS origin to be the FIX-CS origin.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig10.tif"/>
</fig>
</sec>
<sec id="section12-0954405411431402">
<title>Rotating the WP-CS about the FIX-CS Y-axis</title>
<p>As shown in <xref ref-type="fig" rid="fig11-0954405411431402">Figure 11</xref>, this rotation is performed using <inline-formula id="inline-formula36-0954405411431402">
<mml:math display="inline" id="math41-0954405411431402">
<mml:mrow>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zy</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>. Through this transformation, the WP <italic>X</italic>-axis is placed in the FIX <italic>XY-</italic>plane. The HTM can be written as</p>
<p><disp-formula id="disp-formula6-0954405411431402">
<label>(6)</label>
<mml:math display="block" id="math42-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">M</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mtable align="left">
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mi>cos</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zy</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mo>−</mml:mo>
<mml:mi>sin</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zy</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mi>sin</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zy</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mi>cos</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zy</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
</mml:mtr>
</mml:mtable>
<mml:mo>]</mml:mo>
</mml:mrow>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula6-0954405411431402" xlink:href="10.1177_0954405411431402-eq6.tif"/>
</disp-formula>
</p>
<fig id="fig11-0954405411431402" position="float">
<label>Figure 11.</label>
<caption>
<p>The WP-CS is rotated about the FIX <italic>Y</italic>-axis by <inline-formula id="inline-formula37-0954405411431402">
<mml:math display="inline" id="math43-0954405411431402">
<mml:mrow>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zy</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig11.tif"/>
</fig>
</sec>
<sec id="section13-0954405411431402">
<title>Rotating WP-CS about the FIX-CS X-axis</title>
<p>In this step, the WP-CS is rotated about the FIX <italic>X</italic>-axis as shown in <xref ref-type="fig" rid="fig12-0954405411431402">Figure 12</xref>. The rotation angle can be written as</p>
<p><disp-formula id="disp-formula7-0954405411431402">
<mml:math display="block" id="math44-0954405411431402">
<mml:mrow>
<mml:mi>α</mml:mi>
<mml:mo>=</mml:mo>
<mml:msup>
<mml:mrow>
<mml:mi>sin</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mo>−</mml:mo>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msup>
<mml:mrow>
<mml:mo>(</mml:mo>
<mml:mfrac>
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
</mml:mrow>
<mml:mrow>
<mml:msqrt>
<mml:mrow>
<mml:mo stretchy="false">(</mml:mo>
<mml:msubsup>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msubsup>
<mml:mo>+</mml:mo>
<mml:msubsup>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msubsup>
<mml:mo>+</mml:mo>
<mml:msubsup>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msubsup>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:msqrt>
</mml:mrow>
</mml:mfrac>
<mml:mo>)</mml:mo>
</mml:mrow>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula7-0954405411431402" xlink:href="10.1177_0954405411431402-eq7.tif"/>
</disp-formula>
</p>
<fig id="fig12-0954405411431402" position="float">
<label>Figure 12.</label>
<caption><p>WP-CS is rotated about the FIX <italic>X</italic>-axis.</p></caption>
<graphic xlink:href="10.1177_0954405411431402-fig12.tif"/></fig>
<p>where <inline-formula id="inline-formula38-0954405411431402">
<mml:math display="inline" id="math45-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> and <inline-formula id="inline-formula39-0954405411431402">
<mml:math display="inline" id="math46-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> are the coefficients of the equation of the WP <italic>XY</italic>-plane in the FIX-CS. The <italic>Y</italic>-axis of the WP-CS is placed on the FIX <italic>XY</italic>-plane. In the other words, the WP <italic>XY</italic>-surface passes through the tips of locators 4, 5 and 6. The related HTM can be written as</p>
<p><disp-formula id="disp-formula8-0954405411431402">
<label>(7)</label>
<mml:math display="block" id="math47-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">M</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>3</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mtable align="left">
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mi>cos</mml:mi>
<mml:mi>α</mml:mi>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mi>sin</mml:mi>
<mml:mi>α</mml:mi>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mo>−</mml:mo>
<mml:mi>sin</mml:mi>
<mml:mi>α</mml:mi>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mi>cos</mml:mi>
<mml:mi>α</mml:mi>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
</mml:mtr>
</mml:mtable>
<mml:mo>]</mml:mo>
</mml:mrow>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula8-0954405411431402" xlink:href="10.1177_0954405411431402-eq8.tif"/>
</disp-formula>
</p>
</sec>
<sec id="section14-0954405411431402">
<title>Rotating WP-CS about the FIX-CS Z-axis</title>
<p>This rotation is performed to make the WP <italic>X</italic>-axis and FIX <italic>X</italic>-axis parallel. First, the WP <italic>X</italic>-axis equation is achieved. This axis is the intersection of WP <italic>XY</italic> and <italic>ZX</italic> planes and its equation can be written as</p>
<p><disp-formula id="disp-formula9-0954405411431402">
<label>(8)</label>
<mml:math display="block" id="math48-0954405411431402">
<mml:mrow>
<mml:mtable align="left">
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mrow>
<mml:msup>
<mml:mrow>
<mml:mi mathvariant="bold-italic">X</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>w</mml:mi>
</mml:mrow>
</mml:msup>
<mml:mo>=</mml:mo>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mtable align="center">
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mi>i</mml:mi>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mi>j</mml:mi>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mi>k</mml:mi>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:msub>
<mml:mi>A</mml:mi>
<mml:mn>13</mml:mn>
</mml:msub>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:msub>
<mml:mi>B</mml:mi>
<mml:mn>13</mml:mn>
</mml:msub>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:msub>
<mml:mi>C</mml:mi>
<mml:mn>13</mml:mn>
</mml:msub>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:msub>
<mml:mi>A</mml:mi>
<mml:mn>33</mml:mn>
</mml:msub>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:msub>
<mml:mi>B</mml:mi>
<mml:mn>33</mml:mn>
</mml:msub>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:msub>
<mml:mi>C</mml:mi>
<mml:mn>33</mml:mn>
</mml:msub>
</mml:mtd>
</mml:mtr>
</mml:mtable>
<mml:mo>]</mml:mo>
</mml:mrow>
</mml:mrow>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="right">
<mml:mrow>
<mml:mo>=</mml:mo>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>13</mml:mn>
</mml:mrow>
</mml:msub>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>33</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>13</mml:mn>
</mml:mrow>
</mml:msub>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>33</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mi>i</mml:mi>
<mml:mo>+</mml:mo>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>13</mml:mn>
</mml:mrow>
</mml:msub>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>33</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>13</mml:mn>
</mml:mrow>
</mml:msub>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>33</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mi>j</mml:mi>
</mml:mrow>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="right">
<mml:mrow>
<mml:mo>+</mml:mo>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>13</mml:mn>
</mml:mrow>
</mml:msub>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>33</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>13</mml:mn>
</mml:mrow>
</mml:msub>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>33</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mi>k</mml:mi>
<mml:mo>=</mml:mo>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="right">
<mml:mrow>
<mml:mo>⇒</mml:mo>
<mml:mspace width="0.25em"/>
<mml:mrow>
<mml:mo>{</mml:mo>
<mml:mtable align="left">
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>13</mml:mn>
</mml:mrow>
</mml:msub>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>33</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>13</mml:mn>
</mml:mrow>
</mml:msub>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>33</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>13</mml:mn>
</mml:mrow>
</mml:msub>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>33</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>13</mml:mn>
</mml:mrow>
</mml:msub>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>33</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>13</mml:mn>
</mml:mrow>
</mml:msub>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>33</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>13</mml:mn>
</mml:mrow>
</mml:msub>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>33</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:mtd>
</mml:mtr>
</mml:mtable>
</mml:mrow>
</mml:mrow>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="right">
<mml:mrow>
<mml:mo>⇒</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mi>i</mml:mi>
<mml:mo>+</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mi>j</mml:mi>
<mml:mo>+</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:mtd>
</mml:mtr>
</mml:mtable>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula9-0954405411431402" xlink:href="10.1177_0954405411431402-eq9.tif"/>
</disp-formula>
</p>
<p>where <inline-formula id="inline-formula40-0954405411431402">
<mml:math display="inline" id="math49-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>ij</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>ij</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> and <inline-formula id="inline-formula41-0954405411431402">
<mml:math display="inline" id="math50-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>ij</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> are the coefficients of the WP <italic>XY</italic> and <italic>ZX</italic> equations. The first subscript shows the plane (<inline-formula id="inline-formula42-0954405411431402">
<mml:math display="inline" id="math51-0954405411431402">
<mml:mrow>
<mml:mi>i</mml:mi>
<mml:mo>=</mml:mo>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:math></inline-formula> for the <italic>XY</italic>-plane and <inline-formula id="inline-formula43-0954405411431402">
<mml:math display="inline" id="math52-0954405411431402">
<mml:mrow>
<mml:mi>i</mml:mi>
<mml:mo>=</mml:mo>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:math></inline-formula> for the <italic>ZX</italic>-plane) and the second one shows the number of transformations performed by the planes in the previous steps. The angle between the WP <italic>X</italic>-axis and the FIX <italic>X</italic>-axis, i.e. <inline-formula id="inline-formula44-0954405411431402">
<mml:math display="inline" id="math53-0954405411431402">
<mml:mrow>
<mml:mi>β</mml:mi>
</mml:mrow>
</mml:math></inline-formula>, can be obtained using <xref ref-type="disp-formula" rid="disp-formula10-0954405411431402">equation (9)</xref></p>
<p><disp-formula id="disp-formula10-0954405411431402">
<label>(9)</label>
<mml:math display="block" id="math54-0954405411431402">
<mml:mrow>
<mml:mi>β</mml:mi>
<mml:mo>=</mml:mo>
<mml:msup>
<mml:mrow>
<mml:mi>tan</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mo>−</mml:mo>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msup>
<mml:mrow>
<mml:mo>(</mml:mo>
<mml:mfrac>
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:mfrac>
<mml:mo>)</mml:mo>
</mml:mrow>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula10-0954405411431402" xlink:href="10.1177_0954405411431402-eq10.tif"/>
</disp-formula>
</p>
<p>The required HTM for the rotation is written as <xref ref-type="disp-formula" rid="disp-formula11-0954405411431402">equation (10)</xref>. <xref ref-type="fig" rid="fig13-0954405411431402">Figure 13</xref> shows this transformation.</p>
<p><disp-formula id="disp-formula11-0954405411431402">
<label>(10)</label>
<mml:math display="block" id="math55-0954405411431402">
<mml:mstyle displaystyle="true">
<mml:mrow>
<mml:mtable align="left">
<mml:mtr>
<mml:mtd columnalign="center">
<mml:msub>
<mml:mi mathvariant="bold">M</mml:mi>
<mml:mn>4</mml:mn>
</mml:msub>
</mml:mtd>
</mml:mtr>
</mml:mtable>
<mml:mo>=</mml:mo>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mtable align="left">
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mi>cos</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mo>−</mml:mo>
<mml:mi>β</mml:mi>
<mml:mo stretchy="false">)</mml:mo>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mi>sin</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mo>−</mml:mo>
<mml:mi>β</mml:mi>
<mml:mo stretchy="false">)</mml:mo>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mo>−</mml:mo>
<mml:mi>sin</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mo>−</mml:mo>
<mml:mi>β</mml:mi>
<mml:mo stretchy="false">)</mml:mo>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mi>cos</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mo>−</mml:mo>
<mml:mi>β</mml:mi>
<mml:mo stretchy="false">)</mml:mo>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
</mml:mtr>
</mml:mtable>
<mml:mo>]</mml:mo>
</mml:mrow>
</mml:mrow>
</mml:mstyle>
</mml:math><graphic alternate-form-of="disp-formula11-0954405411431402" xlink:href="10.1177_0954405411431402-eq11.tif"/></disp-formula>
</p>
<fig id="fig13-0954405411431402" position="float">
<label>Figure 13.</label>
<caption>
<p>The WP-CS is rotated about the FIX <italic>Z</italic>-axis by <inline-formula id="inline-formula45-0954405411431402">
<mml:math display="inline" id="math56-0954405411431402">
<mml:mrow>
<mml:mi>β</mml:mi>
</mml:mrow>
</mml:math></inline-formula>.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig13.tif"/>
</fig>
<p>After this transformation, the WP <italic>X</italic>-axis is parallel to a line that passes through the tips of locators 2 and 3. However, there is a distance between the tips of the locators and the WP <italic>ZX-</italic>plane which is eliminated in the next step.</p>
</sec>
<sec id="section15-0954405411431402">
<title>Transformation of WP-CS to the tip of locators 2 and 3</title>
<p>In order to place the workpiece on the fixture, the WP <italic>ZX-</italic>surface must be positioned tangentially to the tip of locators 2 and 3. In the previous step, the workpiece was positioned parallel to a line passing through those locator tips. In this step, this distance is eliminated by a transformation along the FIX <italic>Y</italic>-axis. The transformation distance is calculated as follows.</p>
<p><disp-formula id="disp-formula12-0954405411431402">
<label>(11)</label>
<mml:math display="block" id="math57-0954405411431402">
<mml:mrow>
<mml:mi>pin</mml:mi>
<mml:mspace width="0.25em"/>
<mml:mn>2</mml:mn>
<mml:mspace width="0.25em"/>
<mml:mi>position</mml:mi>
<mml:mo>:</mml:mo>
<mml:mspace width="0.25em"/>
<mml:mrow>
<mml:mo>(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>X</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>Y</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>Z</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>)</mml:mo>
</mml:mrow>
<mml:mo>=</mml:mo>
<mml:mrow>
<mml:mo>(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>X</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:mn>0</mml:mn>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>Z</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>)</mml:mo>
</mml:mrow>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula12-0954405411431402" xlink:href="10.1177_0954405411431402-eq12.tif"/>
</disp-formula>
</p>
<p>The equation of the WP <italic>ZX</italic>-plane after the previous transformations is shown in <xref ref-type="disp-formula" rid="disp-formula13-0954405411431402">equation (12)</xref></p>
<p><disp-formula id="disp-formula13-0954405411431402">
<label>(12)</label>
<mml:math display="block" id="math58-0954405411431402">
<mml:mrow>
<mml:mo stretchy="false">(</mml:mo>
<mml:mi>ZX</mml:mi>
<mml:msup>
<mml:mrow>
<mml:mo stretchy="false">) </mml:mo>
</mml:mrow>
<mml:mrow>
<mml:mi>w</mml:mi>
</mml:mrow>
</mml:msup>
<mml:mo>:</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>34</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mi>X</mml:mi>
<mml:mo>+</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>34</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mi>Y</mml:mi>
<mml:mo>+</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>34</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mi>Z</mml:mi>
<mml:mo>+</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>D</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>34</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula13-0954405411431402" xlink:href="10.1177_0954405411431402-eq13.tif"/>
</disp-formula>
</p>
<p>The distance between the tips of locators 2 and 3 and the WP <italic>ZX</italic>-plane is obtained using <xref ref-type="disp-formula" rid="disp-formula14-0954405411431402">equation (13)</xref></p>
<p><disp-formula id="disp-formula14-0954405411431402">
<label>(13)</label>
<mml:math display="block" id="math59-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>d</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mi>y</mml:mi>
<mml:mo>=</mml:mo>
<mml:mo>−</mml:mo>
<mml:mfrac>
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>34</mml:mn>
</mml:mrow>
</mml:msub>
<mml:msub>
<mml:mrow>
<mml:mi>X</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>+</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>34</mml:mn>
</mml:mrow>
</mml:msub>
<mml:msub>
<mml:mrow>
<mml:mi>Z</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msub>
</mml:mrow>
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>34</mml:mn>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:mfrac>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula14-0954405411431402" xlink:href="10.1177_0954405411431402-eq14.tif"/>
</disp-formula>
</p>
<p>Therefore, the transformation matrix can be written as in <xref ref-type="disp-formula" rid="disp-formula15-0954405411431402">equation (14)</xref>. <xref ref-type="fig" rid="fig14-0954405411431402">Figure 14</xref> shows this transformation.</p>
<p><disp-formula id="disp-formula15-0954405411431402">
<label>(14)</label>
<mml:math display="block" id="math60-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">M</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>5</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mtable align="left">
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mi>d</mml:mi>
<mml:mn>1</mml:mn>
</mml:msub>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
</mml:mtr>
</mml:mtable>
<mml:mo>]</mml:mo>
</mml:mrow>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula15-0954405411431402" xlink:href="10.1177_0954405411431402-eq15.tif"/>
</disp-formula>
</p>
<fig id="fig14-0954405411431402" position="float">
<label>Figure 14.</label>
<caption>
<p>Transformation of the workpiece to the tip of locators 2 and 3.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig14.tif"/>
</fig>
</sec>
<sec id="section16-0954405411431402">
<title>Transformation of WP-CS to the tip of locator 1</title>
<p>In this step, WP-CS is translated along the FIX <italic>X</italic>-axis and the <italic>YZ</italic>-plane of the workpiece touches the tip of locator 1. The distance between them can be calculated using the following expression</p>
<p><disp-formula id="disp-formula16-0954405411431402">
<label>(15)</label>
<mml:math display="block" id="math61-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>d</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mi>x</mml:mi>
<mml:mo>=</mml:mo>
<mml:mo>−</mml:mo>
<mml:mfrac>
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>25</mml:mn>
</mml:mrow>
</mml:msub>
<mml:msub>
<mml:mrow>
<mml:mi>Y</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>+</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>25</mml:mn>
</mml:mrow>
</mml:msub>
<mml:msub>
<mml:mrow>
<mml:mi>Z</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
</mml:mrow>
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>25</mml:mn>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:mfrac>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula16-0954405411431402" xlink:href="10.1177_0954405411431402-eq16.tif"/>
</disp-formula>
</p>
<p>The corresponding transformation matrix is written as <xref ref-type="disp-formula" rid="disp-formula17-0954405411431402">equation (16)</xref>. <xref ref-type="fig" rid="fig15-0954405411431402">Figure 15</xref> shows this transformation.</p>
<p><disp-formula id="disp-formula17-0954405411431402">
<label>(16)</label>
<mml:math display="block" id="math62-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">M</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>6</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mtable align="left">
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mo>−</mml:mo>
<mml:msub>
<mml:mi>d</mml:mi>
<mml:mn>2</mml:mn>
</mml:msub>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
</mml:mtr>
</mml:mtable>
<mml:mo>]</mml:mo>
</mml:mrow>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula17-0954405411431402" xlink:href="10.1177_0954405411431402-eq17.tif"/>
</disp-formula>
</p>
<fig id="fig15-0954405411431402" position="float">
<label>Figure 15.</label>
<caption>
<p>Transformation of the workpiece to the tip of locator 1.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig15.tif"/>
</fig>
</sec>
<sec id="section17-0954405411431402">
<title>The total HTM</title>
<p>After completing all these transformations, the WP-CS is located on the fixture locators. Multiplication of the six HTMs results in the total HTM</p>
<p><disp-formula id="disp-formula18-0954405411431402">
<label>(17)</label>
<mml:math display="block" id="math63-0954405411431402">
<mml:mi mathvariant="bold">M</mml:mi>
<mml:mo>=</mml:mo>
<mml:msub>
<mml:mi mathvariant="bold">M</mml:mi>
<mml:mn>1</mml:mn>
</mml:msub>
<mml:mo>×</mml:mo>
<mml:msub>
<mml:mi mathvariant="bold">M</mml:mi>
<mml:mn>2</mml:mn>
</mml:msub>
<mml:mo>×</mml:mo>
<mml:msub>
<mml:mi mathvariant="bold">M</mml:mi>
<mml:mn>3</mml:mn>
</mml:msub>
<mml:mo>×</mml:mo>
<mml:msub>
<mml:mi mathvariant="bold">M</mml:mi>
<mml:mn>4</mml:mn>
</mml:msub>
<mml:mo>×</mml:mo>
<mml:msub>
<mml:mi mathvariant="bold">M</mml:mi>
<mml:mn>5</mml:mn>
</mml:msub>
<mml:mo>×</mml:mo>
<mml:msub>
<mml:mi mathvariant="bold">M</mml:mi>
<mml:mn>6</mml:mn>
</mml:msub>
</mml:math>
<graphic alternate-form-of="disp-formula18-0954405411431402" xlink:href="10.1177_0954405411431402-eq18.tif"/>
</disp-formula>
</p>
</sec>
</sec>
<sec id="section18-0954405411431402">
<title>WRS error compensation</title>
<p>In order to compensate the effect of WRS errors on the workpiece machining features, the initial machining toolpath should be transformed using the HTM. In this work the WEC software module is developed for this task. This module is based on the mathematical modelling of the WRS errors and workpiece positioning on the fixture with regards to the errors. The WEC takes the position of the fixture locators and the WRS errors as input and prepares the HTMs. Then, the initial NC-code is inputted as a text file into the WEC module and the modified NC-codes are generated.</p>
</sec>
<sec id="section19-0954405411431402">
<title>Verification</title>
<p>Two case studies are now presented in order to verify the presented method. These cases consider the effects of errors on the WRSs. The free form surfaces of the workpieces are machined using either the initial or the modified NC-codes and the resulting machining errors are compared. In the first case both simulation and an actual machining study are performed whereas in the second case only machining simulations are performed.</p>
<sec id="section20-0954405411431402">
<title>Case 1: milling a free form surface</title>
<p>In this case a free form workpiece was machined experimentally and simulations of the process were performed. <xref ref-type="fig" rid="fig16-0954405411431402">Figure 16(a)</xref> shows the workpiece whose free form surface was machined in the tests. <xref ref-type="fig" rid="fig16-0954405411431402">Figures 16(b)</xref> and <xref ref-type="fig" rid="fig16-0954405411431402">(c)</xref> show the blank workpiece housed in the machining fixture. The reference surfaces of the workpiece are shown in <xref ref-type="fig" rid="fig16-0954405411431402">Figure 16(b)</xref>. These surfaces are in contact with six locators as shown in <xref ref-type="fig" rid="fig16-0954405411431402">Figure 16(c)</xref>.</p>
<fig id="fig16-0954405411431402" position="float">
<label>Figure 16.</label>
<caption>
<p>(a) The free form workpiece, (b) the workpiece blank before machining, and (c) machining fixtures.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig16.tif"/>
</fig>
<p>Machining process simulations were performed using NX and VERICUT software. First, a CAD model of the perfect workpiece and the fixture was prepared using NX and initial NC-codes for the machining of the free form surface were generated. Then, a workpiece whose reference surfaces contained errors was modelled. This workpiece was manufactured and the WRS errors were measured using a coordinate measuring machine (CMM) and the results are listed in <xref ref-type="table" rid="table1-0954405411431402">Table 1</xref>. These errors and the initial NC-codes were then inputted into the WEC module and modified NC-codes were generated. Then, a blank workpiece was machined in VERICUT using the initial and modified NC-codes to investigate the effect of the compensation procedure on the accuracy obtained for the machined workpiece. <xref ref-type="fig" rid="fig17-0954405411431402">Figure 17(a)</xref> shows the global errors for the workpiece surface machined using the initial codes. The excess and gouge errors reach 0.4 and 0.5 mm, respectively. Using the compensation methodology, these errors decrease to less than 0.01 mm as shown in <xref ref-type="fig" rid="fig17-0954405411431402">Figure 17(b)</xref>; this demonstrates that the simulation studies suggest that the proposed method can decrease the machining errors by almost 100%.</p>
<table-wrap id="table1-0954405411431402" position="float">
<label>Table 1.</label>
<caption>
<p>WRS errors.</p>
</caption>
<graphic alternate-form-of="table1-0954405411431402" xlink:href="10.1177_0954405411431402-table1.tif"/>
<table>
<colgroup>
<col align="left"/>
<col align="char" char="."/>
</colgroup>
<thead>
<tr>
<th align="left">Error</th>
<th align="left">Error value</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<inline-formula id="inline-formula46-0954405411431402">
<mml:math display="inline" id="math64-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math>
</inline-formula>
</td>
<td>−0.06 mm</td>
</tr>
<tr>
<td>
<inline-formula id="inline-formula47-0954405411431402">
<mml:math display="inline" id="math65-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>y</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math>
</inline-formula>
</td>
<td>0.15 mm</td>
</tr>
<tr>
<td>
<inline-formula id="inline-formula48-0954405411431402">
<mml:math display="inline" id="math66-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>z</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math>
</inline-formula>
</td>
<td>−0.36 mm</td>
</tr>
<tr>
<td>
<inline-formula id="inline-formula49-0954405411431402">
<mml:math display="inline" id="math67-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>xy</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math>
</inline-formula>
</td>
<td>−0.27°</td>
</tr>
<tr>
<td>
<inline-formula id="inline-formula50-0954405411431402">
<mml:math display="inline" id="math68-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>xz</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math>
</inline-formula>
</td>
<td>−0.54°</td>
</tr>
<tr>
<td>
<inline-formula id="inline-formula51-0954405411431402">
<mml:math display="inline" id="math69-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>yx</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math>
</inline-formula>
</td>
<td>0.15°</td>
</tr>
<tr>
<td>
<inline-formula id="inline-formula52-0954405411431402">
<mml:math display="inline" id="math70-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>yz</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math>
</inline-formula>
</td>
<td>0.96°</td>
</tr>
<tr>
<td>
<inline-formula id="inline-formula53-0954405411431402">
<mml:math display="inline" id="math71-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zx</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math>
</inline-formula>
</td>
<td>0.73°</td>
</tr>
<tr>
<td>
<inline-formula id="inline-formula54-0954405411431402">
<mml:math display="inline" id="math72-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zy</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math>
</inline-formula>
</td>
<td>0.26°</td>
</tr>
</tbody>
</table>
</table-wrap>
<fig id="fig17-0954405411431402" position="float">
<label>Figure 17.</label>
<caption>
<p>Errors of the workpiece in the machining simulation (a) before compensation, and (b) after compensation.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig17.tif"/>
</fig>
<p>Machining experiments were performed on a three-axis CNC machine tool. <xref ref-type="fig" rid="fig18-0954405411431402">Figure 18</xref> shows the blank workpiece being held in the machining fixture. The WRS errors of the blank workpiece were reported in <xref ref-type="table" rid="table1-0954405411431402">Table 1</xref>.</p>
<fig id="fig18-0954405411431402" position="float">
<label>Figure 18.</label>
<caption>
<p>Workpiece blank in the machining fixture.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig18.tif"/>
</fig>
<p>Two workpieces with the same errors in their reference surfaces were machined: one without and one with the compensation procedure. The workpieces after machining are shown in <xref ref-type="fig" rid="fig19-0954405411431402">Figure 19</xref>.</p>
<fig id="fig19-0954405411431402" position="float">
<label>Figure 19.</label>
<caption>
<p>The machined workpieces.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig19.tif"/>
</fig>
<p>The machined surfaces of the workpieces were measured using a CMM and the results are shown in <xref ref-type="fig" rid="fig20-0954405411431402">Figure 20</xref>. The global error contour of the machined surfaces was studied. The CMM results were used to prepare the CAD model of the machined surfaces in NX software for comparison.</p>
<fig id="fig20-0954405411431402" position="float">
<label>Figure 20.</label>
<caption>
<p>The scanned curves of the machined workpiece.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig20.tif"/>
</fig>
<p><xref ref-type="fig" rid="fig21-0954405411431402">Figures 21(a)</xref> and <xref ref-type="fig" rid="fig21-0954405411431402">(b)</xref> show the excess and gouge errors of the workpiece surfaces machined using the initial and modified NC-codes, respectively. The results confirm that the method proposed in the present work can considerably decrease the effect of WRS errors on the workpiece. The maximum gouge and excess errors of the machined surface without compensation are about 0.5 and 0.6 mm, respectively. After applying the compensation procedure these errors decrease to 0.2 and 0.1 mm, respectively. The remaining errors are due to other error sources such as for the machine tool, fixture and CMM. According to these experiments, the machined surface errors are decreased by about 60% using the compensation procedure.</p>
<fig id="fig21-0954405411431402" position="float">
<label>Figure 21.</label>
<caption>
<p>Global errors of the workpiece obtained in the machining experiment (a) before compensation, and (b) after compensation.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig21.tif"/>
</fig>
</sec>
<sec id="section21-0954405411431402">
<title>Case 2: milling a die cavity</title>
<p>The second case studied in this work concerns the machining simulation of the die cavity shown in <xref ref-type="fig" rid="fig22-0954405411431402">Figure 22</xref>.</p>
<fig id="fig22-0954405411431402" position="float">
<label>Figure 22.</label>
<caption>
<p>A sample die.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig22.tif"/>
</fig>
<p>It was assumed that the walls of the die, which are the machining reference surfaces, had the errors listed in <xref ref-type="table" rid="table2-0954405411431402">Table 2</xref>. These errors were created in previous manufacturing operations and were measured before machining the cavity.</p>
<table-wrap id="table2-0954405411431402" position="float">
<label>Table 2.</label>
<caption>
<p>Errors of the die walls (other errors are zero).</p>
</caption>
<graphic alternate-form-of="table2-0954405411431402" xlink:href="10.1177_0954405411431402-table2.tif"/>
<table>
<colgroup>
<col align="left"/>
<col align="char" char="."/>
</colgroup>
<thead>
<tr>
<th align="left">Error</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<inline-formula id="inline-formula55-0954405411431402">
<mml:math display="inline" id="math73-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>z</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math>
</inline-formula>
</td>
<td>0.17 mm</td>
</tr>
<tr>
<td>
<inline-formula id="inline-formula56-0954405411431402">
<mml:math display="inline" id="math74-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zx</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math>
</inline-formula>
</td>
<td>−0.1°</td>
</tr>
<tr>
<td>
<inline-formula id="inline-formula57-0954405411431402">
<mml:math display="inline" id="math75-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>zy</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math>
</inline-formula>
</td>
<td>0.15°</td>
</tr>
</tbody>
</table>
</table-wrap>
<p>Machining the cavity using the initial NC-codes generated from CAM software resulted in errors in the machined surfaces of the cavity. <xref ref-type="fig" rid="fig23-0954405411431402">Figure 23</xref> shows two views of these errors: the errors reach 0.2 mm.</p>
<fig id="fig23-0954405411431402" position="float">
<label>Figure 23.</label>
<caption>
<p>Two views of the errors in the die cavity.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig23.tif"/>
</fig>
<p>The initial NC-codes were modified using the WEC module proposed in this paper in order to take into account reference surface errors. Machining the cavity using the modified NC-codes resulted in the surface errors for the cavity being considerably decreased. <xref ref-type="fig" rid="fig24-0954405411431402">Figure 24</xref> shows the errors that remain after application of the compensation procedure. These errors are less than 0.05 mm and the initial errors decrease by about 75%.</p>
<fig id="fig24-0954405411431402" position="float">
<label>Figure 24.</label>
<caption>
<p>The errors in the die cavity after application of the compensation procedure.</p>
</caption>
<graphic xlink:href="10.1177_0954405411431402-fig24.tif"/>
</fig>
</sec>
</sec>
<sec id="section22-0954405411431402" sec-type="conclusions">
<title>Conclusions</title>
<p>The effect of WRS error on the machining of free form surfaces in three-axis CNC machining has been studied and a method for compensating these errors has been presented. This method is based on a mathematical modelling approach to the workpiece positioning on the fixture that takes into consideration WRS errors. To compensate for the errors the machining toolpath is modified using a HTM to transform the workpiece from its theoretical position to its actual position. Machining simulations and experiments have been performed to validate the proposed approach. The results of experiments show that a significant improvement (of up to 60%) in the accuracy of the machined workpieces can be obtained. This shows the developed method can effectively compensate these kinds of errors, particularly for CNC machining of free form surfaces and cavities. Furthermore, using this method, the production cost and time for the parts is considerably reduced.</p>
</sec>
</body>
<back>
<app-group>
<app id="app1-0954405411431402">
<title>Appendix 1</title>
<sec id="section23-0954405411431402">
<title>Notation</title>
<p><inline-formula id="inline-formula58-0954405411431402">
<mml:math display="inline" id="math76-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>D</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mspace width="0.25em"/>
</mml:mrow>
</mml:math>
</inline-formula> normal vector component of surfaces</p>
<p><inline-formula id="inline-formula59-0954405411431402">
<mml:math display="inline" id="math77-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>A</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>ij</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>B</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>ij</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>C</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>ij</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi>D</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>ij</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mspace width="0.25em"/>
</mml:mrow>
</mml:math>
</inline-formula> surface equation coefficients</p>
<p><inline-formula id="inline-formula60-0954405411431402">
<mml:math display="inline" id="math78-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>d</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math>
</inline-formula> distance between locators 2 and 3</p>
<p><inline-formula id="inline-formula61-0954405411431402">
<mml:math display="inline" id="math79-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>d</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math>
</inline-formula> temporary distance</p>
<p><inline-formula id="inline-formula62-0954405411431402">
<mml:math display="inline" id="math80-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math>
</inline-formula> (<italic>i=x, y</italic> and <italic>z</italic>) WRS longitudinal errors</p>
<p><inline-formula id="inline-formula63-0954405411431402">
<mml:math display="inline" id="math81-0954405411431402">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>E</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>ij</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math>
</inline-formula> (<italic>i,j = x, y, z</italic>, <inline-formula id="inline-formula64-0954405411431402">
<mml:math display="inline" id="math82-0954405411431402">
<mml:mrow>
<mml:mi>i</mml:mi>
<mml:mo>≠</mml:mo>
<mml:mi>j</mml:mi>
</mml:mrow>
</mml:math></inline-formula>) WRS angular errors</p>
<p><bold>M</bold><sub>i</sub> transformation matrix</p>
<p><inline-formula id="inline-formula65-0954405411431402">
<mml:math display="inline" id="math83-0954405411431402">
<mml:mrow>
<mml:mi>X</mml:mi>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:mi>Y</mml:mi>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:mi>Z</mml:mi>
</mml:mrow>
</mml:math>
</inline-formula> position in coordinate system</p>
<p><inline-formula id="inline-formula66-0954405411431402">
<mml:math display="inline" id="math84-0954405411431402">
<mml:mrow>
<mml:mi>α</mml:mi>
<mml:mo>,</mml:mo>
<mml:mi>β</mml:mi>
</mml:mrow>
</mml:math>
</inline-formula>  temporary angle</p>
</sec>
</app>
</app-group>
<ref-list>
<title>References</title>
<ref id="bibr1-0954405411431402">
<label>1.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Kirienda</surname><given-names>VSB</given-names></name>
<name><surname>Ferreira</surname><given-names>PM</given-names></name>
</person-group>. <article-title>Kinematic modeling of quasistatic errors of three-axis machining centers</article-title>. <source>Int J Mach Tool Mf</source> <year>1994</year>; <volume>34</volume>(<issue>1</issue>): <fpage>85</fpage>–<lpage>100</lpage>.</citation>
</ref>
<ref id="bibr2-0954405411431402">
<label>2.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Ramesh</surname><given-names>R</given-names></name>
<name><surname>Mannan</surname><given-names>MA</given-names></name>
<name><surname>Poo</surname><given-names>AN</given-names></name>
</person-group>. <article-title>Error compensation in machine tools – a review. Part I: geometric, cutting-force induced and fixture-dependent errors</article-title>. <source>Int J Mach Tool Mf</source> <year>2000</year>; <volume>40</volume>: <fpage>1235</fpage>–<lpage>1256</lpage>.</citation>
</ref>
<ref id="bibr3-0954405411431402">
<label>3.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Srivastava</surname><given-names>AK</given-names></name>
<name><surname>Veldhuis</surname><given-names>SC</given-names></name>
<name><surname>Elbestawit</surname><given-names>MA</given-names></name>
</person-group>. <article-title>Modelling geometric and thermal errors in a five-axis CNC machine tool</article-title>. <source>Int J Mach Tool Mf</source> <year>1995</year>; <volume>35</volume>(<issue>9</issue>): <fpage>1321</fpage>–<lpage>1337</lpage>.</citation>
</ref>
<ref id="bibr4-0954405411431402">
<label>4.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Habibi</surname><given-names>M</given-names></name>
<name><surname>Arezoo</surname><given-names>B</given-names></name>
<name><surname>Vahebi Nojedeh</surname><given-names>M</given-names></name>
</person-group>. <article-title>Tool path accuracy enhancement through geometrical error compensation</article-title>. <source>Int J Mach Tool Mf</source> <year>2011</year>; <volume>51</volume>(<issue>6</issue>): <fpage>471</fpage>–<lpage>482</lpage>.</citation>
</ref>
<ref id="bibr5-0954405411431402">
<label>5.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Spur</surname><given-names>G</given-names></name>
<name><surname>Hoffmann</surname><given-names>E</given-names></name>
<name><surname>Paluncic</surname><given-names>Z</given-names></name><etal/>
</person-group>. <article-title>Thermal behaviour optimisation of machine tools</article-title>. <source>Ann CIRP</source> <year>1988</year>; <volume>37</volume>(<issue>1</issue>): <fpage>401</fpage>–<lpage>405</lpage>.</citation>
</ref>
<ref id="bibr6-0954405411431402">
<label>6.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Wang</surname><given-names>KC</given-names></name>
<name><surname>Tseng</surname><given-names>PC</given-names></name>
<name><surname>Lin</surname><given-names>KM</given-names></name>
</person-group>. <article-title>Thermal error modelling of a machining centre using grey system theory and adaptive network-based fuzzy inference system</article-title>. <source>JSME Int J Series C, Mech Syst</source> <year>2006</year>; <volume>49</volume>(<issue>4</issue>): <fpage>1179</fpage>–<lpage>1187</lpage>.</citation>
</ref>
<ref id="bibr7-0954405411431402">
<label>7.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Lee</surname><given-names>JH</given-names></name>
<name><surname>Lee</surname><given-names>JH</given-names></name>
<name><surname>Yang</surname><given-names>SH</given-names></name>
</person-group>. <article-title>Thermal error modelling of a horizontal machining centre using fuzzy logic strategy</article-title>. <source>J Mfg Process</source> <year>2001</year>; <volume>3</volume>(<issue>2</issue>): <fpage>120</fpage>–<lpage>127</lpage>.</citation>
</ref>
<ref id="bibr8-0954405411431402">
<label>8.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Lopez</surname><given-names>LN</given-names></name>
<name><surname>Lamikiz</surname><given-names>A</given-names></name>
<name><surname>Sanchez</surname><given-names>JA</given-names></name>
<name><surname>Salgado</surname><given-names>MA</given-names></name>
</person-group>. <article-title>Toolpath selection based on the minimum deflection cutting forces in the programming of complex surfaces milling</article-title>. <source>Int J Mach Tool Mf</source> <year>2007</year>; <volume>47</volume>: <fpage>388</fpage>–<lpage>400</lpage>.</citation>
</ref>
<ref id="bibr9-0954405411431402">
<label>9.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Kim</surname><given-names>GM</given-names></name>
<name><surname>Kim</surname><given-names>BH</given-names></name>
<name><surname>Chu</surname><given-names>CN</given-names></name>
</person-group>. <article-title>Estimation of cutter deflection and form error in ball-end milling processes</article-title>. <source>Int J Mach Tool Mf</source> <year>2003</year>; <volume>43</volume>(<issue>9</issue>): <fpage>917</fpage>–<lpage>924</lpage>.</citation>
</ref>
<ref id="bibr10-0954405411431402">
<label>10.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Law</surname><given-names>KMY</given-names></name>
<name><surname>Geddam</surname><given-names>A</given-names></name>
</person-group>. <article-title>Error compensation in the end milling of pockets: methodology</article-title>. <source>J Mater Process Technol</source> <year>2003</year>; <volume>139</volume>: <fpage>21</fpage>–<lpage>27</lpage>.</citation>
</ref>
<ref id="bibr11-0954405411431402">
<label>11.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Habibi</surname><given-names>M</given-names></name>
<name><surname>Arezoo</surname><given-names>B</given-names></name>
<name><surname>Vahebi Nojedeh</surname><given-names>M</given-names></name>
</person-group>. <article-title>Tool deflection and geometrical error compensation by tool path modification</article-title>. <source>Int J Mach Tool Mf</source> <year>2011</year>; <volume>51</volume>(<issue>6</issue>): <fpage>439</fpage>–<lpage>449</lpage>.</citation>
</ref>
<ref id="bibr12-0954405411431402">
<label>12.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Menassa</surname><given-names>RJ</given-names></name>
<name><surname>DeVries</surname><given-names>WR</given-names></name>
</person-group>. <article-title>Optimization methods applied to selecting support positions in fixture design</article-title>. <source>Trans ASME, J. Engng Ind</source> <year>1991</year>; <volume>113</volume>: <fpage>412</fpage>–<lpage>418</lpage>.</citation>
</ref>
<ref id="bibr13-0954405411431402">
<label>13.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Sanchez</surname><given-names>HT</given-names></name>
<name><surname>Estrems</surname><given-names>M</given-names></name>
<name><surname>Faura</surname><given-names>F</given-names></name>
</person-group>. <article-title>Analysis and compensation of positional and deformation errors using integrated fixturing analysis in flexible machining parts</article-title>. <source>Int J Adv Mfg Technol</source> <year>2006</year>; <volume>29</volume>: <fpage>239</fpage>–<lpage>252</lpage>.</citation>
</ref>
<ref id="bibr14-0954405411431402">
<label>14.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Tian</surname><given-names>S</given-names></name>
<name><surname>Huang</surname><given-names>Z</given-names></name>
<name><surname>Chen</surname><given-names>L</given-names></name>
<name><surname>Wang</surname><given-names>Q</given-names></name>
</person-group>. <article-title>A feature-based approach for optimal workpiece localization and determination of feasible clamping regions</article-title>. <source>Int J Adv Mfg Technol</source> <year>2006</year>; <volume>30</volume>: <fpage>76</fpage>–<lpage>86</lpage>.</citation>
</ref>
<ref id="bibr15-0954405411431402">
<label>15.</label>
<citation citation-type="book">
<person-group person-group-type="author">
<name><surname>Slocum</surname><given-names>AH</given-names></name>
</person-group>. <source>Precision machine design</source>. <publisher-loc>Englewood Cliffs, NJ</publisher-loc>: <publisher-name>Prentice-Hall</publisher-name>, <year>1992</year>.</citation>
</ref>
<ref id="bibr16-0954405411431402">
<label>16.</label>
<citation citation-type="web">
<comment>Siemens PLM Software. NX (<ext-link ext-link-type="uri" xlink:href="http://www.plm.automation.siemens.com">www.plm.automation.siemens.com</ext-link>)</comment>.</citation>
</ref>
<ref id="bibr17-0954405411431402">
<label>17.</label>
<citation citation-type="web">
<comment>CGTech. VeriCut (<ext-link ext-link-type="uri" xlink:href="http://www.cgtech.com">www.cgtech.com</ext-link>)</comment>.</citation>
</ref>
<ref id="bibr18-0954405411431402">
<label>18.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Cho</surname><given-names>MW</given-names></name>
<name><surname>Seo</surname><given-names>T</given-names></name>
<name><surname>Kwon</surname><given-names>HD</given-names></name>
</person-group>. <article-title>Integrated error compensation method using OMM system for profile milling operation</article-title>. <source>J Mater Process Technol</source> <year>2003</year>; <volume>136</volume>: <fpage>88</fpage>–<lpage>99</lpage>.</citation>
</ref>
<ref id="bibr19-0954405411431402">
<label>19.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Ratchev</surname><given-names>S</given-names></name>
<name><surname>Liu</surname><given-names>S</given-names></name>
<name><surname>Huang</surname><given-names>W</given-names></name>
<name><surname>Becker</surname><given-names>AA</given-names></name>
</person-group>. <article-title>Milling error prediction and compensation in machining of low-rigidity parts</article-title>. <source>Int J Mach Tool Mf</source> <year>2004</year>; <volume>44</volume>: <fpage>1629</fpage>–<lpage>1641</lpage>.</citation>
</ref>
<ref id="bibr20-0954405411431402">
<label>20.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Ratchev</surname><given-names>S</given-names></name>
<name><surname>Liu</surname><given-names>S</given-names></name>
<name><surname>Huang</surname><given-names>W</given-names></name>
<name><surname>Becker</surname><given-names>AA</given-names></name>
</person-group>. <article-title>An advanced FEA based force induced error compensation strategy in milling</article-title>. <source>Int J Mach Tool Mf</source> <year>2006</year>; <volume>46</volume>: <fpage>542</fpage>–<lpage>551</lpage>.</citation>
</ref>
<ref id="bibr21-0954405411431402">
<label>21.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Wan</surname><given-names>M</given-names></name>
<name><surname>Zhang</surname><given-names>WH</given-names></name>
<name><surname>Tan</surname><given-names>G</given-names></name>
<name><surname>Qin</surname><given-names>GH</given-names></name>
</person-group>. <article-title>Systematic simulation procedure of peripheral milling process of thin-walled workpiece</article-title>. <source>J Mater Process Technol</source> <year>2008</year>; <volume>197</volume>: <fpage>122</fpage>–<lpage>131</lpage>.</citation>
</ref>
<ref id="bibr22-0954405411431402">
<label>22.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Wan</surname><given-names>M</given-names></name>
<name><surname>Zhang</surname><given-names>WH</given-names></name>
<name><surname>Qin</surname><given-names>GH</given-names></name>
<name><surname>Wang</surname><given-names>ZP</given-names></name>
</person-group>. <article-title>Strategies for error prediction and error control in peripheral milling of thin-walled workpiece</article-title>. <source>Int J Mach Tool Mf</source> <year>2008</year>; <volume>48</volume>: <fpage>1366</fpage>–<lpage>1374</lpage>.</citation>
</ref>
<ref id="bibr23-0954405411431402">
<label>23.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Estrems</surname><given-names>M</given-names></name>
<name><surname>Sanchez</surname><given-names>HT</given-names></name>
<name><surname>Faura</surname><given-names>F</given-names></name>
</person-group>. <article-title>Influence of fixtures on dimensional accuracy in machining processes</article-title>. <source>Int J Adv Mfg Technol</source> <year>2003</year>; <volume>21</volume>(<issue>5</issue>): <fpage>384</fpage>–<lpage>390</lpage>.</citation>
</ref>
<ref id="bibr24-0954405411431402">
<label>24.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Qin</surname><given-names>G</given-names></name>
<name><surname>Zhang</surname><given-names>W</given-names></name>
</person-group>. <article-title>Systematic modeling of workpiece-fixture geometric default and compliance for the prediction of workpiece machining error</article-title>. <source>J. Mfg Sci Engng</source> <year>2007</year>; <volume>129</volume>(<issue>4</issue>): <fpage>789</fpage>–<lpage>801</lpage>.</citation>
</ref>
<ref id="bibr25-0954405411431402">
<label>25.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Wan</surname><given-names>XJ</given-names></name>
<name><surname>Xiong</surname><given-names>CH</given-names></name>
<name><surname>Zhao</surname><given-names>C</given-names></name>
<name><surname>Wang</surname><given-names>XF</given-names></name>
</person-group>. <article-title>A uniﬁed framework of error evaluation and adjustment in machining</article-title>. <source>Int J Mach Tool Mf</source> <year>2008</year>; <volume>48</volume>: <fpage>1198</fpage>–<lpage>1210</lpage>.</citation>
</ref>
<ref id="bibr26-0954405411431402">
<label>26.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Shen</surname><given-names>YL</given-names></name>
</person-group>. <article-title>Uncertainties in the acquisition and utilization of coordinate frames in manufacturing systems</article-title>. <source>CIRP Ann Mfg Technol</source> <year>1991</year>; <volume>40</volume>(<issue>1</issue>): <fpage>527</fpage>–<lpage>530</lpage>.</citation>
</ref>
<ref id="bibr27-0954405411431402">
<label>27.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Djurdjanovic</surname><given-names>D</given-names></name>
<name><surname>Ni</surname><given-names>J</given-names></name>
</person-group>. <article-title>Dimensional errors of fixtures, locating and measurement datum features in the stream of variation modeling in machining</article-title>. <source>J. Mfg Sci Engng</source> <year>2003</year>; <volume>125</volume>(<issue>4</issue>): <fpage>716</fpage>–<lpage>730</lpage>.</citation>
</ref>
<ref id="bibr28-0954405411431402">
<label>28.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Loose</surname><given-names>JP</given-names></name>
<name><surname>Zhou</surname><given-names>Q</given-names></name>
<name><surname>Zhou</surname><given-names>S</given-names></name>
<name><surname>Ceglarek</surname><given-names>D</given-names></name>
</person-group>. <article-title>Integrating GD&amp;T into dimensional variation models for multistage machining processes</article-title>. <source>Int J Prod Res</source> <year>2009</year>; <volume>48</volume>(<issue>11</issue>): <fpage>3129</fpage>–<lpage>3149</lpage>.</citation>
</ref>
<ref id="bibr29-0954405411431402">
<label>29.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Zhou</surname><given-names>S</given-names></name>
<name><surname>Huang</surname><given-names>Q</given-names></name>
<name><surname>Shi</surname><given-names>J</given-names></name>
</person-group>. <article-title>State space modeling of dimensional variation propagation in multistage machining process using differential motion vectors</article-title>. <source>IEEE Trans Robot Autom</source> <year>2003</year>; <volume>19</volume>(<issue>2</issue>): <fpage>296</fpage>–<lpage>309</lpage>.</citation>
</ref>
</ref-list>
</back>
</article>