<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article
  PUBLIC "-//NLM//DTD Journal Publishing DTD v2.3 20070202//EN" "journalpublishing.dtd">
<article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" article-type="research-article">
<front>
<journal-meta>
<journal-id journal-id-type="publisher-id">PII</journal-id>
<journal-id journal-id-type="hwp">sppii</journal-id>
<journal-title>Proceedings of the Institution of Mechanical Engineers, Part I: Journal of Systems and Control Engineering</journal-title>
<issn pub-type="ppub">0959-6518</issn>
<issn pub-type="epub">2041-3041</issn>
<publisher>
<publisher-name>SAGE Publications</publisher-name>
<publisher-loc>Sage UK: London, England</publisher-loc>
</publisher>
</journal-meta>
<article-meta>
<article-id pub-id-type="doi">10.1177/0959651811430800</article-id>
<article-id pub-id-type="publisher-id">10.1177_0959651811430800</article-id>
<article-categories>
<subj-group subj-group-type="heading">
<subject>Original Articles</subject>
</subj-group>
</article-categories>
<title-group>
<article-title>Efficient second-order minimization combined with fuzzy control-based visual tracking of a moving face</article-title>
</title-group>
<contrib-group>
<contrib contrib-type="author">
<name><surname>Hanh</surname><given-names>Le Duc</given-names></name>
<xref ref-type="aff" rid="aff1-0959651811430800">1</xref>
</contrib>
<contrib contrib-type="author" corresp="yes">
<name><surname>Lin</surname><given-names>Chyi-Yeu</given-names></name>
<xref ref-type="aff" rid="aff1-0959651811430800">1</xref>
</contrib>
<contrib contrib-type="author">
<name><surname>Lin</surname><given-names>Chi-Ying</given-names></name>
<xref ref-type="aff" rid="aff1-0959651811430800">1</xref>
</contrib>
<contrib contrib-type="author">
<name><surname>Hashimoto</surname><given-names>Koichi</given-names></name>
<xref ref-type="aff" rid="aff2-0959651811430800">2</xref>
</contrib>
</contrib-group>
<aff id="aff1-0959651811430800"><label>1</label>Department of Mechanical Engineering, National Taiwan University of Science and Technology, Taiwan</aff>
<aff id="aff2-0959651811430800"><label>2</label>Department of System Information Sciences, Tohoku University, Japan</aff>
<author-notes>
<corresp id="corresp1-0959651811430800">CY Lin, Department of Mechanical Engineering, National Taiwan University of Science and Technology, 43 Keelung Road, Section 4, Taipei 10672, Taiwan. Email: <email>jerrylin@mail.ntust.edu.tw</email></corresp>
</author-notes>
<pub-date pub-type="epub-ppub">
<month>7</month>
<year>2012</year>
</pub-date>
<volume>226</volume>
<issue>6</issue>
<fpage>852</fpage>
<lpage>862</lpage>
<history>
<date date-type="received">
<day>2</day>
<month>7</month>
<year>2011</year>
</date>
<date date-type="accepted">
<day>28</day>
<month>10</month>
<year>2011</year>
</date>
</history>
<permissions>
<copyright-statement>© IMechE 2011</copyright-statement>
<copyright-year>2011</copyright-year>
<copyright-holder content-type="society">Institution of Mechanical Engineers</copyright-holder>
</permissions>
<abstract>
<p>This paper presents a visual feedback control system that is based on an efficient second-order minimization algorithm and can be used to track a moving face. This study aims to control a camera installed at the end of a three-degree-of-freedom robot arm and fix its orientation with respect to a moving face so that the face remains at a constant position in the image. In this work, the efficient second-order minimization algorithm is used to feed back the orientation of the two-dimensional human face. Then, an intelligent fuzzy algorithm is utilized by the tracking system to allow it to both track and become synchronized with the movement of the face. In addition, a Kalman filter is implemented to create an improved performance of the prediction of the position of the face. The applied control scheme is tested in tracking experiments on a moving face performed using a robot system with a camera installed on its end-effecter and the proposed scheme is shown to be an effective approach to the considered problem.</p>
</abstract>
<kwd-group>
<kwd>Efficient second-order minimization</kwd>
<kwd>image-based visual control</kwd>
<kwd>visual tracking</kwd>
<kwd>fuzzy control</kwd>
</kwd-group>
</article-meta>
</front>
<body>
<sec id="section1-0959651811430800" sec-type="intro">
<title>Introduction</title>
<p>Nowadays, people care about maintaining their health. There are many methods to remain fit and healthy, and one of them is to attend a health club and go jogging on a treadmill. For the entertainment of the jogger, a liquid crystal display (LCD) is often installed on top of the treadmill to show movies or selected entertainment programs, as shown in <xref ref-type="fig" rid="fig1-0959651811430800">Figure 1</xref>. When the jogger is running on a treadmill their face performs a nearly periodic motion in which their eyes travel a trajectory similar to the symbol “∞.” The up-and-down and left-and-right motions of the eyes can make the jogger feel uncomfortable when watching a program on a stationary display. The viewing effect in products currently available on the market is normally poor and can strain joggers’ eyes when they are watching relatively mobile screens. The ultimate goal of this research is to develop a system that improves the viewing effect of these screens for joggers.</p>
<fig id="fig1-0959651811430800" position="float">
<label>Figure 1.</label>
<caption>
<p>The setup position of the LCD on the treadmill.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig1.tif"/>
</fig>
<p>The system used in this study employs a camera to detect the position and orientation of the face. Based on feedback information, the tracking system actively moves the camera until the position of the face with a correct orientation appears in the center of the image. Using visual control theory, the camera installed at the end of a three-degree-of-freedom (3-DOF) robot arm can be moved in order to keep the image of the moving face of the jogger in the same orientation as in its image template. To simulate the face of a jogger, a photograph of a face is attached to the end of another 3-DOF robot arm. This robot arm is used to emulate the motion of the face of a jogger on a treadmill. This study addresses two key issues: the first one is the successful detection of a face that is moving at a high speed and the second is that the controller must be sufficiently fast to enable it to synchronize the moving face and the tracking system.</p>
<p>A visual tracking technique is applied to solve these problems. As is widely known, the goal of visual tracking is to detect the orientation of a face or objects in real-time and to send this information for use in updating the control law. There exists a great deal of research on visual servoing. For example, William et al.<sup><xref ref-type="bibr" rid="bibr1-0959651811430800">1</xref></sup> presented the design methodology for a Cartesian position-based visual servo for robots with a single camera mounted at the end-effecter. They estimated the three-dimensional (3D) pose information of the target and calculated the relative motion between the object and robot arm based on that 3D pose estimation. However, 3D pose estimation often contains noise created by the surrounding environment. To reduce this effect, Xue et al.<sup><xref ref-type="bibr" rid="bibr2-0959651811430800">2</xref></sup> used a laser scanner device to construct a 3D geometric model of the object. The contact points to grasp the object were evaluated based on this 3D geometry and they were then used to generate the desired trajectory for an automatic grasping system to grasp the 3D object. However, this method requires a great amount of time to reconstruct the 3D information of the object, limiting its use to static targets. To track a dynamic object, Hunt and Sanderson<sup><xref ref-type="bibr" rid="bibr3-0959651811430800">3</xref></sup> presented an algorithm for visual tracking based on five predictive algorithms. The best predictive algorithm was chosen to command the robot motion based on the target trajectory prediction results. The algorithm, however, still has computational issues and is mostly applicable to tracking slowly moving objects.</p>
<p>To reduce the computation burden for 3D object estimation, Luo et al.<sup><xref ref-type="bibr" rid="bibr4-0959651811430800">4</xref></sup> presented an algorithm to track the moving object on a conveyor by combining visual and acoustic sensing. The algorithm accomplished one-dimensional visual tracking in real-time, but the speed of the conveyor must be known a priori. More recently, Li et al.<sup><xref ref-type="bibr" rid="bibr5-0959651811430800">5</xref></sup> introduced a shape-tracking algorithm for complex objects. After the object shape is obtained, a Kalman filter is applied to perform the desired tracking operations. One important characteristic of this method is 3D structure and shape recognition, this reduces the amount of processing time required in its implementation. Another approach that has been recently proposed in the literature is to use a feature region-based tracking algorithm such as the efficient second-order minimization (ESM) algorithm.</p>
<p>The ESM algorithm is a popular image-based tracking algorithm that can achieve a high convergence rate. Due to its generality and good adaptation to real-time visual servoing applications, the ESM algorithm has been successfully used to build an efficient visual tracking algorithm and track higher inter-frame movements.<sup><xref ref-type="bibr" rid="bibr6-0959651811430800">6</xref></sup> Benhimane and Malis<sup><xref ref-type="bibr" rid="bibr7-0959651811430800">7</xref></sup> applied the ESM algorithm to a six-degree-of-freedom (6-DOF) robot manipulator to track static objects in real-time. In their experiment, the reference pose between the robot and the object was first constructed, and the robot was then moved to another pose for performance evaluation. The robot was driven back to its reference pose by using ESM as visual feedback combined with a classic control law. To improve the transient response, Tahri and Mezouar<sup><xref ref-type="bibr" rid="bibr6-0959651811430800">6</xref></sup> proposed an improved ESM algorithm with feedback control for a Gough–Stewart robot system. However, both of these studies have the limitation of applying a simple classic controller to track a static object. These controllers may not be applicable to the case of tracking a dynamic moving target based on a 30 fps camera, such as the application discussed in this study. To obtain fast dynamic motion when tracking a dynamic object, combining the ESM and dynamic feedback control, to create an intelligent controller, becomes an intuitively appealing option for this application. Fuzzy control is a well known control algorithm with a fast response and fairly good performance.<sup><xref ref-type="bibr" rid="bibr8-0959651811430800">8</xref></sup> There is an appreciable literature on fuzzy control and its applications.<sup><xref ref-type="bibr" rid="bibr9-0959651811430800">9</xref><xref ref-type="bibr" rid="bibr10-0959651811430800"/>–<xref ref-type="bibr" rid="bibr11-0959651811430800">11</xref></sup></p>
<p>This research develops a visual servoing technique for intelligent treadmill applications. By combining the ESM algorithm with a fuzzy controller a technique is developed that is used to track a photograph of a face, which represents a person running. The ESM provides the feedback signal that is used by the fuzzy controller to track the moving face. This study implements face recognition using the boosted cascade of simple Haar-like feature classifiers in the openCV software.<sup><xref ref-type="bibr" rid="bibr12-0959651811430800">12</xref></sup> The ESM is applied by selecting a small but feature-characteristic region on the face as the template for face detection. The tracking system tracks the motion of this particular region. The output of the ESM algorithm is a matrix that links the current and reference images in the planar target. Given the matrix output as a reference input, fuzzy control is applied to command an industrial robot to track the moving region of the emulated face. To predict the position of the face when the emulated face is moving, a Kalman filter is also applied.</p>
<p>The remaining parts of this paper are organized as follows: the face movement emulation setup for this research is discussed in the next section. Then, the ESM, fuzzy controller and Kalman filter, are discussed in detail. The results of experiments are presented and finally conclusions are drawn.</p>
</sec>
<sec id="section2-0959651811430800">
<title>Face movement emulation</title>
<p>The first task of this research was to create a face movement emulation system to allow face-tracking experiments to be easily performed during the development stage. Theoretically speaking, when a person is jogging on a treadmill, the movement of his or her face can be represented as a trajectory, which is close to a two-dimensional (2D) planar motion but is actually a 3D motion. To model the motion of a face watching the LCD screen while the person is jogging on the treadmill, a 2D planar motion coplanar to the face plane is sufficient for tracking techniques. The face movement system comprises a two-degree-of-freedom (2-DOF) robot arm and a photograph of a face attached to the end of the arm, as shown in <xref ref-type="fig" rid="fig2-0959651811430800">Figure 2</xref>. The photograph represents the face of the jogger, ensuring the repeatability of a jogging pattern without the burden of hiring a real person to jog continuously in the laboratory. The robot arm system shown in <xref ref-type="fig" rid="fig2-0959651811430800">Figure 2</xref> can generate the designated face (photograph) motion in a 2D plane similar to the real face of a jogger on a treadmill. With this system that emulates the movement of a face, the development of the tracking algorithms is straightforward because the experimental setup can be easily duplicated, and a real treadmill and jogger are not required at this stage.</p>
<fig id="fig2-0959651811430800" position="float">
<label>Figure 2.</label>
<caption>
<p>System to emulate the movement of a face.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig2.tif"/>
</fig>
</sec>
<sec id="section3-0959651811430800">
<title>ESM-based visual tracking</title>
<p>The mathematical background of the ESM can be found in Benhimane and Malis<sup><xref ref-type="bibr" rid="bibr7-0959651811430800">7</xref></sup> and Malis.<sup><xref ref-type="bibr" rid="bibr13-0959651811430800">13</xref></sup> Some of the main mathematical theories concerned with the imaging of an object that are used in this paper are discussed in the following subsections.</p>
<sec id="section4-0959651811430800">
<title>Translation between two 2D images of a plane</title>
<p>Let P be a point or pixel on the face in 3D space as shown in <xref ref-type="fig" rid="fig3-0959651811430800">Figure 3</xref>. P has 3D coordinates <inline-formula id="inline-formula1-0959651811430800">
<mml:math display="inline" id="math1-0959651811430800">
<mml:mrow>
<mml:mi mathvariant="bold">X</mml:mi>
<mml:mo>=</mml:mo>
<mml:mo stretchy="false">[</mml:mo>
<mml:mi>x</mml:mi>
<mml:mspace width="0.50em"/>
<mml:mi>y</mml:mi>
<mml:mspace width="0.50em"/>
<mml:mi>z</mml:mi>
<mml:mo stretchy="false">]</mml:mo>
</mml:mrow>
</mml:math></inline-formula> in the F* frame. Let the points <inline-formula id="inline-formula2-0959651811430800">
<mml:math display="inline" id="math2-0959651811430800">
<mml:mrow>
<mml:msup>
<mml:mrow>
<mml:mi mathvariant="bold">m</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mo>*</mml:mo>
</mml:mrow>
</mml:msup>
</mml:mrow>
</mml:math></inline-formula> and <bold>m</bold> be the projected points of P on the virtual planes, the reference image <italic>L*</italic> and current image <italic>L</italic> planes. These two virtual planes are perpendicular to the optical axis and are 1 m away from the projection point. The coordinates of point <inline-formula id="inline-formula3-0959651811430800">
<mml:math display="inline" id="math3-0959651811430800">
<mml:mrow>
<mml:msup>
<mml:mrow>
<mml:mi mathvariant="bold">m</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mo>*</mml:mo>
</mml:mrow>
</mml:msup>
</mml:mrow>
</mml:math></inline-formula> and <bold>m</bold> are derived as</p>
<p>
<disp-formula id="disp-formula1-0959651811430800">
<label>(1)</label>
<mml:math display="block" id="math4-0959651811430800">
<mml:mrow>
<mml:mtable align="right" width="80%">
<mml:mtr>
<mml:mtd columnalign="right">
<mml:mrow>
<mml:mi mathvariant="bold">m</mml:mi>
<mml:mo>=</mml:mo>
<mml:mo stretchy="false">[</mml:mo>
<mml:mi>u</mml:mi>
<mml:mspace width="0.50em"/>
<mml:mi>v</mml:mi>
<mml:mspace width="0.50em"/>
<mml:mn>1</mml:mn>
<mml:msup>
<mml:mrow>
<mml:mo stretchy="false">]</mml:mo>
</mml:mrow>
<mml:mrow>
<mml:mtext>T</mml:mtext>
</mml:mrow>
</mml:msup>
</mml:mrow>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="right">
<mml:mrow>
<mml:msup>
<mml:mrow>
<mml:mi mathvariant="bold">m</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mo>*</mml:mo>
</mml:mrow>
</mml:msup>
<mml:mo>=</mml:mo>
<mml:mo stretchy="false">[</mml:mo>
<mml:msup>
<mml:mrow>
<mml:mi>u</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mo>*</mml:mo>
</mml:mrow>
</mml:msup>
<mml:mspace width="0.25em"/>
<mml:msup>
<mml:mrow>
<mml:mi>v</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mo>*</mml:mo>
</mml:mrow>
</mml:msup>
<mml:mspace width="0.25em"/>
<mml:mn>1</mml:mn>
<mml:msup>
<mml:mrow>
<mml:mo stretchy="false">]</mml:mo>
</mml:mrow>
<mml:mrow>
<mml:mtext>T</mml:mtext>
</mml:mrow>
</mml:msup>
</mml:mrow>
</mml:mtd>
</mml:mtr>
</mml:mtable>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula1-0959651811430800" xlink:href="10.1177_0959651811430800-eq1.tif"/>
</disp-formula>
</p>
<p>where <inline-formula id="inline-formula4-0959651811430800">
<mml:math display="inline" id="math5-0959651811430800">
<mml:mrow>
<mml:mi>u</mml:mi>
</mml:mrow>
</mml:math></inline-formula>, <inline-formula id="inline-formula5-0959651811430800">
<mml:math display="inline" id="math6-0959651811430800">
<mml:mrow>
<mml:mi>v</mml:mi>
</mml:mrow>
</mml:math></inline-formula> are the coordinates of point <bold>m</bold> in the <italic>L</italic> plane and <inline-formula id="inline-formula6-0959651811430800">
<mml:math display="inline" id="math7-0959651811430800">
<mml:mrow>
<mml:msup>
<mml:mrow>
<mml:mi>u</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mo>*</mml:mo>
</mml:mrow>
</mml:msup>
</mml:mrow>
</mml:math></inline-formula>, <inline-formula id="inline-formula7-0959651811430800">
<mml:math display="inline" id="math8-0959651811430800">
<mml:mrow>
<mml:msup>
<mml:mrow>
<mml:mi>v</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mo>*</mml:mo>
</mml:mrow>
</mml:msup>
</mml:mrow>
</mml:math></inline-formula> are the coordinates of point <inline-formula id="inline-formula8-0959651811430800">
<mml:math display="inline" id="math9-0959651811430800">
<mml:mrow>
<mml:msup>
<mml:mrow>
<mml:mi mathvariant="bold">m</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mo>*</mml:mo>
</mml:mrow>
</mml:msup>
</mml:mrow>
</mml:math></inline-formula> in the <italic>L</italic>* plane.</p>
<fig id="fig3-0959651811430800" position="float">
<label>Figure 3.</label>
<caption>
<p>Projection and transform model between two images of a plane.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig3.tif"/>
</fig>
<p>As previously discussed, the face is assumed to move in a 2D plane, which gives the following relationship between <inline-formula id="inline-formula9-0959651811430800">
<mml:math display="inline" id="math10-0959651811430800">
<mml:mrow>
<mml:msup>
<mml:mrow>
<mml:mi mathvariant="bold">m</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mo>*</mml:mo>
</mml:mrow>
</mml:msup>
</mml:mrow>
</mml:math></inline-formula> and <inline-formula id="inline-formula10-0959651811430800">
<mml:math display="inline" id="math11-0959651811430800">
<mml:mrow>
<mml:mi mathvariant="bold">m</mml:mi>
</mml:mrow>
</mml:math></inline-formula></p>
<p>
<disp-formula id="disp-formula2-0959651811430800">
<label>(2)</label>
<mml:math display="block" id="math12-0959651811430800">
<mml:mrow>
<mml:msup>
<mml:mrow>
<mml:mi mathvariant="bold">m</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mo>*</mml:mo>
</mml:mrow>
</mml:msup>
<mml:mo>=</mml:mo>
<mml:mi mathvariant="bold">Tm</mml:mi>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula2-0959651811430800" xlink:href="10.1177_0959651811430800-eq2.tif"/>
</disp-formula>
</p>
<p>where the matrix <bold>T</bold> is a transformation matrix and can be written as</p>
<p>
<disp-formula id="disp-formula3-0959651811430800">
<label>(3)</label>
<mml:math display="block" id="math13-0959651811430800">
<mml:mrow>
<mml:mi mathvariant="bold">T</mml:mi>
<mml:mo>=</mml:mo>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mtable align="left">
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mrow>
<mml:mi>cos</mml:mi>
<mml:mi>α</mml:mi>
</mml:mrow>
</mml:mtd>
<mml:mtd>
<mml:mrow>
<mml:mo>−</mml:mo>
<mml:mi>sin</mml:mi>
<mml:mi>α</mml:mi>
</mml:mrow>
</mml:mtd>
<mml:mtd>
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>t</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mrow>
<mml:mi>sin</mml:mi>
<mml:mi>α</mml:mi>
</mml:mrow>
</mml:mtd>
<mml:mtd>
<mml:mrow>
<mml:mi>cos</mml:mi>
<mml:mi>α</mml:mi>
</mml:mrow>
</mml:mtd>
<mml:mtd>
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>t</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>y</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mrow>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:mtd>
<mml:mtd>
<mml:mrow>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:mtd>
<mml:mtd>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:mtd>
</mml:mtr>
</mml:mtable>
<mml:mo>]</mml:mo>
</mml:mrow>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula3-0959651811430800" xlink:href="10.1177_0959651811430800-eq3.tif"/>
</disp-formula>
</p>
<p>where <inline-formula id="inline-formula11-0959651811430800">
<mml:math display="inline" id="math14-0959651811430800">
<mml:mrow>
<mml:mi>α</mml:mi>
</mml:mrow>
</mml:math></inline-formula> is the rotational angle and <inline-formula id="inline-formula12-0959651811430800">
<mml:math display="inline" id="math15-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>t</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>, <inline-formula id="inline-formula13-0959651811430800">
<mml:math display="inline" id="math16-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>t</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>y</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> represent the translation in the <italic>x</italic>, and <italic>y</italic> directions in the plane.</p>
<p>The matrix can transform one point or pixel in the reference image <italic>L</italic>* into its corresponding point in the current coordinate <italic>L</italic>. Let the region image <inline-formula id="inline-formula14-0959651811430800">
<mml:math display="inline" id="math17-0959651811430800">
<mml:mrow>
<mml:msup>
<mml:mrow>
<mml:mi mathvariant="bold">I</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mo>*</mml:mo>
</mml:mrow>
</mml:msup>
</mml:mrow>
</mml:math></inline-formula> be a [<italic>a b</italic>] matrix, where <italic>a</italic> and <italic>b</italic> are the number of rows and columns of the matrix, respectively, so that each pair of <italic>a</italic> and <italic>b</italic> contains one point with intensity <inline-formula id="inline-formula15-0959651811430800">
<mml:math display="inline" id="math18-0959651811430800">
<mml:mrow>
<mml:msup>
<mml:mrow>
<mml:mi mathvariant="bold">I</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mo>*</mml:mo>
</mml:mrow>
</mml:msup>
<mml:mo stretchy="false">(</mml:mo>
<mml:msup>
<mml:mrow>
<mml:mi mathvariant="bold">m</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mo>*</mml:mo>
</mml:mrow>
</mml:msup>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:math></inline-formula>. In this paper, the region chosen on the face is assumed to be a planar object. This region is called the reference template. Thus, tracking the reference template can lead to the transformation matrix <inline-formula id="inline-formula16-0959651811430800">
<mml:math display="inline" id="math19-0959651811430800">
<mml:mrow>
<mml:mi mathvariant="bold">T</mml:mi>
</mml:mrow>
</mml:math></inline-formula> that transforms each point in the reference image <italic>L</italic>* to its corresponding pixel in the current image <italic>L</italic> acquired at each sampling time<sup><xref ref-type="bibr" rid="bibr7-0959651811430800">7</xref></sup></p>
<p>
<disp-formula id="disp-formula4-0959651811430800">
<label>(4)</label>
<mml:math display="block" id="math20-0959651811430800">
<mml:mrow>
<mml:mi mathvariant="bold">I</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mi mathvariant="bold">Tm</mml:mi>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>=</mml:mo>
<mml:msup>
<mml:mrow>
<mml:mi mathvariant="bold">I</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mo>*</mml:mo>
</mml:mrow>
</mml:msup>
<mml:mo stretchy="false">(</mml:mo>
<mml:msup>
<mml:mrow>
<mml:mi mathvariant="bold">m</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mo>*</mml:mo>
</mml:mrow>
</mml:msup>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula4-0959651811430800" xlink:href="10.1177_0959651811430800-eq4.tif"/>
</disp-formula>
</p>
<p>Let <italic>q</italic> be the total number of pixels in the region</p>
<p>
<disp-formula id="disp-formula5-0959651811430800">
<label>(5)</label>
<mml:math display="block" id="math21-0959651811430800">
<mml:mrow>
<mml:mi>q</mml:mi>
<mml:mo>=</mml:mo>
<mml:mi>a</mml:mi>
<mml:mo>×</mml:mo>
<mml:mi>b</mml:mi>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula5-0959651811430800" xlink:href="10.1177_0959651811430800-eq5.tif"/>
</disp-formula>
</p>
<p>where <italic>a</italic> and <italic>b</italic> are the number of rows and columns of the matrix of the region, respectively. The tracking task is to find a vector <inline-formula id="inline-formula17-0959651811430800">
<mml:math display="inline" id="math22-0959651811430800">
<mml:mrow>
<mml:mi mathvariant="bold">x</mml:mi>
<mml:mo>=</mml:mo>
<mml:mo stretchy="false">[</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>t</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mspace width="0.50em"/>
<mml:msub>
<mml:mrow>
<mml:mi>t</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>y</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mspace width="0.50em"/>
<mml:mi>α</mml:mi>
<mml:mo stretchy="false">]</mml:mo>
</mml:mrow>
</mml:math></inline-formula> such that <inline-formula id="inline-formula18-0959651811430800">
<mml:math display="inline" id="math23-0959651811430800">
<mml:mrow>
<mml:mo>∀</mml:mo>
<mml:mi>i</mml:mi>
<mml:mo>∈</mml:mo>
<mml:mrow>
<mml:mo>{</mml:mo>
<mml:mn>1</mml:mn>
<mml:mo>,</mml:mo>
<mml:mn>2</mml:mn>
<mml:mo>,</mml:mo><mml:mo>…</mml:mo>
<mml:mo>,</mml:mo>
<mml:mi>q</mml:mi>
<mml:mo>}</mml:mo>
</mml:mrow>
</mml:mrow>
</mml:math></inline-formula></p>
<p>
<disp-formula id="disp-formula6-0959651811430800">
<label>(6)</label>
<mml:math display="block" id="math24-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">y</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">(</mml:mo>
<mml:mi mathvariant="bold">x</mml:mi>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>=</mml:mo>
<mml:mi mathvariant="bold">I</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">Tm</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>−</mml:mo>
<mml:msup>
<mml:mrow>
<mml:mi mathvariant="bold">I</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mo>*</mml:mo>
</mml:mrow>
</mml:msup>
<mml:mo stretchy="false">(</mml:mo>
<mml:msup>
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">m</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
<mml:mrow>
<mml:mo>*</mml:mo>
</mml:mrow>
</mml:msup>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>=</mml:mo>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula6-0959651811430800" xlink:href="10.1177_0959651811430800-eq6.tif"/>
</disp-formula>
</p>
<p>where</p>
<p>
<disp-formula id="disp-formula7-0959651811430800">
<label>(7)</label>
<mml:math display="block" id="math25-0959651811430800">
<mml:mrow>
<mml:mtable align="right" width="80%">
<mml:mtr>
<mml:mtd columnalign="right">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">m</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:msup>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mn>0</mml:mn>
<mml:mspace width="0.50em"/>
<mml:mn>0</mml:mn>
<mml:mspace width="0.50em"/>
<mml:mn>1</mml:mn>
<mml:mo>]</mml:mo>
</mml:mrow>
<mml:mrow>
<mml:mtext>T</mml:mtext>
</mml:mrow>
</mml:msup>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">m</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:msup>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mn>1</mml:mn>
<mml:mspace width="0.50em"/>
<mml:mn>0</mml:mn>
<mml:mspace width="0.50em"/>
<mml:mn>1</mml:mn>
<mml:mo>]</mml:mo>
</mml:mrow>
<mml:mrow>
<mml:mtext>T</mml:mtext>
</mml:mrow>
</mml:msup>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">m</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>a</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:msup>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mi>a</mml:mi>
<mml:mo>−</mml:mo>
<mml:mn>1</mml:mn>
<mml:mspace width="0.50em"/>
<mml:mn>0</mml:mn>
<mml:mspace width="0.50em"/>
<mml:mspace width="0.25em"/>
<mml:mn>1</mml:mn>
<mml:mo>]</mml:mo>
</mml:mrow>
<mml:mrow>
<mml:mtext>T</mml:mtext>
</mml:mrow>
</mml:msup>
</mml:mrow>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="right">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">m</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>a</mml:mi>
<mml:mo>+</mml:mo>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:msup>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mn>0</mml:mn>
<mml:mspace width="0.50em"/>
<mml:mn>1</mml:mn>
<mml:mspace width="0.50em"/>
<mml:mn>1</mml:mn>
<mml:mo>]</mml:mo>
</mml:mrow>
<mml:mrow>
<mml:mtext>T</mml:mtext>
</mml:mrow>
</mml:msup>
<mml:mo>,</mml:mo>
<mml:mspace width="0.25em"/>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">m</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>q</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:msup>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mi>a</mml:mi>
<mml:mo>−</mml:mo>
<mml:mn>1</mml:mn>
<mml:mspace width="0.50em"/>
<mml:mi>b</mml:mi>
<mml:mo>−</mml:mo>
<mml:mn>1</mml:mn>
<mml:mspace width="0.50em"/>
<mml:mspace width="0.25em"/>
<mml:mn>1</mml:mn>
<mml:mo>]</mml:mo>
</mml:mrow>
<mml:mrow>
<mml:mtext>T</mml:mtext>
</mml:mrow>
</mml:msup>
</mml:mrow>
</mml:mtd>
</mml:mtr>
</mml:mtable>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula7-0959651811430800" xlink:href="10.1177_0959651811430800-eq7.tif"/>
</disp-formula>
</p>
<p>The problem is then to find <inline-formula id="inline-formula19-0959651811430800">
<mml:math display="inline" id="math26-0959651811430800">
<mml:mrow>
<mml:mi mathvariant="bold">x</mml:mi>
<mml:mo>=</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">x</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> to satisfy</p>
<p>
<disp-formula id="disp-formula8-0959651811430800">
<label>(8)</label>
<mml:math display="block" id="math27-0959651811430800">
<mml:mrow>
<mml:mi mathvariant="bold">y</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">x</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>=</mml:mo>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula8-0959651811430800" xlink:href="10.1177_0959651811430800-eq8.tif"/>
</disp-formula>
</p>
<p>Because the intensity of the pixel is not a constant, the system defined in equation (8) is basically a non-linear system. In the next subsection, a method to deal with this non-linear problem is presented.</p>
</sec>
<sec id="section5-0959651811430800">
<title>ESM minimization and tracking</title>
<p>As previously mentioned, system (8) is a non-linear system. To estimate the parameter <inline-formula id="inline-formula20-0959651811430800">
<mml:math display="inline" id="math28-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">x</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mo stretchy="false">[</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>t</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mspace width="0.50em"/>
<mml:msub>
<mml:mrow>
<mml:mi>t</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>y</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mspace width="0.50em"/>
<mml:mi>α</mml:mi>
<mml:mo stretchy="false">]</mml:mo>
</mml:mrow>
</mml:math></inline-formula>, a function that minimizes the error is defined as</p>
<p>
<disp-formula id="disp-formula9-0959651811430800">
<label>(9)</label>
<mml:math display="block" id="math29-0959651811430800">
<mml:mrow>
<mml:munderover>
<mml:mo>∑</mml:mo>
<mml:mrow>
<mml:mi>i</mml:mi>
<mml:mo>=</mml:mo>
<mml:mn>1</mml:mn>
</mml:mrow>
<mml:mrow>
<mml:mi>q</mml:mi>
</mml:mrow>
</mml:munderover>
<mml:mi mathvariant="bold">I</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">Tm</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>−</mml:mo>
<mml:msup>
<mml:mrow>
<mml:mi mathvariant="bold">I</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mo>*</mml:mo>
</mml:mrow>
</mml:msup>
<mml:mo stretchy="false">(</mml:mo>
<mml:msup>
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">m</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
<mml:mrow>
<mml:mo>*</mml:mo>
</mml:mrow>
</mml:msup>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula9-0959651811430800" xlink:href="10.1177_0959651811430800-eq9.tif"/>
</disp-formula>
</p>
<p>To perform the minimization, it must first be linearized. The vector <bold>y(x)</bold> can be linearized for <inline-formula id="inline-formula21-0959651811430800">
<mml:math display="inline" id="math30-0959651811430800">
<mml:mrow>
<mml:mi mathvariant="bold">x</mml:mi>
<mml:mo>=</mml:mo>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:math></inline-formula> using the second-order Taylor series approximation and the approximation Jacobian matrix <bold>J(x)</bold> as follows</p>
<p>
<disp-formula id="disp-formula10-0959651811430800">
<label>(10)</label>
<mml:math display="block" id="math31-0959651811430800">
<mml:mrow>
<mml:mi mathvariant="bold">y</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mi mathvariant="bold">x</mml:mi>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>=</mml:mo>
<mml:mi mathvariant="bold">y</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mn>0</mml:mn>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>+</mml:mo>
<mml:mfrac>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:mfrac>
<mml:mo stretchy="false">(</mml:mo>
<mml:mi mathvariant="bold">J</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mn>0</mml:mn>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>+</mml:mo>
<mml:mi mathvariant="bold">J</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mi mathvariant="bold">x</mml:mi>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo stretchy="false">)</mml:mo>
<mml:mi mathvariant="bold">x</mml:mi>
<mml:mo>+</mml:mo>
<mml:mi mathvariant="bold">O</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mo stretchy="false">‖</mml:mo>
<mml:mi mathvariant="bold">x</mml:mi>
<mml:msup>
<mml:mrow>
<mml:mo stretchy="false">‖</mml:mo>
</mml:mrow>
<mml:mrow>
<mml:mn>3</mml:mn>
</mml:mrow>
</mml:msup>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula10-0959651811430800" xlink:href="10.1177_0959651811430800-eq10.tif"/>
</disp-formula>
</p>
<p>where <bold>O</bold>(||<bold>x</bold>||)<sup>3</sup> is a remainder of order 3. For <inline-formula id="inline-formula22-0959651811430800">
<mml:math display="inline" id="math32-0959651811430800">
<mml:mrow>
<mml:mi mathvariant="bold">x</mml:mi>
<mml:mo>=</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">x</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> with a second-order approximation</p>
<p>
<disp-formula id="disp-formula11-0959651811430800">
<label>(11)</label>
<mml:math display="block" id="math33-0959651811430800">
<mml:mrow>
<mml:mi mathvariant="bold">y</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">x</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>≈</mml:mo>
<mml:mi mathvariant="bold">y</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mn>0</mml:mn>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>+</mml:mo>
<mml:mfrac>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:mfrac>
<mml:mo stretchy="false">(</mml:mo>
<mml:mi mathvariant="bold">J</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mn>0</mml:mn>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>+</mml:mo>
<mml:mi mathvariant="bold">J</mml:mi>
<mml:mo mathvariant="bold" stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">x</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo mathvariant="bold" stretchy="false">)</mml:mo>
<mml:mo mathvariant="bold" stretchy="false">)</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">x</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula11-0959651811430800" xlink:href="10.1177_0959651811430800-eq11.tif"/>
</disp-formula>
</p>
<p>Thus, system (8) can be solved iteratively using the method presented in Benhimane and Malis<sup><xref ref-type="bibr" rid="bibr7-0959651811430800">7</xref></sup> by defining the matrix</p>
<p>
<disp-formula id="disp-formula12-0959651811430800">
<label>(12)</label>
<mml:math display="block" id="math34-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">J</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>esm</mml:mtext>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mfrac>
<mml:mrow>
<mml:mn>1</mml:mn>
</mml:mrow>
<mml:mrow>
<mml:mn>2</mml:mn>
</mml:mrow>
</mml:mfrac>
<mml:mrow>
<mml:mo>(</mml:mo>
</mml:mrow>
<mml:mi mathvariant="bold">J</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mn>0</mml:mn>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo>+</mml:mo>
<mml:mi mathvariant="bold">J</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">x</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mrow>
<mml:mo>)</mml:mo>
</mml:mrow>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula12-0959651811430800" xlink:href="10.1177_0959651811430800-eq12.tif"/>
</disp-formula>
</p>
<p>From equations (9) and (12), using iterative minimization, a minimum point <inline-formula id="inline-formula23-0959651811430800">
<mml:math display="inline" id="math35-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">x</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> can be found</p>
<p>
<disp-formula id="disp-formula13-0959651811430800">
<label>(13)</label>
<mml:math display="block" id="math36-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">x</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mo>−</mml:mo>
<mml:msubsup>
<mml:mrow>
<mml:mi mathvariant="bold">J</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>esm</mml:mtext>
</mml:mrow>
<mml:mrow>
<mml:mo>+</mml:mo>
</mml:mrow>
</mml:msubsup>
<mml:mi mathvariant="bold">Y</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mn>0</mml:mn>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula13-0959651811430800" xlink:href="10.1177_0959651811430800-eq13.tif"/>
</disp-formula>
</p>
<p>where <inline-formula id="inline-formula24-0959651811430800">
<mml:math display="inline" id="math37-0959651811430800">
<mml:mrow>
<mml:msubsup>
<mml:mrow>
<mml:mi mathvariant="bold">J</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>esm</mml:mtext>
</mml:mrow>
<mml:mrow>
<mml:mo>+</mml:mo>
</mml:mrow>
</mml:msubsup>
</mml:mrow>
</mml:math></inline-formula> is the pseudo-inverse of <inline-formula id="inline-formula25-0959651811430800">
<mml:math display="inline" id="math38-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">J</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>esm</mml:mtext>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>. The value of <inline-formula id="inline-formula26-0959651811430800">
<mml:math display="inline" id="math39-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">x</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mn>0</mml:mn>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> is used to update the matrix <bold>T</bold>.</p>
<p>The described procedures are summarized in <xref ref-type="fig" rid="fig4-0959651811430800">Figure 4</xref>.</p>
<fig id="fig4-0959651811430800" position="float">
<label>Figure 4.</label>
<caption>
<p>ESM operation procedure.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig4.tif"/>
</fig>
</sec>
</sec>
<sec id="section6-0959651811430800">
<title>Fuzzy control algorithm</title>
<p>As previously discussed, the goal of this study is to detect the position and the orientation of the moving face of a jogger under the assumption that the motion of the face is limited to be within a 2D plane. To generate the tracking motion, a 6-DOF industrial robot was used to perform 3-DOF motion with the system setup shown in <xref ref-type="fig" rid="fig5-0959651811430800">Figure 5</xref>.</p>
<fig id="fig5-0959651811430800" position="float">
<label>Figure 5.</label>
<caption>
<p>Architecture of the tracking system.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig5.tif"/>
</fig>
<p>After obtaining the transformation matrix <bold>T</bold> the orientation of the face could be obtained and it is shown in <xref ref-type="fig" rid="fig6-0959651811430800">Figure 6</xref>.</p>
<fig id="fig6-0959651811430800" position="float">
<label>Figure 6.</label>
<caption>
<p>Orientation of a face in the 2D plane.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig6.tif"/>
</fig>
<p>Referring to the simplified system setup shown in <xref ref-type="fig" rid="fig5-0959651811430800">Figure 5</xref>, there is a simple control strategy: reduce the error of the center of the face in the <italic>x-</italic>direction, <italic>y</italic>-direction and the angle of the face using the three robot links.</p>
<p>Although the tracking system was simplified for demonstration purposes, some environmental parameters that affect the system performance must still be considered. Examples include the varying distance between the face of the jogger and the LCD display, the velocity of the face movement and the running speed of the jogger. As a result, it is necessary to retune or redesign the control parameters of the controller to cope with changing environments. To lessen the burden involved in controller tuning and improve the learning process in the presence of uncertain parameters, this study applied artificial intelligence methods to reduce tracking errors. It is widely known that fuzzy logic has the advantage that the solution to the original problem can be transformed such that a human can understand and design a controller based on past learning experiences.</p>
<p>In this paper, the fuzzy controller block consists of three parts: fuzzification, fuzzy inference and defuzzification. The fuzzification is an interface that produces a fuzzy subset from measurements. The fuzzy inference is an interface that produces a new fuzzy subset from the results of the fuzzification. The defuzzification is an interface that produces an output from the results of the fuzzy inference.</p>
<p>The fuzzy logic controller has two inputs, the position error <inline-formula id="inline-formula27-0959651811430800">
<mml:math display="inline" id="math40-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>p</mml:mtext>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> and the change rate of the position error <inline-formula id="inline-formula28-0959651811430800">
<mml:math display="inline" id="math41-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>d</mml:mtext>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>, and one output <inline-formula id="inline-formula29-0959651811430800">
<mml:math display="inline" id="math42-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>u</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>, in which <italic>i</italic> represents <italic>x, y</italic> and the angle, respectively. The input <inline-formula id="inline-formula30-0959651811430800">
<mml:math display="inline" id="math43-0959651811430800">
<mml:mrow>
<mml:mo stretchy="false">(</mml:mo>
<mml:mi>μ</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>p</mml:mtext>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:math></inline-formula>, <inline-formula id="inline-formula31-0959651811430800">
<mml:math display="inline" id="math44-0959651811430800">
<mml:mrow>
<mml:mi>μ</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>d</mml:mtext>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo stretchy="false">)</mml:mo>
<mml:mspace width="0.25em"/>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:math></inline-formula> and output <inline-formula id="inline-formula32-0959651811430800">
<mml:math display="inline" id="math45-0959651811430800">
<mml:mrow>
<mml:mo stretchy="false">(</mml:mo>
<mml:mi>μ</mml:mi>
<mml:mo stretchy="false">(</mml:mo>
<mml:mi>u</mml:mi>
<mml:mo stretchy="false">)</mml:mo>
<mml:mo stretchy="false">)</mml:mo>
</mml:mrow>
</mml:math></inline-formula> fuzzy membership functions were selected symmetrically, as shown in <xref ref-type="fig" rid="fig7-0959651811430800">Figures 7</xref> to <xref ref-type="fig" rid="fig9-0959651811430800">9</xref>. Triangle membership functions were used in this work. The position error is partitioned into five fuzzy sets: negative big (NB), negative small (NS), zero (Z), positive small (PS), and positive big (PB). The change rate of position error is partitioned into three fuzzy sets: negative (N), zero (Z) and positive (P). Finally, the output signal has five fuzzy sets: negative big (NB), negative small (NS), zero (Z), positive small (PS), and positive big (PB). Because the errors <italic>e</italic><sub>p</sub><italic><sub>x</sub></italic> and <italic>e</italic><sub>p</sub><italic><sub>y</sub></italic> in the 2D plane and the angle θ are preferred to be smaller than one pixel and 1°, respectively, the range of <inline-formula id="inline-formula33-0959651811430800">
<mml:math display="inline" id="math46-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>p</mml:mtext>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>, <inline-formula id="inline-formula34-0959651811430800">
<mml:math display="inline" id="math47-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>d</mml:mtext>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>, <inline-formula id="inline-formula35-0959651811430800">
<mml:math display="inline" id="math48-0959651811430800">
<mml:mrow>
<mml:mi>u</mml:mi>
</mml:mrow>
</mml:math></inline-formula> are all in [-1, 1].</p>
<fig id="fig7-0959651811430800" position="float">
<label>Figure 7.</label>
<caption>
<p>The membership function of the position error.NB: negative big; NS: negative small; Z: zero; PS: positive small; PB: positive big.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig7.tif"/>
</fig>
<fig id="fig8-0959651811430800" position="float">
<label>Figure 8.</label>
<caption>
<p>The membership function of the change rate of the position error.</p>
<p>N: negative; Z: zero; P: positive</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig8.tif"/>
</fig>
<fig id="fig9-0959651811430800" position="float">
<label>Figure 9.</label>
<caption>
<p>The membership function of the output signal for the fuzzy controller.</p>
<p>NB: negative big; NS: negative small; Z: zero; PS: positive small; PB: positive big</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig9.tif"/>
</fig>
<p>One important step in fuzzy logic controller design is to make a rule table. In this work, the rule table includes rules connecting the error and the change in the error with the control input. It basically contains linguistic rules of the form</p>
<p>
<italic>If</italic> (<inline-formula id="inline-formula36-0959651811430800">
<mml:math display="inline" id="math49-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>p</mml:mtext>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> is <inline-formula id="inline-formula37-0959651811430800">
<mml:math display="inline" id="math50-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>k</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula><italic>and</italic><inline-formula id="inline-formula38-0959651811430800">
<mml:math display="inline" id="math51-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>d</mml:mtext>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> is <inline-formula id="inline-formula39-0959651811430800">
<mml:math display="inline" id="math52-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mover>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mo>·</mml:mo>
</mml:mover>
</mml:mrow>
<mml:mrow>
<mml:mi>k</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>), <italic>Then</italic> (<inline-formula id="inline-formula40-0959651811430800">
<mml:math display="inline" id="math53-0959651811430800">
<mml:mrow>
<mml:mi>u</mml:mi>
</mml:mrow>
</mml:math></inline-formula> is <inline-formula id="inline-formula41-0959651811430800">
<mml:math display="inline" id="math54-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>u</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>k</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>)</p>
<p>where <inline-formula id="inline-formula42-0959651811430800">
<mml:math display="inline" id="math55-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>k</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>, <inline-formula id="inline-formula43-0959651811430800">
<mml:math display="inline" id="math56-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mover>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mo>·</mml:mo>
</mml:mover>
</mml:mrow>
<mml:mrow>
<mml:mi>k</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>, <inline-formula id="inline-formula44-0959651811430800">
<mml:math display="inline" id="math57-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>u</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>k</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> are the fuzzy subsets of <inline-formula id="inline-formula45-0959651811430800">
<mml:math display="inline" id="math58-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>p</mml:mtext>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>, <inline-formula id="inline-formula46-0959651811430800">
<mml:math display="inline" id="math59-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>d</mml:mtext>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>, <inline-formula id="inline-formula47-0959651811430800">
<mml:math display="inline" id="math60-0959651811430800">
<mml:mrow>
<mml:mi>u</mml:mi>
</mml:mrow>
</mml:math></inline-formula>, respectively. Given five fuzzy subsets of <inline-formula id="inline-formula48-0959651811430800">
<mml:math display="inline" id="math61-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>p</mml:mtext>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> and three subsets <inline-formula id="inline-formula49-0959651811430800">
<mml:math display="inline" id="math62-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>d</mml:mtext>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>, there exist 15 rules, and therefore, the rule base is represented in a 3 x 5 matrix, as shown in <xref ref-type="table" rid="table1-0959651811430800">Table 1</xref>.</p>
<table-wrap id="table1-0959651811430800" position="float">
<label>Table 1.</label>
<caption>
<p>Rule table of the fuzzy controller.</p>
</caption>
<graphic alternate-form-of="table1-0959651811430800" xlink:href="10.1177_0959651811430800-table1.tif"/>
<table>
<colgroup>
<col align="left"/>
<col align="left"/>
<col align="left"/>
<col align="left"/>
<col align="left"/>
<col align="left"/>
</colgroup>
<thead>
<tr>
<th align="left"><italic>e</italic><sub>d</sub><italic><sub>i</sub></italic></th>
<th align="left" colspan="5"><italic>e</italic><sub>p</sub><italic><sub>i</sub></italic></th>
</tr>
<tr>
<th/>
<th align="left">NB</th>
<th align="left">NS</th>
<th align="left">Z</th>
<th align="left">PS</th>
<th align="left">PB</th>
</tr>
</thead>
<tbody>
<tr>
<td>N</td>
<td>PB</td>
<td>PS</td>
<td>PS</td>
<td>NS</td>
<td>NB</td>
</tr>
<tr>
<td>Z</td>
<td>PB</td>
<td>PS</td>
<td>Z</td>
<td>NS</td>
<td>NB</td>
</tr>
<tr>
<td>P</td>
<td>PB</td>
<td>PS</td>
<td>NS</td>
<td>NS</td>
<td>NB</td>
</tr>
</tbody>
</table>
<table-wrap-foot>
<fn id="table-fn1-0959651811430800">
<p>NB: negative big; NS: negative small; Z: zero; PS: positive small; PB: positive big.</p>
</fn>
</table-wrap-foot>
</table-wrap>
<p>It is obvious from <xref ref-type="fig" rid="fig9-0959651811430800">Figure 9</xref> that the value of the output is mapped to [-1 1] because the fuzzy set of the error and the change rate of the error due to each robot joint were scaled to a normalized interval [-1 1]. It is well known that sometimes it is difficult to select good membership functions for fuzzy controller design.<sup><xref ref-type="bibr" rid="bibr14-0959651811430800">14</xref></sup> One may choose the rule table and the shape of the fuzzy set by trial and error from experiments. Thus, the control input signal is multiplied by a learning gain <italic>K</italic><sub>u</sub> for performance adjustment before sending commands to the robot manipulator. This study tuned <italic>K</italic><sub>u</sub> online using the model fuzzy rule base in terms of <inline-formula id="inline-formula50-0959651811430800">
<mml:math display="inline" id="math63-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>p</mml:mtext>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> and <inline-formula id="inline-formula51-0959651811430800">
<mml:math display="inline" id="math64-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>d</mml:mtext>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula>, improving the fuzzy controller design flexibility without the need for assigning new membership functions or fuzzy rules.<sup><xref ref-type="bibr" rid="bibr15-0959651811430800">15</xref></sup></p>
<p>For <italic>K</italic><sub>u</sub>, the membership functions for the position error and the change rate of the position error are the same as those of the main fuzzy controller. The rule table for the fuzzy switching gain value is used to adjust the transient response of the control system. For example, if <inline-formula id="inline-formula52-0959651811430800">
<mml:math display="inline" id="math65-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>p</mml:mtext>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> is Z and <inline-formula id="inline-formula53-0959651811430800">
<mml:math display="inline" id="math66-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>e</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>d</mml:mtext>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> is N, then <inline-formula id="inline-formula54-0959651811430800">
<mml:math display="inline" id="math67-0959651811430800">
<mml:mrow>
<mml:mi>u</mml:mi>
</mml:mrow>
</mml:math></inline-formula> is PS. This rule indicates that the process has overreached the set-point during the transience. Applying a large <italic>K</italic><sub>u</sub> combined with the main fuzzy controller will make the process return to the set-point quickly and smoothly. The membership functions and rule table of the output signal of the fuzzy switching gain value are depicted in <xref ref-type="fig" rid="fig10-0959651811430800">Figure 10</xref> and represented in <xref ref-type="table" rid="table2-0959651811430800">Table 2</xref>.</p>
<fig id="fig10-0959651811430800" position="float">
<label>Figure 10.</label>
<caption>
<p>The membership function of the output signal for fuzzy switching gain value.</p>
<p>Z: zero; PS: positive small; PM: positive medium; PB: positive big.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig10.tif"/>
</fig>
<table-wrap id="table2-0959651811430800" position="float">
<label>Table 2.</label>
<caption>
<p>Rule table of the fuzzy switching gain.</p>
</caption>
<graphic alternate-form-of="table2-0959651811430800" xlink:href="10.1177_0959651811430800-table2.tif"/>
<table>
<colgroup>
<col align="left"/>
<col align="left"/>
<col align="left"/>
<col align="left"/>
<col align="left"/>
<col align="left"/>
</colgroup>
<thead>
<tr>
<th align="left"><italic>e</italic><sub>d<italic>i</italic></sub></th>
<th align="left" colspan="5"><italic>e</italic><sub>p<italic>i</italic></sub></th>
</tr>
<tr>
<th/>
<th align="left">NB</th>
<th align="left">NS</th>
<th align="left">Z</th>
<th align="left">PS</th>
<th align="left">PB</th>
</tr>
</thead>
<tbody>
<tr>
<td>N</td>
<td>PB</td>
<td>PS</td>
<td>PS</td>
<td>PS</td>
<td>Z</td>
</tr>
<tr>
<td>Z</td>
<td>PS</td>
<td>PM</td>
<td>Z</td>
<td>PM</td>
<td>PS</td>
</tr>
<tr>
<td>P</td>
<td>Z</td>
<td>PS</td>
<td>PS</td>
<td>PS</td>
<td>PB</td>
</tr>
</tbody>
</table>
<table-wrap-foot>
<fn id="table-fn2-0959651811430800">
<p>NB: negative big; NS: negative small; Z: zero; PS: positive small; PB: positive big.</p>
</fn>
</table-wrap-foot>
</table-wrap>
<p>To summarize this section, the control system combining the fuzzy controller and fuzzy switching gain value algorithm is illustrated in <xref ref-type="fig" rid="fig11-0959651811430800">Figure 11</xref>, where <inline-formula id="inline-formula55-0959651811430800">
<mml:math display="inline" id="math68-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>X</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>s</mml:mtext>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> and <inline-formula id="inline-formula56-0959651811430800">
<mml:math display="inline" id="math69-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi>X</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>c</mml:mtext>
<mml:mi>i</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> represent the reference and current value of orientation of the 2D face template in a frame of the camera, respectively.</p>
<fig id="fig11-0959651811430800" position="float">
<label>Figure 11.</label>
<caption>
<p>Control block diagram of the fuzzy controller combined with the fuzzy switching gain.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig11.tif"/>
</fig>
<p>It is well known that there is time consumed in calculating the image processing, the main fuzzy controller algorithm and the fuzzy switching gain. Moreover, as discussed in the Introduction, the face template used in this research is generated to move at a constant speed. Hence, a Kalman filter is applied to compensate for this weakness and predict the next position of the face.</p>
</sec>
<sec id="section7-0959651811430800">
<title>Kalman filter</title>
<p>The Kalman filter is a set of mathematical equations that provides an efficient computational (recursive) means to estimate and predict the next state process, and it has a good convergence performance in a way that minimizes the mean of the squared error.<sup><xref ref-type="bibr" rid="bibr16-0959651811430800">16</xref>,<xref ref-type="bibr" rid="bibr17-0959651811430800">17</xref></sup></p>
<p>The factors predicted in this paper are the <italic>x</italic> and <italic>y</italic> coordinates of the face in the webcam. The necessary state equation, transition matrix and measurement matrix of the Kalman filter are derived as follows</p>
<p>
<disp-formula id="disp-formula14-0959651811430800">
<label>(14)</label>
<mml:math display="block" id="math70-0959651811430800">
<mml:mrow>
<mml:mtable>
<mml:mtr>
<mml:mtd columnalign="right">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">X</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>k</mml:mi>
<mml:mo>+</mml:mo>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
</mml:mrow>
<mml:mo>=</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">AX</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>k</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>+</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">G</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>w</mml:mtext>
<mml:mi>k</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">Y</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>k</mml:mi>
<mml:mo>+</mml:mo>
<mml:mn>1</mml:mn>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">HX</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>k</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>+</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">ς</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi mathvariant="bold">k</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mtd>
</mml:mtr>
</mml:mtable>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula14-0959651811430800" xlink:href="10.1177_0959651811430800-eq14.tif"/></disp-formula>
</p>
<p>where <bold>X, Y, A</bold> and <bold>H</bold> are the state vector, output vector, transition matrix and measurement matrix of the system</p>
<p>
<disp-formula id="disp-formula15-0959651811430800">
<label>(15)</label>
<mml:math display="block" id="math71-0959651811430800">
<mml:mrow>
<mml:mtable>
<mml:mtr>
<mml:mtd columnalign="left">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">X</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>k</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:msub>
<mml:mrow>
<mml:mi>x</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>k</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mspace width="0.50em"/>
<mml:msub>
<mml:mrow>
<mml:mi>y</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>k</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mspace width="0.50em"/>
<mml:msub>
<mml:mrow>
<mml:mover>
<mml:mi>x</mml:mi>
<mml:mo>·</mml:mo>
</mml:mover>
</mml:mrow>
<mml:mi>k</mml:mi>
</mml:msub>
<mml:msub>
<mml:mrow>
<mml:mover>
<mml:mi>y</mml:mi>
<mml:mo>·</mml:mo>
</mml:mover>
</mml:mrow>
<mml:mi>k</mml:mi>
</mml:msub>
<mml:mo>]</mml:mo>
</mml:mrow>
<mml:mo>,</mml:mo>
<mml:mspace width="0.50em"/>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">Y</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi>k</mml:mi>
</mml:mrow>
</mml:msub>
<mml:mo>=</mml:mo>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:msub>
<mml:mi>x</mml:mi>
<mml:mi>k</mml:mi>
</mml:msub>
<mml:mspace width="0.50em"/>
<mml:msub>
<mml:mi>y</mml:mi>
<mml:mi>k</mml:mi>
</mml:msub>
<mml:mo>]</mml:mo>
</mml:mrow>
</mml:mrow>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd>
<mml:mrow>
<mml:mi mathvariant="bold">A</mml:mi>
<mml:mo>=</mml:mo>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mtable align="left">
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>1</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
</mml:mtr>
</mml:mtable>
<mml:mo>]</mml:mo>
</mml:mrow>
<mml:mo>,</mml:mo>
<mml:mspace width="0.50em"/>
<mml:mi mathvariant="bold">H</mml:mi>
<mml:mo>=</mml:mo>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mtable align="left">
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
</mml:mtable>
<mml:mo>]</mml:mo>
</mml:mrow>
</mml:mrow>
</mml:mtd>
</mml:mtr>
</mml:mtable>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula15-0959651811430800" xlink:href="10.1177_0959651811430800-eq15.tif"/>
</disp-formula>
</p>
<p>According to Welch and Bishop<sup><xref ref-type="bibr" rid="bibr18-0959651811430800">18</xref></sup><inline-formula id="inline-formula57-0959651811430800">
<mml:math display="inline" id="math72-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">G</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mtext>w</mml:mtext>
<mml:mi>k</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> and <inline-formula id="inline-formula58-0959651811430800">
<mml:math display="inline" id="math73-0959651811430800">
<mml:mrow>
<mml:msub>
<mml:mrow>
<mml:mi mathvariant="bold">ς</mml:mi>
</mml:mrow>
<mml:mrow>
<mml:mi mathvariant="bold">k</mml:mi>
</mml:mrow>
</mml:msub>
</mml:mrow>
</mml:math></inline-formula> are very small and can be assumed to be zero. The initial setting for the process noise covariance matrix, measurement noise covariance matrix and the error covariance matrix are</p>
<p>
<disp-formula id="disp-formula16-0959651811430800">
<label>(16)</label>
<mml:math display="block" id="math74-0959651811430800">
<mml:mrow>
<mml:mtable align="left">
<mml:mtr>
<mml:mtd columnalign="left">
<mml:mrow>
<mml:mi mathvariant="bold">Q</mml:mi>
<mml:mo>=</mml:mo>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mtable align="left">
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
</mml:mtr>
</mml:mtable>
<mml:mo>]</mml:mo>
</mml:mrow>
</mml:mrow>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="left">
<mml:mrow>
<mml:mi mathvariant="bold">R</mml:mi>
<mml:mo>=</mml:mo>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mtable align="left">
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>1</mml:mn>
</mml:mtd>
</mml:mtr>
</mml:mtable>
<mml:mo>]</mml:mo>
</mml:mrow>
</mml:mrow>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="left">
<mml:mrow>
<mml:mi mathvariant="bold">P</mml:mi>
<mml:mo>=</mml:mo>
<mml:mrow>
<mml:mo>[</mml:mo>
<mml:mtable align="left">
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>01</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>011</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>01</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
</mml:mtr>
<mml:mtr>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
</mml:mtd>
<mml:mtd columnalign="center">
<mml:mn>0</mml:mn>
<mml:mo>.</mml:mo>
<mml:mn>011</mml:mn>
</mml:mtd>
</mml:mtr>
</mml:mtable>
<mml:mo>]</mml:mo>
</mml:mrow>
</mml:mrow>
</mml:mtd>
</mml:mtr>
</mml:mtable>
</mml:mrow>
</mml:math>
<graphic alternate-form-of="disp-formula16-0959651811430800" xlink:href="10.1177_0959651811430800-eq16.tif"/>
</disp-formula>
</p>
<p>The time update and the measurement update are described in Welch and Bishop.<sup><xref ref-type="bibr" rid="bibr18-0959651811430800">18</xref></sup></p>
</sec>
<sec id="section8-0959651811430800">
<title>Experiments</title>
<p>The experimental setup used in this study is shown in <xref ref-type="fig" rid="fig12-0959651811430800">Figure 12</xref>. The template for the photograph of the face attached to a robotic system was applied to generate a specific trajectory similar to the movement of a jogger’s face when exercising. This 2D trajectory was described using the image coordinates <italic>x</italic> and <italic>y</italic> and the rotation angle, as shown in <xref ref-type="fig" rid="fig6-0959651811430800">Figure 6</xref>.</p>
<fig id="fig12-0959651811430800" position="float">
<label>Figure 12.</label>
<caption>
<p>The experimental setup.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig12.tif"/>
</fig>
<p>The trajectory was generated by a small robot arm with three attached, as shown in <xref ref-type="fig" rid="fig13-0959651811430800">Figure 13</xref>. Initially, the angle of two links of the emulation system were at 0° and 130°, the operation of these two links is described by the direction of the arrows in <xref ref-type="fig" rid="fig13-0959651811430800">Figure 13</xref>. The industrial robot uses the camera attached at its end-effecter to track the movement of the face to ensure that it is always at the center of the camera image and that its angle (orientation) is 0°. The speed of the movement of the face was approximately 4 deg/s based on a 30 fps camera. During jogging, the angle of the face did not change rapidly, so a Kalman filter was applied to predict the position <italic>x, y</italic> of the face. The overall control block diagram for the system is presented in <xref ref-type="fig" rid="fig14-0959651811430800">Figure 14</xref> with <italic>X</italic><sub>setpoint</sub> = 320 pixels, <italic>Y</italic><sub>setpoint</sub> = 240 pixels and angle_set-point = 0°. The overall control strategy was the combination of the Kalman filter, the fuzzy controller and the fuzzy switching gain value.</p>
<fig id="fig13-0959651811430800" position="float">
<label>Figure 13.</label>
<caption>
<p>The moving profile of the face, as read by an encoder generated by the emulation arm system.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig13.tif"/>
</fig>
<fig id="fig14-0959651811430800" position="float">
<label>Figure 14.</label>
<caption>
<p>The fuzzy controller combined with the fuzzy switching gain value and Kalman filter algorithm.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig14.tif"/>
</fig>
<p>The algorithm used in the experiment to track the movement of the face is described in <xref ref-type="fig" rid="fig15-0959651811430800">Figure 15</xref>. The system used a multitasking approach to ensure real-time implementation. First, a small but feature-characteristic region on the face was chosen automatically. Since it is time-consuming to perform image processing and control law calculation for each sampled time, and to ensure real-time tracking, the controller and the command for the robot by the controller are executed at the same time that the image processing is being implemented. Moreover, the webcam must always be able to track the template such that reinitializing the webcam task is also applied in the algorithm. Further information on the closed-loop stability of the applied fuzzy control system shown in <xref ref-type="fig" rid="fig14-0959651811430800">Figure 14</xref>, can be found in the literature.<sup><xref ref-type="bibr" rid="bibr19-0959651811430800">19</xref><xref ref-type="bibr" rid="bibr20-0959651811430800"/>–<xref ref-type="bibr" rid="bibr21-0959651811430800">21</xref></sup></p>
<fig id="fig15-0959651811430800" position="float">
<label>Figure 15.</label>
<caption>
<p>Tracking flowchart.ESM: efficient second-order minimization.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig15.tif"/>
</fig>
<p>The profile of the face during the tracking process is described in <xref ref-type="fig" rid="fig16-0959651811430800">Figures 16</xref> and <xref ref-type="fig" rid="fig17-0959651811430800">17</xref>. In these figures, the Kalman filter is also applied to reduce the noise and the error of each interval in the <italic>x</italic> and <italic>y</italic> coordinates.</p>
<fig id="fig16-0959651811430800" position="float">
<label>Figure 16.</label>
<caption>
<p>The movement profile of the face in the <italic>x-</italic> direction during the tracking process.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig16.tif"/>
</fig>
<fig id="fig17-0959651811430800" position="float">
<label>Figure 17.</label>
<caption>
<p>The movement profile of the face in the <italic>y-</italic>direction during the tracking process.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig17.tif"/>
</fig>
<p>During jogging the jogger changes the position of their face meaning that the angle of the face with respect to the vertical axis is not always 0°. The emulating system creates the angle of the face as a reference. The rotation angle of the face during the tracking process is shown in <xref ref-type="fig" rid="fig18-0959651811430800">Figure 18</xref>.</p>
<fig id="fig18-0959651811430800" position="float">
<label>Figure 18.</label>
<caption>
<p>The rotation angle of the face during the tracking process.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig18.tif"/>
</fig>
<p>Applying the tracking flowchart shown in <xref ref-type="fig" rid="fig15-0959651811430800">Figure 15</xref> allows the industrial robot to move the center of the camera to the center of the face and reduce the rotation angle of the face with the vertical line to zero. The error results of each link are plotted in <xref ref-type="fig" rid="fig19-0959651811430800">Figures 19</xref> to <xref ref-type="fig" rid="fig21-0959651811430800">21</xref>. The combination of the ESM algorithm, the fuzzy controller and the fuzzy switch changing value enables the system to track a moving face in real-time and show a fast response with a changing position and orientation of the face. Within 2 s, the errors decrease quickly to approximately 10 pixels in the <italic>x</italic> and <italic>y</italic> directions (approximately 2 mm) and approximately 2° in rotational angle. Because the distance between the face and the LCD is 1 m, these errors are acceptable because the view angle is still in the eyeball range.</p>
<fig id="fig19-0959651811430800" position="float">
<label>Figure 19.</label>
<caption>
<p>The error between the face and the center of the camera in the <italic>x-</italic>direction.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig19.tif"/>
</fig>
<fig id="fig20-0959651811430800" position="float">
<label>Figure 20.</label>
<caption>
<p>The error between the face and the center of the camera in the <italic>y-</italic>direction.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig20.tif"/>
</fig>
<fig id="fig21-0959651811430800" position="float">
<label>Figure 21.</label>
<caption>
<p>The error between the angle of the face and the angle of the camera.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig21.tif"/>
</fig>
<p>The changing value during the tracking process of the gain factor of each link is plotted in <xref ref-type="fig" rid="fig22-0959651811430800">Figures 22</xref> and <xref ref-type="fig" rid="fig23-0959651811430800">23</xref>.</p>
<fig id="fig22-0959651811430800" position="float">
<label>Figure 22.</label>
<caption>
<p>The gain tuning value of link 1.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig22.tif"/>
</fig>
<fig id="fig23-0959651811430800" position="float">
<label>Figure 23.</label>
<caption>
<p>The gain tuning value of link 2.</p>
</caption>
<graphic xlink:href="10.1177_0959651811430800-fig23.tif"/>
</fig>
<p>
<xref ref-type="fig" rid="fig22-0959651811430800">Figures 22</xref> and <xref ref-type="fig" rid="fig23-0959651811430800">23</xref> show that, based on the error and change rate of the error of each link, the gain parameters always change their value at each sampling time such that the response to the system is fast, shown at a time of 47 s for link 1. At this time, the negative error (NB) in the <italic>x-</italic> direction in <xref ref-type="fig" rid="fig19-0959651811430800">Figure 19</xref> shows that the process has overreached the set-point significantly, and the process has the tendency to return to the set-point (P) so that the output of the fuzzy controller is very large (PB). Because the output of the fuzzy controller is sufficient, the output of the gain value must be small enough to ensure that the process returns to the set-point smoothly. In this case, the output value of the gain is switched to the small value (Z), as shown in <xref ref-type="fig" rid="fig22-0959651811430800">Figure 22</xref> at time 47 s, of approximately 0.21.</p>
</sec>
<sec id="section9-0959651811430800" sec-type="conclusions">
<title>Conclusions</title>
<p>In this paper, based on the matrix output of the ESM algorithm, a fuzzy controller combined with fuzzy switching gain value is applied to command an industrial robot to track the movement of a face. A Kalman filter is also implemented to predict the position of the face in real-time. The tracking camera–robot system can produce synchronous motion with the moving face in a short period of time. The average error is only 2% in the x direction, 4.7% in the y direction and 1.2% in the angle. These errors will not make the jogger feel uncomfortable because the picture is still within the normal range of his/her eyes, so these errors are acceptable in this application. The system is easy to implement in a real complex environment with a structured eye-in-hand system.</p>
<p>The techniques developed herein will be implemented on treadmills on which an entertainment LCD panel is installed. The LCD panel will move itself synchronously with the face of the jogger during exercise, which will help the jogger to watch a program on the relatively stationary LCD screen.</p>
</sec>
</body>
<back>
<fn-group>
<fn fn-type="financial-disclosure">
<label>Funding</label>
<p>The authors are grateful to the financial support from the National Science Council of Republic of China under the grant number: NSC98-2221-E-011-081-MY3.</p>
</fn>
</fn-group>
<ref-list>
<title>References</title>
<ref id="bibr1-0959651811430800">
<label>1.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>William</surname><given-names>J</given-names></name>
<name><surname>Hulls</surname><given-names>CCW</given-names></name>
<name><surname>Bell</surname><given-names>GS</given-names></name>
</person-group>. <article-title>Relative end-effector control using Cartesian position based visual servoing</article-title>. <source>IEEE Trans Robot Autom</source> <year>1996</year>; <volume>12</volume>: <fpage>684</fpage>–<lpage>696</lpage>.</citation>
</ref>
<ref id="bibr2-0959651811430800">
<label>2.</label>
<citation citation-type="confproc">
<person-group person-group-type="author">
<name><surname>Xue</surname><given-names>Z</given-names></name>
<name><surname>Kasper</surname><given-names>A</given-names></name>
<name><surname>Zoellner</surname><given-names>JM</given-names></name>
<etal/>
</person-group>. <article-title>An automatic grasp planning system for service robots</article-title>. In: <conf-name>International conference on advanced robotics</conf-name>, <conf-loc>Munich</conf-loc>, <year>2009</year>, pp. <fpage>1</fpage>–<lpage>6</lpage>. <publisher-loc>Piscataway, NJ</publisher-loc>: <publisher-name>IEEE Press</publisher-name>.</citation>
</ref>
<ref id="bibr3-0959651811430800">
<label>3.</label>
<citation citation-type="book">
<person-group person-group-type="author">
<name><surname>Hunt</surname><given-names>AE</given-names></name>
<name><surname>Sanderson</surname><given-names>AC</given-names></name>
</person-group>. <article-title>Vision-based predictive tracking of a moving target</article-title>. <comment>Technical Report CMU-RI-TR-82-15</comment>, <publisher-name>Carnegie Mellon University</publisher-name>, <publisher-loc>USA</publisher-loc>, <month>January</month> <year>1982</year>.</citation>
</ref>
<ref id="bibr4-0959651811430800">
<label>4.</label>
<citation citation-type="confproc">
<person-group person-group-type="author">
<name><surname>Luo</surname><given-names>RC</given-names></name>
<name><surname>Mullen</surname><given-names>RE</given-names></name>
<name><surname>Wessel</surname><given-names>DE</given-names></name>
</person-group>. <article-title>An adaptive robotics tracking system using optical flow</article-title>. In: <conf-name>IEEE international conference on robotics and automation</conf-name>, <conf-loc>Philadelphia, USA</conf-loc>, <year>1988</year>, pp.<fpage>568</fpage>–<lpage>573</lpage>. <publisher-loc>Piscataway NJ</publisher-loc>: <publisher-name>IEEE Press</publisher-name>.</citation>
</ref>
<ref id="bibr5-0959651811430800">
<label>5.</label>
<citation citation-type="confproc">
<person-group person-group-type="author">
<name><surname>Li</surname><given-names>P</given-names></name>
<name><surname>Chaumette</surname><given-names>F</given-names></name>
<name><surname>Tahri</surname><given-names>O</given-names></name>
</person-group>. <article-title>A shape tracking algorithm for visual servoing</article-title>. In: <conf-name>IEEE international conference on robotics and automation</conf-name>, <conf-loc>Barcelona, Spain</conf-loc>, <month>April</month> <year>2005</year>, pp. <fpage>2847</fpage>–<lpage>2852</lpage>. <publisher-loc>Piscataway NJ</publisher-loc>: <publisher-name>IEEE Press</publisher-name>.</citation>
</ref>
<ref id="bibr6-0959651811430800">
<label>6.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Tahri</surname><given-names>O</given-names></name>
<name><surname>Mezouar</surname><given-names>Y</given-names></name>
</person-group>. <article-title>On visual servoing based on efficient second order minimization</article-title>. <source>Robot Auton Syst</source> <year>2010</year>; <volume>58</volume>: <fpage>712</fpage>–<lpage>719</lpage>.</citation>
</ref>
<ref id="bibr7-0959651811430800">
<label>7.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Benhimane</surname><given-names>S</given-names></name>
<name><surname>Malis</surname><given-names>E</given-names></name>
</person-group>. <article-title>Homography-based 2D visual tracking and servoing</article-title>. <source>Int J Robot Res</source> <year>2007</year>; <volume>26</volume>: <fpage>661</fpage>–<lpage>676</lpage>.</citation>
</ref>
<ref id="bibr8-0959651811430800">
<label>8.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Tung</surname><given-names>PC</given-names></name>
<name><surname>Fan</surname><given-names>SN</given-names></name>
</person-group>. <article-title>Application of fuzzy on-line self-adaptive controller for a contour tracking robot on unknown contours</article-title>. <source>Fuzzy Sets Syst</source> <year>1996</year>; <volume>82</volume>: <fpage>17</fpage>–<lpage>25</lpage>.</citation>
</ref>
<ref id="bibr9-0959651811430800">
<label>9.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Mei</surname><given-names>F</given-names></name>
<name><surname>Man</surname><given-names>Z</given-names></name>
<name><surname>Nguyen</surname><given-names>T</given-names></name>
</person-group>. <article-title>Fuzzy modeling and tracking control of nonlinear systems</article-title>. <source>Math Comput Modell</source> <year>2001</year>; <volume>33</volume>: <fpage>759</fpage>–<lpage>770</lpage>.</citation>
</ref>
<ref id="bibr10-0959651811430800">
<label>10.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Su</surname><given-names>YX</given-names></name>
<name><surname>Zheng</surname><given-names>CH</given-names></name>
<name><surname>Duan</surname><given-names>BY</given-names></name>
</person-group>. <article-title>Fuzzy learning tracking of a parallel cable manipulator</article-title>. <source>Mechatronics</source> <year>2005</year>; <volume>15</volume>: <fpage>731</fpage>–<lpage>746</lpage>.</citation>
</ref>
<ref id="bibr11-0959651811430800">
<label>11.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Parrilla</surname><given-names>E</given-names></name>
<name><surname>Riera</surname><given-names>J</given-names></name>
<name><surname>Torregrosa</surname><given-names>HR</given-names></name>
</person-group>. <article-title>Fuzzy control for obstacle detection in object tracking</article-title>. <source>Math Comput Modell</source> <year>2010</year>; <volume>52</volume>: <fpage>1228</fpage>–<lpage>1236</lpage>.</citation>
</ref>
<ref id="bibr12-0959651811430800">
<label>12.</label>
<citation citation-type="web">
<comment>OpenCV library 2.0, <ext-link ext-link-type="uri" xlink:href="http://sourceforge.net/projects/opencvlibrary/files/openvc-win/2.0/">http://sourceforge.net/projects/opencvlibrary/files/openvc-win/2.0/</ext-link></comment> (<access-date>accessed May 2010</access-date>).</citation>
</ref>
<ref id="bibr13-0959651811430800">
<label>13.</label>
<citation citation-type="confproc">
<person-group person-group-type="author">
<name><surname>Malis</surname><given-names>E</given-names></name>
</person-group>. <article-title>Improving vision-based control using efficient second-order minimization techniques</article-title>. In: <conf-name>IEEE international conference on robotics and automation</conf-name>, <conf-loc>New Orleans, LA</conf-loc>, <conf-date>April 2004</conf-date>, pp.<fpage>1843</fpage>–<lpage>1848</lpage>. <publisher-loc>Piscataway NJ</publisher-loc>: <publisher-name>IEEE Press</publisher-name>.</citation>
</ref>
<ref id="bibr14-0959651811430800">
<label>14.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Mudi</surname><given-names>RK</given-names></name>
<name><surname>Pal</surname><given-names>NR</given-names></name>
</person-group>. <article-title>A robust self-tuning scheme for PI-and PD-type fuzzy controller</article-title>. <source>IEEE Trans Fuzzy Syst</source> <year>1999</year>; <volume>7</volume>: <fpage>2</fpage>–<lpage>16</lpage>.</citation>
</ref>
<ref id="bibr15-0959651811430800">
<label>15.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Jung</surname><given-names>CH</given-names></name>
<name><surname>Ham</surname><given-names>CS</given-names></name>
<name><surname>Lee</surname><given-names>KI</given-names></name>
</person-group>. <article-title>A real-time self-tuning fuzzy controller through scaling factor adjustment for the steam generator of NPP</article-title>. <source>Fuzzy Sets Syst</source> <year>1995</year>; <volume>74</volume>: <fpage>53</fpage>–<lpage>60</lpage>.</citation>
</ref>
<ref id="bibr16-0959651811430800">
<label>16.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Daniilidis</surname><given-names>K</given-names></name>
<name><surname>Krauss</surname><given-names>C</given-names></name>
<name><surname>Hansen</surname><given-names>M</given-names></name><etal/>
</person-group>. <article-title>Real-time tracking of moving objects with an active camera</article-title>. <source>Real-Time Imaging</source> <year>1998</year>; <volume>4</volume>: <fpage>3</fpage>–<lpage>20</lpage>.</citation>
</ref>
<ref id="bibr17-0959651811430800">
<label>17.</label>
<citation citation-type="confproc">
<person-group person-group-type="author">
<name><surname>Piepmeier</surname><given-names>JA</given-names></name>
<name><surname>McMuray</surname><given-names>GV</given-names></name>
<name><surname>Lipkin</surname><given-names>H</given-names></name>
</person-group>. <article-title>Tracking moving target with model independent visual servoing: a predictive estimate approach</article-title>. In: <conf-name>IEEE international conference on intelligent robot and system</conf-name>, <conf-loc>Leuven, Belgium</conf-loc>, <year>1998</year>, pp.<fpage>2652</fpage>–<lpage>2657</lpage>. <publisher-loc>Piscataway NJ</publisher-loc>: <publisher-name>IEEE Press</publisher-name>.</citation>
</ref>
<ref id="bibr18-0959651811430800">
<label>18.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Welch</surname><given-names>G</given-names></name>
<name><surname>Bishop</surname><given-names>G</given-names></name>
</person-group>. <article-title>An introduction to the Kalman filter</article-title>. <comment>Report, Department of Computer Science, University of North Carolina at Chapel Hill, Chapel Hill, NC 27599-3175</comment>, <month>July</month> <year>2006</year>.</citation>
</ref>
<ref id="bibr19-0959651811430800">
<label>19.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Kandel</surname><given-names>A</given-names></name>
<name><surname>Luo</surname><given-names>Y</given-names></name>
<name><surname>Zhang</surname><given-names>YQ</given-names></name>
</person-group>. <article-title>Stability analysis of fuzzy control systems</article-title>. <source>Fuzzy Sets Syst</source> <year>1999</year>; <volume>105</volume>; <fpage>33</fpage>–<lpage>48</lpage>.</citation>
</ref>
<ref id="bibr20-0959651811430800">
<label>20.</label>
<citation citation-type="journal">
<person-group person-group-type="author">
<name><surname>Hans</surname><given-names>B</given-names></name>
<name><surname>Silvio</surname><given-names>H</given-names></name>
</person-group>. <article-title>A fuzzy approach to stability of fuzzy controllers</article-title>. <source>Fuzzy Sets Syst</source> <year>1998</year>; <volume>96</volume>: <fpage>161</fpage>–<lpage>172</lpage>.</citation>
</ref>
<ref id="bibr21-0959651811430800">
<label>21.</label>
<citation citation-type="confproc">
<person-group person-group-type="author">
<name><surname>Lo</surname><given-names>JC</given-names></name>
<name><surname>Lin</surname><given-names>ML</given-names></name>
</person-group>. <article-title>Fuzzy stability analysis using interlacing condition</article-title>. In: <conf-name>The 10th IEEE international conference on fuzzy systems</conf-name>, <conf-loc>Melbourne, Australia</conf-loc>, <year>2001</year>, pp. <fpage>634</fpage>–<lpage>637</lpage>. <publisher-loc>Piscataway NJ</publisher-loc>: <publisher-name>IEEE Press</publisher-name>.</citation>
</ref>
</ref-list>
</back>
</article>